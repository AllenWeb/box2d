function n(){return function(){}}function aa(a){return function(c){this[a]=c}}function p(a){return function(){return this[a]}}function t(a){return function(){return a}}var u,z=this;function ba(){}
function ca(a){var c=typeof a;if(c=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(c=="function"&&typeof a.call=="undefined")return"object";return c}function da(a){if(a.hasOwnProperty&&a.hasOwnProperty(ea))return a[ea];a[ea]||(a[ea]=++ha);return a[ea]}var ea="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ha=0;
function ia(a,c){var b=c||z;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}else return function(){return a.apply(b,arguments)}}function C(a,c){function b(){}b.prototype=c.prototype;a.ve=c.prototype;a.prototype=new b};function ja(a){this.stack=Error().stack||"";if(a)this.message=String(a)}C(ja,Error);function ka(a){for(var c=1;c<arguments.length;c++){var b=String(arguments[c]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,b)}return a}
function na(a,c){for(var b=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(c).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;b==0&&g<f;g++){var h=d[g]||"",i=e[g]||"",j=RegExp("(\\d*)(\\D*)","g"),k=RegExp("(\\d*)(\\D*)","g");do{var l=j.exec(h)||["","",""],m=k.exec(i)||["","",""];if(l[0].length==0&&m[0].length==0)break;b=oa(l[1].length==0?0:parseInt(l[1],10),m[1].length==0?0:parseInt(m[1],10))||oa(l[2].length==0,m[2].length==0)||oa(l[2],m[2])}while(b==
0)}return b}function oa(a,c){if(a<c)return-1;else if(a>c)return 1;return 0};function pa(a,c){c.unshift(a);ja.call(this,ka.apply(null,c));c.shift();this.og=a}C(pa,ja);function qa(a,c){if(!a){var b=Array.prototype.slice.call(arguments,2),d="Assertion failed";if(c){d+=": "+c;var e=b}throw new pa(""+d,e||[]);}};var ra=Array.prototype,sa=ra.indexOf?function(a,c,b){qa(a.length!=null);return ra.indexOf.call(a,c,b)}:function(a,c,b){b=b==null?0:b<0?Math.max(0,a.length+b):b;if(typeof a=="string"){if(typeof c!="string"||c.length!=1)return-1;return a.indexOf(c,b)}for(b=b;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1};var ta=[];function ua(){}ua.prototype.Ne=false;ua.prototype.ld=function(){if(!this.Ne){this.Ne=true;this.Ac()}};ua.prototype.Ac=n();var va;function wa(a,c){this.type=a;this.currentTarget=this.target=c}C(wa,ua);wa.prototype.Ac=function(){delete this.type;delete this.target;delete this.currentTarget};wa.prototype.se=false;wa.prototype.hf=true;wa.prototype.preventDefault=function(){this.hf=false};var xa,ya,za,Aa;function Ba(){return z.navigator?z.navigator.userAgent:null}Aa=za=ya=xa=false;var Ca;if(Ca=Ba()){var Da=z.navigator;xa=Ca.indexOf("Opera")==0;ya=!xa&&Ca.indexOf("MSIE")!=-1;za=!xa&&Ca.indexOf("WebKit")!=-1;Aa=!xa&&!za&&Da.product=="Gecko"}var Ea=xa,Fa=ya,Ga=Aa,Ha=za,Ia=z.navigator,Ja=(Ia&&Ia.platform||"").indexOf("Mac")!=-1,La,Ma="",Na;
if(Ea&&z.opera){var Oa=z.opera.version;Ma=typeof Oa=="function"?Oa():Oa}else{if(Ga)Na=/rv\:([^\);]+)(\)|;)/;else if(Fa)Na=/MSIE\s+([^\);]+)(\)|;)/;else if(Ha)Na=/WebKit\/(\S+)/;if(Na){var Pa=Na.exec(Ba());Ma=Pa?Pa[1]:""}}La=Ma;var Qa={};function Ra(a,c){a&&this.md(a,c)}C(Ra,wa);u=Ra.prototype;u.target=null;u.relatedTarget=null;u.offsetX=0;u.offsetY=0;u.clientX=0;u.clientY=0;u.screenX=0;u.screenY=0;u.button=0;u.keyCode=0;u.charCode=0;u.ctrlKey=false;u.altKey=false;u.shiftKey=false;u.metaKey=false;u.Xf=false;u.Xd=null;
u.md=function(a,c){var b=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(Ga)try{d=d.nodeName&&d}catch(e){d=null}}else if(b=="mouseover")d=a.fromElement;else if(b=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(b=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Xf=Ja?a.metaKey:a.ctrlKey;this.Xd=a;delete this.hf;delete this.se};var Sa=Fa&&!(Qa["8"]||(Qa["8"]=na(La,"8")>=0));
Ra.prototype.preventDefault=function(){Ra.ve.preventDefault.call(this);var a=this.Xd;if(a.preventDefault)a.preventDefault();else{a.returnValue=false;if(Sa)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(c){}}};Ra.prototype.Ac=function(){Ra.ve.Ac.call(this);this.relatedTarget=this.currentTarget=this.target=this.Xd=null};function Ta(){}var Ua=0;u=Ta.prototype;u.key=0;u.Pc=false;u.Je=false;u.md=function(a,c,b,d,e,f){if(ca(a)=="function")this.Pe=true;else if(a&&a.handleEvent&&ca(a.handleEvent)=="function")this.Pe=false;else throw Error("Invalid listener argument");this.pd=a;this.gf=c;this.src=b;this.type=d;this.capture=!!e;this.Oe=f;this.Je=false;this.key=++Ua;this.Pc=false};u.handleEvent=function(a){if(this.Pe)return this.pd.call(this.Oe||this.src,a);return this.pd.handleEvent.call(this.pd,a)};function D(a,c){this.df=c;this.Xb=[];if(a>this.df)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var b=0;b<a;b++)this.Xb.push(this.tb?this.tb():{})}C(D,ua);D.prototype.tb=null;D.prototype.Me=null;function Va(a){if(a.Xb.length)return a.Xb.pop();return a.tb?a.tb():{}}function Wa(a,c){a.Xb.length<a.df?a.Xb.push(c):Xa(a,c)}
function Xa(a,c){if(a.Me)a.Me(c);else{var b=ca(c);if(b=="object"||b=="array"||b=="function")if(ca(c.ld)=="function")c.ld();else for(var d in c)delete c[d]}}D.prototype.Ac=function(){D.ve.Ac.call(this);for(var a=this.Xb;a.length;)Xa(this,a.pop());delete this.Xb};var Ya;var Za=(Ya="ScriptEngine"in z&&z.ScriptEngine()=="JScript")?z.ScriptEngineMajorVersion()+"."+z.ScriptEngineMinorVersion()+"."+z.ScriptEngineBuildVersion():"0";var $a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb;
(function(){function a(){return{Db:0,Oc:0}}function c(){return[]}function b(){function m(o){return g.call(m.src,m.key,o)}return m}function d(){return new Ta}function e(){return new Ra}var f=Ya&&!(na(Za,"5.7")>=0),g;eb=function(m){g=m};if(f){$a=function(){return Va(h)};ab=function(m){Wa(h,m)};bb=function(){return Va(i)};cb=function(m){Wa(i,m)};db=function(){return Va(j)};fb=function(){Wa(j,b())};gb=function(){return Va(k)};hb=function(m){Wa(k,m)};ib=function(){return Va(l)};jb=function(m){Wa(l,m)};
var h=new D(0,600);h.tb=a;var i=new D(0,600);i.tb=c;var j=new D(0,600);j.tb=b;var k=new D(0,600);k.tb=d;var l=new D(0,600);l.tb=e}else{$a=a;ab=ba;bb=c;cb=ba;db=b;fb=ba;gb=d;hb=ba;ib=e;jb=ba}})();var kb=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];function E(a){for(var c,b,d=1;d<arguments.length;d++){b=arguments[d];for(c in b)a[c]=b[c];for(var e=0;e<kb.length;e++){c=kb[e];if(Object.prototype.hasOwnProperty.call(b,c))a[c]=b[c]}}};var lb={},F={},mb={},nb={};
function ob(a,c,b,d,e){if(c)if(ca(c)=="array"){for(var f=0;f<c.length;f++)ob(a,c[f],b,d,e);return null}else{d=!!d;var g=F;c in g||(g[c]=$a());g=g[c];if(!(d in g)){g[d]=$a();g.Db++}g=g[d];var h=da(a),i;g.Oc++;if(g[h]){i=g[h];for(f=0;f<i.length;f++){g=i[f];if(g.pd==b&&g.Oe==e){if(g.Pc)break;return i[f].key}}}else{i=g[h]=bb();g.Db++}f=db();f.src=a;g=gb();g.md(b,f,a,c,d,e);b=g.key;f.key=b;i.push(g);lb[b]=g;mb[h]||(mb[h]=bb());mb[h].push(g);if(a.addEventListener){if(a==z||!a.Pf)a.addEventListener(c,f,
d)}else a.attachEvent(pb(c),f);return b}else throw Error("Invalid event type");}function qb(a,c,b,d){if(!d.sd)if(d.ef){for(var e=0,f=0;e<d.length;e++)if(d[e].Pc){var g=d[e].gf;g.src=null;fb(g);hb(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.ef=false;if(f==0){cb(d);delete F[a][c][b];F[a][c].Db--;if(F[a][c].Db==0){ab(F[a][c]);delete F[a][c];F[a].Db--}if(F[a].Db==0){ab(F[a]);delete F[a]}}}}function pb(a){if(a in nb)return nb[a];return nb[a]="on"+a}
function rb(a,c,b,d,e){var f=1;c=da(c);if(a[c]){a.Oc--;a=a[c];if(a.sd)a.sd++;else a.sd=1;try{for(var g=a.length,h=0;h<g;h++){var i=a[h];if(i&&!i.Pc)f&=sb(i,e)!==false}}finally{a.sd--;qb(b,d,c,a)}}return Boolean(f)}
function sb(a,c){var b=a.handleEvent(c);if(a.Je){var d=a.key;if(lb[d]){var e=lb[d];if(!e.Pc){var f=e.src,g=e.type,h=e.gf,i=e.capture;if(f.removeEventListener){if(f==z||!f.Pf)f.removeEventListener(g,h,i)}else f.detachEvent&&f.detachEvent(pb(g),h);f=da(f);h=F[g][i][f];if(mb[f]){var j=mb[f],k=sa(j,e);if(k>=0){qa(j.length!=null);ra.splice.call(j,k,1)}j.length==0&&delete mb[f]}e.Pc=true;h.ef=true;qb(g,i,f,h);delete lb[d]}}}return b}
function tb(a,c){if(!lb[a])return true;var b=lb[a],d=b.type,e=F;if(!(d in e))return true;e=e[d];var f,g;if(va===undefined)va=Fa&&!z.addEventListener;if(va){var h;if(!(h=c))a:{h="window.event".split(".");for(var i=z;f=h.shift();)if(i[f])i=i[f];else{h=null;break a}h=i}f=h;h=true in e;i=false in e;if(h){if(f.keyCode<0||f.returnValue!=undefined)return true;a:{var j=false;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(k){j=true}if(j||f.returnValue==undefined)f.returnValue=true}}j=ib();j.md(f,this);f=true;
try{if(h){for(var l=bb(),m=j.currentTarget;m;m=m.parentNode)l.push(m);g=e[true];g.Oc=g.Db;for(var o=l.length-1;!j.se&&o>=0&&g.Oc;o--){j.currentTarget=l[o];f&=rb(g,l[o],d,true,j)}if(i){g=e[false];g.Oc=g.Db;for(o=0;!j.se&&o<l.length&&g.Oc;o++){j.currentTarget=l[o];f&=rb(g,l[o],d,false,j)}}}else f=sb(b,j)}finally{if(l){l.length=0;cb(l)}j.ld();jb(j)}return f}d=new Ra(c,this);try{f=sb(b,d)}finally{d.ld()}return f}eb(tb);ta[ta.length]=function(a){tb=a.pg(tb);eb(tb)};function ub(a,c){return a.x*c.x+a.y*c.y}function I(a,c){return new K(a.a.x*c.x+a.b.x*c.y,a.a.y*c.x+a.b.y*c.y)}function vb(a,c){return new K(a.x+c.x,a.y+c.y)}function wb(a,c){return new K(a.x-c.x,a.y-c.y)}function L(a){return a>0?a:-a}function M(a,c){return a>c?a:c}function N(a,c,b){return M(c,a<b?a:b)};function K(a,c){if(a===undefined)a=0;this.x=a;if(c===undefined)c=0;this.y=c}u=K.prototype;u.va=function(){this.y=this.x=0};u.j=function(a,c){this.x=a;this.y=c};function O(a,c){a.x=c.x;a.y=c.y}u.ed=function(){return new K(this.x,this.y)};function P(a,c){a.x+=c.x;a.y+=c.y}function Q(a,c){a.x*=c;a.y*=c}function xb(a,c){var b=a.x;a.x=c.a.x*b+c.b.x*a.y;a.y=c.a.y*b+c.b.y*a.y}u.qc=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};function R(a){return Math.sqrt(a.x*a.x+a.y*a.y)}
u.Tc=function(){return isFinite(this.x)&&isFinite(this.y)};function S(){this.G=new K;this.C=new K}S.prototype.Tc=function(){var a=this.C.x,c=this.C.y;a=this.C.x;c=this.C.y;a-=this.G.x;c-=this.G.y;return a=(a=a>=0&&c>=0)&&this.G.Tc()&&this.C.Tc()};function yb(){}yb.prototype={Xa:null,ae:null,be:0};function T(){}T.prototype={xa:null,La:null,r:null,next:null};function zb(){}zb.prototype={Vd:null,Wd:null,re:null};function Ab(a,c){this.p=new T;this.q=new T;this.A=0;if(!a||!c)this.M=this.L=null;else{this.L=a;this.M=c;this.Ha=0;this.la=Math.sqrt(this.L.la*this.M.la);this.na=M(this.L.na,this.M.na);this.o=this.D=null;this.p.La=null;this.p.r=null;this.p.next=null;this.p.xa=null;this.q.La=null;this.q.r=null;this.q.next=null;this.q.xa=null}}Ab.prototype={tc:t(null),uc:p("o"),Sc:n(),A:0,D:null,o:null,p:new T,q:new T,L:null,M:null,Ha:0,la:null,na:null};function Bb(){}Bb.prototype.De=t(null);Bb.prototype.Ee=n();function Cb(a,c){this.p=new T;this.q=new T;this.A=0;if(!a||!c)this.M=this.L=null;else{this.L=a;this.M=c;this.Ha=0;this.la=Math.sqrt(this.L.la*this.M.la);this.na=M(this.L.na,this.M.na);this.o=this.D=null;this.p.La=null;this.p.r=null;this.p.next=null;this.p.xa=null;this.q.La=null;this.q.r=null;this.q.next=null;this.q.xa=null}}C(Cb,Ab);Cb.prototype.Sc=n();Cb.prototype.tc=t(null);var Db=Math.PI,Eb=2/180*Db,Fb=8/180*Db,Gb=2/180/1;function Hb(){}Hb.prototype={Of:0,Lf:0,Mf:0,Kf:0,Nf:null};function Ib(){this.R=new Hb;this.R.Nf=this}Ib.prototype={j:function(a){this.ue(a.Ub)},ed:function(){var a=new Ib;a.ue(this.Ub);return a},ue:function(a){this.Ub=a;this.R.Of=this.Ub&255;this.R.Lf=(this.Ub&65280)>>8&255;this.R.Mf=(this.Ub&16711680)>>16&255;this.R.Kf=(this.Ub&4278190080)>>24&255},R:new Hb,Ub:0};function Jb(){this.position=new K;this.id=new Ib}Jb.prototype={mb:null,ra:null,ya:null};function Kb(){this.aa=Array(2);for(var a=0;a<2;a++)this.aa[a]=new Jb;this.F=new K}Kb.prototype={aa:null,F:null,U:0};function Lb(){this.Cb=new K;this.id=new Ib};function Mb(a,c,b,d){var e=0,f=c[0].Cb,g=c[1].Cb,h=ub(b,c[0].Cb)-d;b=ub(b,c[1].Cb)-d;if(h<=0)a[e++]=c[0];if(b<=0)a[e++]=c[1];if(h*b<0){b=h/(h-b);d=a[e].Cb;d.x=f.x+b*(g.x-f.x);d.y=f.y+b*(g.y-f.y);a[e].id=h>0?c[0].id:c[1].id;++e}return e}
function Nb(a,c,b){var d=a.v,e=b.Va,f=b.v,g=a.jb[c].x,h=a.jb[c].y,i=g,j=a.d;g=j.a.x*i+j.b.x*h;h=j.a.y*i+j.b.y*h;var k=g,l=h;j=b.d;i=k*j.a.x+l*j.a.y;l=k*j.b.x+l*j.b.y;k=i;i=0;j=Number.MAX_VALUE;for(var m=0;m<e;++m){var o=f[m];o=o.x*k+o.y*l;if(o<j){j=o;i=m}}j=a.d;e=a.c.x+(j.a.x*d[c].x+j.b.x*d[c].y);a=a.c.y+(j.a.y*d[c].x+j.b.y*d[c].y);j=b.d;c=b.c.x+(j.a.x*f[i].x+j.b.x*f[i].y);b=b.c.y+(j.a.y*f[i].x+j.b.y*f[i].y);c-=e;b-=a;return c*g+b*h}
function Ob(a,c,b,d){var e=c.Va,f=b.c.x-c.c.x,g=b.c.y-c.c.y,h=f*c.d.a.x+g*c.d.a.y;g=f*c.d.b.x+g*c.d.b.y;f=0;for(var i=-Number.MAX_VALUE,j=0;j<e;++j){var k=c.jb[j].x*h+c.jb[j].y*g;if(k>i){i=k;f=j}}h=Nb(c,f,b);if(h>0&&d==false)return h;j=f-1>=0?f-1:e-1;k=Nb(c,j,b);if(k>0&&d==false)return k;var l=f+1<e?f+1:0,m=Nb(c,l,b);if(m>0&&d==false)return m;i=g=0;if(k>h&&k>m){i=-1;g=j;j=k}else if(m>h){i=1;g=l;j=m}else{a[0]=f;return h}for(;;){f=i==-1?g-1>=0?g-1:e-1:g+1<e?g+1:0;h=Nb(c,f,b);if(h>0&&d==false)return h;
if(h>j){g=f;j=h}else break}a[0]=g;return j}var Pb=new K;function Qb(a,c){this.p=new T;this.q=new T;this.A=0;if(!a||!c)this.M=this.L=null;else{this.L=a;this.M=c;this.Ha=0;this.la=Math.sqrt(this.L.la*this.M.la);this.na=M(this.L.na,this.M.na);this.o=this.D=null;this.p.La=null;this.p.r=null;this.p.next=null;this.p.xa=null;this.q.La=null;this.q.r=null;this.q.next=null;this.q.xa=null;this.qa=[new Kb];this.qa[0].U=0;this.qa[0].aa[0].ra=0;this.qa[0].aa[0].ya=0}}E(Qb.prototype,Ab.prototype);
E(Qb.prototype,{Sc:function(){var a=this.qa[0],c=this.L,b=this.M;a.U=0;var d=b.c.x-c.c.x,e=b.c.y-c.c.y,f=d*d+e*e;c=c.ma+b.ma;if(!(f>c*c&&1)){if(f<Number.MIN_VALUE){f=-c;a.F.j(0,1)}else{var g=Math.sqrt(f);f=g-c;c=1/g;a.F.x=c*d;a.F.y=c*e}a.U=1;d=a.aa[0];d.id.ue(0);d.mb=f;d.position.x=b.c.x-b.ma*a.F.x;d.position.y=b.c.y-b.ma*a.F.y}this.Ha=this.qa[0].U>0?1:0},tc:p("qa"),qa:[new Kb]});function Rb(a,c){return new Qb(a,c)}function Sb(){};function Tb(a,c){this.p=new T;this.q=new T;this.A=0;if(!a||!c)this.M=this.L=null;else{this.L=a;this.M=c;this.Ha=0;this.la=Math.sqrt(this.L.la*this.M.la);this.na=M(this.L.na,this.M.na);this.o=this.D=null;this.p.La=null;this.p.r=null;this.p.next=null;this.p.xa=null;this.q.La=null;this.q.r=null;this.q.next=null;this.q.xa=null;this.qa=[new Kb];if(this.L.oa!=U)throw"Assert Failed!";if(this.M.oa!=Ub)throw"Assert Failed!";this.qa[0].U=0;this.qa[0].aa[0].ra=0;this.qa[0].aa[0].ya=0}}E(Tb.prototype,Ab.prototype);
E(Tb.prototype,{Sc:function(){a:{var a=this.qa[0],c=this.L,b=this.M;a.U=0;var d,e,f;e=b.c.x-c.c.x;f=b.c.y-c.c.y;var g=c.d,h=e*g.a.x+f*g.a.y;f=e*g.b.x+f*g.b.y;e=h;var i=0,j=-Number.MAX_VALUE;h=b.ma;for(d=0;d<c.Va;++d){var k=c.jb[d].x*(e-c.v[d].x)+c.jb[d].y*(f-c.v[d].y);if(k>h)break a;if(k>j){j=k;i=d}}if(j<Number.MIN_VALUE){a.U=1;f=c.jb[i];a.F.x=g.a.x*f.x+g.b.x*f.y;a.F.y=g.a.y*f.x+g.b.y*f.y;d=a.aa[0];d.id.R.Wc=i;d.id.R.Bc=255;d.id.R.Kd=255;d.id.R.Yd=0;d.position.x=b.c.x-h*a.F.x;d.position.y=b.c.y-h*
a.F.y;d.mb=j-h}else{i=i;j=i+1<c.Va?i+1:0;var l=c.v[j].x-c.v[i].x;k=c.v[j].y-c.v[i].y;var m=Math.sqrt(l*l+k*k);l/=m;k/=m;if(m<Number.MIN_VALUE){e=e-c.v[i].x;f=f-c.v[i].y;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>h)){a.U=1;a.F.j(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f);d=a.aa[0];d.id.R.Wc=255;d.id.R.Bc=i;d.id.R.Kd=255;d.id.R.Yd=0;d.position.x=b.c.x-h*a.F.x;d.position.y=b.c.y-h*a.F.y;d.mb=c-h}}else{var o=(e-c.v[i].x)*l+(f-c.v[i].y)*k;d=a.aa[0];d.id.R.Wc=255;d.id.R.Bc=255;d.id.R.Kd=255;d.id.R.Yd=0;if(o<=0){l=c.v[i].x;
c=c.v[i].y;d.id.R.Bc=i}else if(o>=m){l=c.v[j].x;c=c.v[j].y;d.id.R.Bc=j}else{l=l*o+c.v[i].x;c=k*o+c.v[i].y;d.id.R.Wc=i}e=e-l;f=f-c;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>h)){a.U=1;a.F.j(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f);d.position.x=b.c.x-h*a.F.x;d.position.y=b.c.y-h*a.F.y;d.mb=c-h}}}}this.Ha=this.qa[0].U>0?1:0},tc:p("qa"),qa:[new Kb]});function Vb(a,c){return new Tb(a,c)}function Wb(){};function Xb(a,c){this.p=new T;this.q=new T;this.A=0;if(!a||!c)this.M=this.L=null;else{this.L=a;this.M=c;this.Ha=0;this.la=Math.sqrt(this.L.la*this.M.la);this.na=M(this.L.na,this.M.na);this.o=this.D=null;this.p.La=null;this.p.r=null;this.p.next=null;this.p.xa=null;this.q.La=null;this.q.r=null;this.q.next=null;this.q.xa=null;this.ud=new Kb;this.qa=[new Kb];this.qa[0].U=0}}C(Xb,Ab);
Xb.prototype.Sc=function(){for(var a=this.qa[0],c=this.ud.aa,b=0;b<a.U;b++){var d=c[b],e=a.aa[b];d.ra=e.ra;d.ya=e.ya;d.id=e.id.ed()}this.ud.U=a.U;b=this.L;var f=this.M;var g=a.U=0;c=[g];d=Ob(c,b,f,false);g=c[0];if(!(d>0&&1)){var h=0;c=[h];var i=Ob(c,f,b,false);h=c[0];if(!(i>0&&1)){c=e=0;if(i>0.98*d+0.0010){d=f;i=b;e=h;c=1}else{d=b;i=f;e=g;c=0}b=[new Lb,new Lb];f=e;g=i;var j=d.v;i=g.Va;h=g.v;var k=j[f+1==d.Va?0:f+1],l=k.x,m=k.y;k=j[f];l-=k.x;m-=k.y;k=l;l=m;m=-k;k=1/Math.sqrt(l*l+m*m);l*=k;m*=k;l=l;
var o=m;k=l;j=d.d;l=j.a.x*k+j.b.x*o;o=j.a.y*k+j.b.y*o;m=l;l=o;j=g.d;k=m*j.a.x+l*j.a.y;l=m*j.b.x+l*j.b.y;m=k;o=j=0;for(var q=Number.MAX_VALUE,s=0;s<i;++s){var r=s,y=s+1<i?s+1:0;k=h[y];var w=k.x,v=k.y;k=h[r];w-=k.x;v-=k.y;k=w;w=v;v=-k;k=1/Math.sqrt(w*w+v*v);w*=k;v*=k;k=w*m+v*l;if(k<q){q=k;j=r;o=y}}i=b[0];k=i.Cb;O(k,h[j]);xb(k,g.d);P(k,g.c);i.id.R.Kd=f;i.id.R.Wc=j;i.id.R.Bc=j;i=b[1];k=i.Cb;O(k,h[o]);xb(k,g.d);P(k,g.c);i.id.R.Kd=f;i.id.R.Wc=j;i.id.R.Bc=o;f=d.v;k=f[e];m=e+1<d.Va?f[e+1]:f[0];g=m.x-k.x;
h=m.y-k.y;l=g;j=d.d;g=j.a.x*l+j.b.x*h;h=j.a.y*l+j.b.y*h;e=1/Math.sqrt(g*g+h*h);g*=e;h*=e;e=g;f=h;l=e;e=f;f=-l;i=k.x;o=k.y;l=i;j=d.d;i=j.a.x*l+j.b.x*o;o=j.a.y*l+j.b.y*o;i+=d.c.x;o+=d.c.y;k=m.x;m=m.y;l=k;j=d.d;k=j.a.x*l+j.b.x*m;m=j.a.y*l+j.b.y*m;k+=d.c.x;m+=d.c.y;d=e*i+f*o;l=-(g*i+h*o);k=g*k+h*m;m=[new Lb,new Lb];i=[new Lb,new Lb];j=0;Pb.j(-g,-h);j=Mb(m,b,Pb,l);if(!(j<2)){Pb.j(g,h);j=Mb(i,m,Pb,k);if(!(j<2)){c?a.F.j(-e,-f):a.F.j(e,f);for(g=b=0;g<2;++g){h=i[g].Cb;h=e*h.x+f*h.y-d;if(h<=0){k=a.aa[b];k.mb=
h;O(k.position,i[g].Cb);k.id.j(i[g].id);k.id.R.Yd=c;++b}}a.U=b}}}}if(a.U>0){c=[false,false];for(b=0;b<a.U;++b){d=a.aa[b];d.ra=0;d.ya=0;e=d.id.key;for(f=0;f<this.ud.U;++f)if(c[f]!=true){g=this.ud.aa[f];if(g.id.key==e){c[f]=true;d.ra=g.ra;d.ya=g.ya;break}}}this.Ha=1}else this.Ha=0};Xb.prototype.tc=p("qa");function Yb(a,c){return new Xb(a,c)}function Zb(){};function $b(a,c,b,d){V[b][d].Vd=a;V[b][d].Wd=c;V[b][d].re=true;if(b!=d){V[d][b].Vd=a;V[d][b].Wd=c;V[d][b].re=false}}var V=null,ac=false;function bc(a){this.Kc=new Cb;this.T=a;this.ee=false}C(bc,Bb);
bc.prototype.De=function(a,c){var b=a,d=c,e=b.t,f=d.t;if(e.Ae()&&f.Ae())return this.Kc;if(b.t==d.t)return this.Kc;if(f.yf(e))return this.Kc;if((b.ec==d.ec&&b.ec!=0?b.ec>0:(b.Za&d.Wa)!=0&&(b.Wa&d.Za)!=0)==false)return this.Kc;if(f.k==0){e=b;b=d;d=e}b=b;d=d;e=this.T.Xe;if(ac==false){V=Array(cc);for(f=0;f<cc;f++){V[f]=Array(cc);for(var g=0;g<cc;g++)V[f][g]=new zb}$b(Rb,Sb,Ub,Ub);$b(Vb,Wb,U,Ub);$b(Yb,Zb,U,U);ac=true}f=b.oa;g=d.oa;var h=V[f][g].Vd;if(h)if(V[f][g].re)b=h(b,d,e);else{b=h(d,b,e);for(d=0;d<
b.Ha;++d){e=b.tc()[d];e.F=new K(-e.F.x,-e.F.y)}b=b}else b=null;if(b==null)return this.Kc;else{b.D=null;b.o=this.T.ca;if(this.T.ca!=null)this.T.ca.D=b;this.T.ca=b;this.T.xb++}return b};bc.prototype.Ee=function(a,c,b){if(b!=null)if(b!=this.Kc)if(this.ee==true)dc(this,b);else b.A|=2};
function dc(a,c){if(c.D)c.D.o=c.o;if(c.o)c.o.D=c.D;if(c==a.T.ca)a.T.ca=c.o;if(c.Ha>0){var b=c.L.t,d=c.M.t,e=c.p,f=c.q;b.Tb();d.Tb();if(e.r)e.r.next=e.next;if(e.next)e.next.r=e.r;if(e==b.ca)b.ca=e.next;e.r=null;e.next=null;if(f.r)f.r.next=f.next;if(f.next)f.next.r=f.r;if(f==d.ca)d.ca=f.next;f.r=null;f.next=null}b=a.T.Xe;if(c.Ha>0){c.L.t.Tb();c.M.t.Tb()}d=V[c.L.oa][c.M.oa].Wd;d(c,b);--a.T.xb};var ec=new (n());function fc(){}fc.prototype={Fe:function(){this.status|=gc},sf:function(){this.status&=~gc},xe:function(){return(this.status&gc)==gc},Hf:function(){this.status|=hc},tf:function(){this.status&=~hc},Af:function(){return(this.status&hc)==hc},Ff:function(){this.status|=ic},ye:function(){return(this.status&ic)==ic},Pa:0,Qa:0,next:0,status:0};fc.prototype.Ke=null;var gc=1,hc=2,ic=4;function jc(){}jc.prototype={Pa:0,Qa:0};function kc(){var a=0;this.fc=Array(8192);for(a=0;a<8192;++a)this.fc[a]=65535;this.wa=Array(8192);for(a=0;a<8192;++a)this.wa[a]=new fc;this.db=Array(8192);for(a=0;a<8192;++a)this.db[a]=new jc;for(a=0;a<8192;++a){this.wa[a].Pa=65535;this.wa[a].Qa=65535;this.wa[a].B=null;this.wa[a].status=0;this.wa[a].next=a+1}this.wa[8191].next=65535;this.ke=0}
kc.prototype={xf:function(a,c){this.Ta=a;this.de=c},Nd:function(a,c){var b=this.qf(a,c);if(b.xe()==false){b.Fe();this.db[this.Jb].Pa=b.Pa;this.db[this.Jb].Qa=b.Qa;++this.Jb}b.tf()},Qd:function(a,c){var b=lc(this,a,c);if(b!=null){if(b.xe()==false){b.Fe();this.db[this.Jb].Pa=b.Pa;this.db[this.Jb].Qa=b.Qa;++this.Jb}b.Hf()}},qf:function(a,c){if(a>c){var b=a;a=c;c=b}b=mc(a,c)&8191;var d=nc(this,a,c,b);if(d!=null)return d;var e=this.yd;d=this.wa[e];this.yd=d.next;d.Pa=a;d.Qa=c;d.status=0;d.B=null;d.next=
this.fc[b];this.fc[b]=e;++this.ke;return d},Ef:function(a,c){if(a>c){var b=a;a=c;c=b}for(var d=mc(a,c)&8191,e=this.fc[d],f=null;e!=65535;)if(this.wa[e].Pa==a&&this.wa[e].Qa==c){b=e;if(f)f.next=this.wa[e].next;else this.fc[d]=this.wa[e].next;d=this.wa[b];e=d.B;d.next=this.yd;d.Pa=65535;d.Qa=65535;d.B=null;d.status=0;this.yd=b;--this.ke;return e}else{f=this.wa[e];e=f.next}return null},Ta:null,de:null,yd:0,ke:0,db:null,Jb:0,fc:null};
function lc(a,c,b){if(c>b){var d=c;c=b;b=d}return nc(a,c,b,mc(c,b)&8191)}function nc(a,c,b,d){for(d=a.fc[d];d!=65535&&(a.wa[d].Pa==c&&a.wa[d].Qa==b)==false;)d=a.wa[d].next;if(d==65535)return null;return a.wa[d]}
kc.prototype.Rc=function(){var a=0,c=0,b=this.Ta.Da,d=[];for(a=0;a<this.Jb;++a){var e=lc(this,this.db[a].Pa,this.db[a].Qa);e.sf();var f=b[e.Pa],g=b[e.Qa];if(e.Af()){e.ye()==true&&this.de.Ee(f.B,g.B,e.B);this.db[c].Pa=e.Pa;this.db[c].Qa=e.Qa;++c}else if(e.ye()==false){e.Ke=this.de.De(f.B,g.B);d.push(e.Ke);e.Ff()}}for(a=0;a<c;++a)this.Ef(this.db[a].Pa,this.db[a].Qa);this.Jb=0;return d};
function mc(a,c){var b=c<<16&4294901760|a;b=~b+(b<<15&4294934528);b^=b>>12&1048575;b+=b<<2&4294967292;b^=b>>4&268435455;b*=2057;b^=b>>16&65535;return b};function oc(){}oc.prototype={zc:function(){return(this.value&1)==0},Be:function(){return(this.value&1)==1},jd:function(a){var c=this.value,b=this.H,d=this.w;this.value=a.value;this.H=a.H;this.w=a.w;a.value=c;a.H=b;a.w=d},value:0,H:0,w:0};function pc(){this.Ba=[0,0];this.Ja=[0,0]}pc.prototype={uc:function(){return this.Ba[0]},Rd:function(a){this.Ba[0]=a},Tc:function(){return this.oc!=65535},Ba:[0,0],Ja:[0,0],oc:0,timeStamp:0,B:null};function qc(){this.td=[0,0];this.Ld=[0,0]};function rc(a,c){this.kb=new kc;this.Da=Array(8192);this.ab=Array(2048);this.Mc=Array(1024);this.lc=new K;var b=0;this.kb.xf(this,c);this.ka=a;for(b=this.Kb=0;b<1024;b++)this.Mc[b]=0;this.ab=Array(2);for(b=0;b<2;b++){this.ab[b]=Array(2048);for(var d=0;d<2048;d++)this.ab[b][d]=new oc}b=a.C.x;d=a.C.y;b-=a.G.x;d-=a.G.y;this.lc.x=65535/b;this.lc.y=65535/d;for(b=0;b<1023;++b){d=new pc;this.Da[b]=d;d.Rd(b+1);d.timeStamp=0;d.oc=65535;d.B=null}d=new pc;this.Da[1023]=d;d.Rd(65535);d.timeStamp=0;d.oc=65535;
d.B=null;this.zd=0;this.Nc=1;this.zb=0}
rc.prototype={yc:function(a){var c,b,d,e;c=a.G.x;b=a.G.y;c-=this.ka.C.x;b-=this.ka.C.y;d=this.ka.G.x;e=this.ka.G.y;d-=a.C.x;e-=a.C.y;c=M(c,d);b=M(b,e);return M(c,b)<0},rc:function(a){for(var c=this.Da[a],b=2*this.Kb,d=0;d<2;++d){var e=this.ab[d],f=c.Ba[d],g=c.Ja[d],h=e[f].value,i=e[g].value,j=[],k=0,l=g-f-1,m,o;for(k=0;k<l;k++){j[k]=new oc;m=j[k];o=e[f+1+k];m.value=o.value;m.H=o.H;m.w=o.w}l=j.length;var q=f;for(k=0;k<l;k++){o=j[k];m=e[q+k];m.value=o.value;m.H=o.H;m.w=o.w}j=[];l=b-g-1;for(k=0;k<l;k++){j[k]=
new oc;m=j[k];o=e[g+1+k];m.value=o.value;m.H=o.H;m.w=o.w}l=j.length;q=g-1;for(k=0;k<l;k++){o=j[k];m=e[q+k];m.value=o.value;m.H=o.H;m.w=o.w}l=b-2;for(j=f;j<l;++j){k=this.Da[e[j].H];if(e[j].zc())k.Ba[d]=j;else k.Ja[d]=j}l=g-1;for(f=f;f<l;++f)e[f].w--;this.Uc([0],[0],h,i,e,b-2,d)}for(b=0;b<this.zb;++b)this.kb.Qd(a,this.Mc[b]);this.kb.Rc();this.zb=0;this.Pd();c.B=null;c.oc=65535;c.Ba[0]=65535;c.Ba[1]=65535;c.Ja[0]=65535;c.Ja[1]=65535;c.Rd(this.zd);this.zd=a;--this.Kb},Ce:function(a,c){var b=0,d=0,e,f,
g=0,h;if(!(a==65535||1024<=a))if(c.Tc()!=false){var i=2*this.Kb,j=this.Da[a],k=new qc;this.Od(k.td,k.Ld,c);var l=new qc;for(b=0;b<2;++b){l.td[b]=this.ab[b][j.Ba[b]].value;l.Ld[b]=this.ab[b][j.Ja[b]].value}for(b=0;b<2;++b){var m=this.ab[b],o=j.Ba[b],q=j.Ja[b],s=k.td[b],r=k.Ld[b],y=s-m[o].value,w=r-m[q].value;m[o].value=s;m[q].value=r;if(y<0)for(d=o;d>0&&s<m[d-1].value;){e=m[d];f=m[d-1];g=f.H;h=this.Da[f.H];f.w++;if(f.Be()==true){this.kd(k,h)&&this.kb.Nd(a,g);h.Ja[b]++;e.w++}else{h.Ba[b]++;e.w--}j.Ba[b]--;
e.jd(f);--d}if(w>0)for(d=q;d<i-1&&m[d+1].value<=r;){e=m[d];f=m[d+1];g=f.H;h=this.Da[g];f.w++;if(f.zc()==true){this.kd(k,h)&&this.kb.Nd(a,g);h.Ba[b]--;e.w++}else{h.Ja[b]--;e.w--}j.Ja[b]++;e.jd(f);d++}if(y>0)for(d=o;d<i-1&&m[d+1].value<=s;){e=m[d];f=m[d+1];g=f.H;h=this.Da[g];f.w--;if(f.Be()){this.kd(l,h)&&this.kb.Qd(a,g);h.Ja[b]--;e.w--}else{h.Ba[b]--;e.w++}j.Ba[b]++;e.jd(f);d++}if(w<0)for(d=q;d>0&&r<m[d-1].value;){e=m[d];f=m[d-1];g=f.H;h=this.Da[g];f.w--;if(f.zc()==true){this.kd(l,h)&&this.kb.Qd(a,
g);h.Ba[b]++;e.w--}else{h.Ja[b]++;e.w++}j.Ja[b]--;e.jd(f);d--}}}},Df:function(a,c,b){var d=[],e=[];this.Od(d,e,a);a=[0];var f=[0];this.Uc(a,f,d[0],e[0],this.ab[0],2*this.Kb,0);this.Uc(a,f,d[1],e[1],this.ab[1],2*this.Kb,1);for(e=d=0;e<this.zb&&d<b;++e,++d)c[e]=this.Da[this.Mc[e]].B;this.zb=0;this.Pd();return d},Od:function(a,c,b){var d=b.G.x,e=b.G.y;d=d<this.ka.C.x?d:this.ka.C.x;e=e<this.ka.C.y?e:this.ka.C.y;d=M(d,this.ka.G.x);e=M(e,this.ka.G.y);var f=b.C.x;b=b.C.y;f=f<this.ka.C.x?f:this.ka.C.x;b=
b<this.ka.C.y?b:this.ka.C.y;f=M(f,this.ka.G.x);b=M(b,this.ka.G.y);a[0]=this.lc.x*(d-this.ka.G.x)&65534;c[0]=this.lc.x*(f-this.ka.G.x)&65535|1;a[1]=this.lc.y*(e-this.ka.G.y)&65534;c[1]=this.lc.y*(b-this.ka.G.y)&65535|1},kd:function(a,c){for(var b=0;b<2;++b){var d=this.ab[b];if(a.td[b]>d[c.Ja[b]].value)return false;if(a.Ld[b]<d[c.Ba[b]].value)return false}return true},Uc:function(a,c,b,d,e,f,g){b=sc(e,f,b);d=sc(e,f,d);for(f=b;f<d;++f)e[f].zc()&&this.we(e[f].H);if(b>0){f=b-1;for(var h=e[f].w;h;){if(e[f].zc())if(b<=
this.Da[e[f].H].Ja[g]){this.we(e[f].H);--h}--f}}a[0]=b;c[0]=d},we:function(a){var c=this.Da[a];if(c.timeStamp<this.Nc){c.timeStamp=this.Nc;c.oc=1}else{c.oc=2;this.Mc[this.zb]=a;++this.zb}},Pd:function(){if(this.Nc==65535){for(var a=0;a<1024;++a)this.Da[a].timeStamp=0;this.Nc=1}else++this.Nc},kb:new kc,Da:Array(8192),ab:Array(2048),Mc:Array(1024),zb:0,ka:null,lc:new K,Kb:0,Nc:0};rc.prototype.Rc=function(){return this.kb.Rc()};
function tc(a,c,b){var d=0,e,f=a.zd;e=a.Da[f];a.zd=e.uc();e.oc=0;e.B=b;b=2*a.Kb;e=[];var g=[];a.Od(e,g,c);for(c=0;c<2;++c){var h=a.ab[c],i=0,j=0;i=[i];j=[j];a.Uc(i,j,e[c],g[c],h,b,c);i=i[0];j=j[0];d=[];var k=0,l=b-j,m,o;for(k=0;k<l;k++){d[k]=new oc;m=d[k];o=h[j+k];m.value=o.value;m.H=o.H;m.w=o.w}l=d.length;var q=j+2;for(k=0;k<l;k++){o=d[k];m=h[q+k];m.value=o.value;m.H=o.H;m.w=o.w}d=[];l=j-i;for(k=0;k<l;k++){d[k]=new oc;m=d[k];o=h[i+k];m.value=o.value;m.H=o.H;m.w=o.w}l=d.length;q=i+1;for(k=0;k<l;k++){o=
d[k];m=h[q+k];m.value=o.value;m.H=o.H;m.w=o.w}++j;h[i].value=e[c];h[i].H=f;h[j].value=g[c];h[j].H=f;h[i].w=i==0?0:h[i-1].w;h[j].w=h[j-1].w;for(d=i;d<j;++d)h[d].w++;for(d=i;d<b+2;++d){i=a.Da[h[d].H];if(h[d].zc())i.Ba[c]=d;else i.Ja[c]=d}}++a.Kb;for(b=0;b<a.zb;++b)a.kb.Nd(f,a.Mc[b]);a.kb.Rc();a.zb=0;a.Pd();return f}function sc(a,c,b){var d=0;for(c=c-1;d<=c;){var e=Math.floor((d+c)/2);if(a[e].value>b)c=e-1;else if(a[e].value<b)d=e+1;else return e}return d};function X(a,c,b){if(a==null)a=0;this.a=new K;this.b=new K;if(c!=null&&b!=null){O(this.a,c);O(this.b,b)}else{c=Math.cos(a);a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c}}u=X.prototype;u.j=function(a){var c=Math.cos(a);a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c};u.ed=function(){return new X(0,this.a,this.b)};function uc(a,c){O(a.a,c.a);O(a.b,c.b)}function vc(a,c){a.a.x+=c.a.x;a.a.y+=c.a.y;a.b.x+=c.b.x;a.b.y+=c.b.y}
u.va=function(){this.a.x=0;this.b.x=0;this.a.y=0;this.b.y=0};function wc(a,c){var b=a.a.x,d=a.b.x,e=a.a.y,f=a.b.y,g=b*f-d*e;g=1/g;c.a.x=g*f;c.b.x=-g*d;c.a.y=-g*e;c.b.y=g*b;return c}u.Sd=function(a,c,b){var d=this.a.x,e=this.b.x,f=this.a.y,g=this.b.y,h=d*g-e*f;h=1/h;a.x=h*(g*c-e*b);a.y=h*(d*b-f*c);return a};u.qc=function(){this.a.qc();this.b.qc()};function xc(){this.ia=new K(0,0)}xc.prototype={lb:0,ia:new K(0,0),xc:0};function yc(a,c){this.d=new X;this.c=new K;this.eb=a.B;this.la=a.$a;this.na=a.Ra;this.t=c;this.da=65535;this.hc=0;this.Wa=a.Wa;this.Za=a.Za;this.ec=a.Yb}yc.prototype={hd:n(),uc:p("o"),rc:function(){if(this.da!=65535){this.t.T.Ta.rc(this.da);this.da=65535}},Td:n(),o:null,d:new X,c:new K,oa:0,eb:null,t:null,la:null,na:null,hc:null,da:0,Wa:0,Za:0,ec:0};var Ub=0,U=2,cc=4;function zc(a,c,b){this.d=new X;this.c=new K;this.eb=a.B;this.la=a.$a;this.na=a.Ra;this.t=c;this.da=65535;this.hc=0;this.Wa=a.Wa;this.Za=a.Za;this.ec=a.Yb;this.Ya=new K;this.Ya.j(a.Aa.x-b.x,a.Aa.y-b.y);this.oa=Ub;this.ma=a.Bb;uc(this.d,this.t.d);a=this.d.a.x*this.Ya.x+this.d.b.x*this.Ya.y;c=this.d.a.y*this.Ya.x+this.d.b.y*this.Ya.y;this.c.x=this.t.c.x+a;this.c.y=this.t.c.y+c;this.hc=Math.sqrt(a*a+c*c)+this.ma;a=new S;a.G.j(this.c.x-this.ma,this.c.y-this.ma);a.C.j(this.c.x+this.ma,this.c.y+this.ma);
c=this.t.T.Ta;this.da=c.yc(a)?tc(c,a,this):65535;this.da==65535&&this.t.sc()}C(zc,yc);
zc.prototype.Td=function(a,c,b,d){uc(this.d,d);this.c.x=d.a.x*this.Ya.x+d.b.x*this.Ya.y+b.x;this.c.y=d.a.y*this.Ya.x+d.b.y*this.Ya.y+b.y;if(this.da!=65535){b=a.x+(c.a.x*this.Ya.x+c.b.x*this.Ya.y);d=a.y+(c.a.y*this.Ya.x+c.b.y*this.Ya.y);a=Math.min(b,this.c.x);c=Math.min(d,this.c.y);b=Math.max(b,this.c.x);var e=Math.max(d,this.c.y);d=new S;d.G.j(a-this.ma,c-this.ma);d.C.j(b+this.ma,e+this.ma);a=this.t.T.Ta;a.yc(d)?a.Ce(this.da,d):this.t.sc()}};
zc.prototype.hd=function(a){if(this.da!=65535){a.rc(this.da);var c=new S;c.G.j(this.c.x-this.ma,this.c.y-this.ma);c.C.j(this.c.x+this.ma,this.c.y+this.ma);this.da=a.yc(c)?tc(a,c,this):65535;this.da==65535&&this.t.sc()}};function Ac(){this.Ka=new X;this.ia=new K;this.V=new K};function Bc(a,c,b){this.d=new X;this.c=new K;this.eb=a.B;this.la=a.$a;this.na=a.Ra;this.t=c;this.da=65535;this.hc=0;this.Wa=a.Wa;this.Za=a.Za;this.ec=a.Yb;this.Sa=new S;this.sa=new X;this.Ga=new K;this.u=new Ac;var d=0,e;c=new S;this.v=Array(8);this.cc=Array(8);this.jb=Array(8);this.oa=U;var f=new X(a.ub);if(a.type==1){this.Ga.x=a.Aa.x-b.x;this.Ga.y=a.Aa.y-b.y;this.Va=4;b=a.V.x;e=a.V.y;d=Math.max(0,b-0.3);var g=Math.max(0,e-0.3);a=this.v[0]=new K;a.x=f.a.x*b+f.b.x*e;a.y=f.a.y*b+f.b.y*e;a=this.v[1]=
new K;a.x=f.a.x*-b+f.b.x*e;a.y=f.a.y*-b+f.b.y*e;a=this.v[2]=new K;a.x=f.a.x*-b+f.b.x*-e;a.y=f.a.y*-b+f.b.y*-e;a=this.v[3]=new K;a.x=f.a.x*b+f.b.x*-e;a.y=f.a.y*b+f.b.y*-e;a=this.cc[0]=new K;a.x=f.a.x*d+f.b.x*g;a.y=f.a.y*d+f.b.y*g;a=this.cc[1]=new K;a.x=f.a.x*-d+f.b.x*g;a.y=f.a.y*-d+f.b.y*g;a=this.cc[2]=new K;a.x=f.a.x*-d+f.b.x*-g;a.y=f.a.y*-d+f.b.y*-g;a=this.cc[3]=new K;a.x=f.a.x*d+f.b.x*-g;a.y=f.a.y*d+f.b.y*-g}else{this.Va=a.Qc;d=a.Pb;e=a.Qc;for(var h=g=0,i=0,j=1/3,k=0;k<e;++k){var l=d[k].x,m=d[k].y,
o=k+1<e?d[k+1].x:d[0].x,q=k+1<e?d[k+1].y:d[0].y,s=0.5*((l-0)*(q-0)-(m-0)*(o-0));i+=s;g+=s*j*(0+l+o);h+=s*j*(0+m+q)}g*=1/i;h*=1/i;Cc.j(g,h);g=Cc.x;h=Cc.y;this.Ga.x=a.Aa.x+(f.a.x*g+f.b.x*h)-b.x;this.Ga.y=a.Aa.y+(f.a.y*g+f.b.y*h)-b.y;for(d=0;d<this.Va;++d){this.v[d]=new K;this.cc[d]=new K;b=a.Pb[d].x-g;e=a.Pb[d].y-h;this.v[d].x=f.a.x*b+f.b.x*e;this.v[d].y=f.a.y*b+f.b.y*e;b=this.v[d].x;e=this.v[d].y;i=Math.sqrt(b*b+e*e);if(i>Number.MIN_VALUE){b*=1/i;e*=1/i}this.cc[d].x=this.v[d].x-0.3*b;this.cc[d].y=
this.v[d].y-0.3*e}}a=f=Number.MAX_VALUE;b=-Number.MAX_VALUE;e=-Number.MAX_VALUE;for(d=this.hc=0;d<this.Va;++d){g=this.v[d];f=Math.min(f,g.x);a=Math.min(a,g.y);b=Math.max(b,g.x);e=Math.max(e,g.y);this.hc=Math.max(this.hc,R(g))}d=this.u.Ka;d.a.x=1;d.b.x=0;d.a.y=0;d.b.y=1;this.u.ia.j((f+b)*0.5,(a+e)*0.5);this.u.V.j((b-f)*0.5,(e-a)*0.5);for(d=a=f=0;d<this.Va;++d){this.jb[d]=new K;f=d;a=d+1<this.Va?d+1:0;this.jb[d].x=this.v[a].y-this.v[f].y;this.jb[d].y=-(this.v[a].x-this.v[f].x);f=this.jb[d];a=R(f);if(!(a<
Number.MIN_VALUE)){a=1/a;f.x*=a;f.y*=a}}for(d=0;d<this.Va;++d);uc(this.d,this.t.d);this.c.x=this.t.c.x+(this.d.a.x*this.Ga.x+this.d.b.x*this.Ga.y);this.c.y=this.t.c.y+(this.d.a.y*this.Ga.x+this.d.b.y*this.Ga.y);Dc.a.x=this.d.a.x*this.u.Ka.a.x+this.d.b.x*this.u.Ka.a.y;Dc.a.y=this.d.a.y*this.u.Ka.a.x+this.d.b.y*this.u.Ka.a.y;Dc.b.x=this.d.a.x*this.u.Ka.b.x+this.d.b.x*this.u.Ka.b.y;Dc.b.y=this.d.a.y*this.u.Ka.b.x+this.d.b.y*this.u.Ka.b.y;Dc.qc();b=Dc.a.x*this.u.V.x+Dc.b.x*this.u.V.y;e=Dc.a.y*this.u.V.x+
Dc.b.y*this.u.V.y;f=this.c.x+(this.d.a.x*this.u.ia.x+this.d.b.x*this.u.ia.y);a=this.c.y+(this.d.a.y*this.u.ia.x+this.d.b.y*this.u.ia.y);c.G.x=f-b;c.G.y=a-e;c.C.x=f+b;c.C.y=a+e;f=this.t.T.Ta;this.da=f.yc(c)?tc(f,c,this):65535;this.da==65535&&this.t.sc()}C(Bc,yc);Bc.prototype.Sa=new S;Bc.prototype.sa=new X;
Bc.prototype.Td=function(a,c,b,d){uc(this.d,d);this.c.x=this.t.c.x+(d.a.x*this.Ga.x+d.b.x*this.Ga.y);this.c.y=this.t.c.y+(d.a.y*this.Ga.x+d.b.y*this.Ga.y);if(this.da!=65535){var e,f;e=c.a;f=c.b;var g=this.u.Ka.a,h=this.u.Ka.b;this.sa.a.x=e.x*g.x+f.x*g.y;this.sa.a.y=e.y*g.x+f.y*g.y;this.sa.b.x=e.x*h.x+f.x*h.y;this.sa.b.y=e.y*h.x+f.y*h.y;this.sa.qc();e=this.Ga.x+this.u.ia.x;f=this.Ga.y+this.u.ia.y;g=a.x+(c.a.x*e+c.b.x*f);a=a.y+(c.a.y*e+c.b.y*f);e=this.sa.a.x*this.u.V.x+this.sa.b.x*this.u.V.y;f=this.sa.a.y*
this.u.V.x+this.sa.b.y*this.u.V.y;this.Sa.G.x=g-e;this.Sa.G.y=a-f;this.Sa.C.x=g+e;this.Sa.C.y=a+f;e=d.a;f=d.b;g=this.u.Ka.a;h=this.u.Ka.b;this.sa.a.x=e.x*g.x+f.x*g.y;this.sa.a.y=e.y*g.x+f.y*g.y;this.sa.b.x=e.x*h.x+f.x*h.y;this.sa.b.y=e.y*h.x+f.y*h.y;this.sa.qc();e=this.Ga.x+this.u.ia.x;f=this.Ga.y+this.u.ia.y;g=b.x+(d.a.x*e+d.b.x*f);a=b.y+(d.a.y*e+d.b.y*f);e=this.sa.a.x*this.u.V.x+this.sa.b.x*this.u.V.y;f=this.sa.a.y*this.u.V.x+this.sa.b.y*this.u.V.y;this.Sa.G.x=Math.min(this.Sa.G.x,g-e);this.Sa.G.y=
Math.min(this.Sa.G.y,a-f);this.Sa.C.x=Math.max(this.Sa.C.x,g+e);this.Sa.C.y=Math.max(this.Sa.C.y,a+f);b=this.t.T.Ta;b.yc(this.Sa)?b.Ce(this.da,this.Sa):this.t.sc()}};
Bc.prototype.hd=function(a){if(this.da!=65535){a.rc(this.da);var c=new X(0,I(this.d,this.u.Ka.a),I(this.d,this.u.Ka.b));c=new X(0,new K(L(c.a.x),L(c.a.y)),new K(L(c.b.x),L(c.b.y)));c=I(c,this.u.V);var b=I(this.d,this.u.ia);P(b,this.c);var d=new S;O(d.G,b);var e=d.G;e.x-=c.x;e.y-=c.y;O(d.C,b);P(d.C,c);this.da=a.yc(d)?tc(a,d,this):65535;this.da==65535&&this.t.sc()}};var Cc=new K,Dc=new X;function Ec(a,c){this.te=new X;this.c=new K;this.d=new X(0);this.Gd=new K;var b=0,d,e;this.A=0;O(this.c,a.position);this.n=a.rotation;this.d.j(this.n);O(this.Gd,this.c);this.me=this.n;this.T=c;this.bf=N(1-a.Re,0,1);this.We=N(1-a.Ie,0,1);this.Fc=new K(0,0);this.Ca=this.ne=0;var f=Array(64);for(b=0;b<64;b++)f[b]=new xc;this.Nb=0;this.vb=new K(0,0);for(b=0;b<64;++b){d=a.pc[b];if(d==null)break;e=f[b];var g=d,h=e;h.ia=new K(0,0);if(g.za==0){h.lb=0;h.ia.j(0,0);h.xc=0}switch(g.type){case Ub:h.lb=g.za*Db*
g.Bb*g.Bb;h.ia.j(0,0);h.xc=0.5*h.lb*g.Bb*g.Bb;break;case 1:h.lb=4*g.za*g.V.x*g.V.y;h.ia.j(0,0);h.xc=h.lb/3*ub(g.V,g.V);break;case U:h=h;var i=g.Pb,j=g.Qc;g=g.za;var k=new K;k.va();for(var l=0,m=0,o=new K(0,0),q=1/3,s=0;s<j;++s){var r=o,y=i[s],w=s+1<j?i[s+1]:i[0],v=wb(y,r),x=wb(w,r),G=v.x*x.y-v.y*x.x,A=0.5*G;l+=A;var H=new K;O(H,r);P(H,y);P(H,w);Q(H,q*A);P(k,H);y=r.x;r=r.y;w=v.x;v=v.y;A=x.x;x=x.y;m+=G*(q*(0.25*(w*w+A*w+A*A)+(y*w+y*A))+0.5*y*y+(q*(0.25*(v*v+x*v+x*x)+(r*v+r*x))+0.5*r*r))}h.lb=g*l;Q(k,
1/l);h.ia=k;m=g*(m-l*ub(k,k));h.xc=m;break;default:h.lb=0;h.ia.j(0,0);h.xc=0;break}this.Ca+=e.lb;this.vb.x+=e.lb*(d.Aa.x+e.ia.x);this.vb.y+=e.lb*(d.Aa.y+e.ia.y);++this.Nb}if(this.Ca>0){Q(this.vb,1/this.Ca);P(this.c,I(this.d,this.vb))}else this.A|=Fc;for(b=this.Cc=0;b<this.Nb;++b){d=a.pc[b];e=f[b];this.Cc+=e.xc;d=wb(vb(d.Aa,e.ia),this.vb);this.Cc+=e.lb*ub(d,d)}this.k=this.Ca>0?1/this.Ca:0;if(this.Cc>0&&a.ff==false)this.m=1/this.Cc;else this.m=this.Cc=0;this.h=vb(a.Se,new K(-a.Ud*this.vb.y,a.Ud*this.vb.x));
this.l=a.Ud;this.Ab=this.o=this.D=this.ca=this.X=null;for(b=0;b<this.Nb;++b){d=a.pc[b];a:{e=d;f=this.vb;switch(e.type){case Ub:e=new zc(e,this,f);break a;case 1:case U:e=new Bc(e,this,f);break a}e=null}e.o=this.Ab;this.Ab=e}this.mc=0;if(a.He)this.A|=Gc;if(a.Qe)this.A|=Hc;if(this.A&Hc||this.k==0){this.h.j(0,0);this.l=0}this.eb=a.B}
Ec.prototype={Ae:function(){return(this.A&Fc)==Fc},zf:function(){return(this.A&Ic)==Ic},ze:function(){return(this.A&Hc)==Hc},Tb:function(){this.A&=~Hc;this.mc=0},uc:p("o"),uf:function(){for(var a=this.Ab;a;){var c=a;a=a.o;c.da!=65535&&c.t.T.Ta.rc(c.da)}},te:new X,If:function(){this.te.j(this.me);for(var a=this.Ab;a!=null;a=a.o)a.Td(this.Gd,this.te,this.c,this.d)},yf:function(a){for(var c=this.X;c!=null;c=c.next)if(c.xa==a)return c.Zb.wb==false;return false},sc:function(){this.A|=Ic;this.h.va();this.l=
0;for(var a=this.Ab;a!=null;a=a.o)a.rc()},A:0,c:new K,d:new X(0),Gd:new K,me:null,l:null,Fc:null,ne:null,vb:null,T:null,D:null,o:null,Ab:null,Nb:0,X:null,ca:null,Ca:null,k:null,Cc:null,m:null,bf:null,We:null,mc:null};var Fc=1,Ic=2,Hc=8,Gc=16;function Jc(){this.qd=new K;this.rd=new K}Jc.prototype={ra:null,ya:null,cd:null,qe:null,jf:null,mb:null,Md:null};function Kc(){this.F=new K;this.aa=Array(2);for(var a=0;a<2;a++)this.aa[a]=new Jc}Kc.prototype={cf:null,Z:null,ba:null,$a:null,Ra:null,U:0};function Lc(a,c,b){this.bc=[];this.vd=b;b=0;var d,e;for(b=this.ac=0;b<c;++b)this.ac+=a[b].Ha;for(b=0;b<this.ac;b++)this.bc[b]=new Kc;var f=0;for(b=0;b<c;++b){var g=a[b],h=g.L.t,i=g.M.t,j=g.Ha,k=g.tc(),l=g.la;g=g.na;for(var m=h.h.x,o=h.h.y,q=i.h.x,s=i.h.y,r=h.l,y=i.l,w=0;w<j;++w){var v=k[w],x=v.F.x,G=v.F.y,A=this.bc[f];A.Z=h;A.ba=i;A.cf=v;A.F.x=x;A.F.y=G;A.U=v.U;A.$a=l;A.Ra=g;for(var H=0;H<A.U;++H){var B=v.aa[H],J=A.aa[H];J.ra=B.ra;J.ya=B.ya;J.mb=B.mb;var W=B.position.x-h.c.x,la=B.position.y-h.c.y,
ma=B.position.x-i.c.x;B=B.position.y-i.c.y;d=J.qd;e=h.d;d.x=W*e.a.x+la*e.a.y;d.y=W*e.b.x+la*e.b.y;d=J.rd;e=i.d;d.x=ma*e.a.x+B*e.a.y;d.y=ma*e.b.x+B*e.b.y;d=W*W+la*la;e=ma*ma+B*B;var Ka=W*x+la*G,fa=ma*x+B*G,ga=h.k+i.k;ga+=h.m*(d-Ka*Ka)+i.m*(e-fa*fa);J.qe=1/ga;fa=G;ga=-x;Ka=W*fa+la*ga;fa=ma*fa+B*ga;ga=h.k+i.k;ga+=h.m*(d-Ka*Ka)+i.m*(e-fa*fa);J.jf=1/ga;J.Md=0;if(J.mb>0)J.Md=-60*J.mb;W=A.F.x*(q+-y*B-m- -r*la)+A.F.y*(s+y*ma-o-r*W);if(W<-30)J.Md+=-A.Ra*W}++f}}}
Lc.prototype={Cf:function(){for(var a,c,b=0;b<this.ac;++b){var d=this.bc[b],e=d.Z,f=d.ba,g=e.k,h=e.m,i=f.k,j=f.m,k=d.F.x,l=d.F.y,m=l,o=-k,q=0,s=0;if(Mc){s=d.U;for(q=0;q<s;++q){var r=d.aa[q],y=r.ra*k+r.ya*m,w=r.ra*l+r.ya*o;c=e.d;a=r.qd;var v=c.a.x*a.x+c.b.x*a.y,x=c.a.y*a.x+c.b.y*a.y;c=f.d;a=r.rd;var G=c.a.x*a.x+c.b.x*a.y;a=c.a.y*a.x+c.b.y*a.y;e.l-=h*(v*w-x*y);e.h.x-=g*y;e.h.y-=g*w;f.l+=j*(G*w-a*y);f.h.x+=i*y;f.h.y+=i*w;r.cd=0}}else{s=d.U;for(q=0;q<s;++q){e=d.aa[q];e.ra=0;e.ya=0;e.cd=0}}}},sb:function(){for(var a=
0,c,b,d,e,f,g,h,i,j=0;j<this.ac;++j){var k=this.bc[j],l=k.Z,m=k.ba,o=l.l,q=l.h,s=m.l,r=m.h,y=l.k,w=l.m,v=m.k,x=m.m,G=k.F.x,A=k.F.y,H=A,B=-G,J=k.U;for(a=0;a<J;++a){c=k.aa[a];f=l.d;g=c.qd;b=f.a.x*g.x+f.b.x*g.y;d=f.a.y*g.x+f.b.y*g.y;f=m.d;g=c.rd;e=f.a.x*g.x+f.b.x*g.y;f=f.a.y*g.x+f.b.y*g.y;g=r.x+-s*f-q.x- -o*d;h=r.y+s*e-q.y-o*b;g=-c.qe*(g*G+h*A-c.Md);h=M(c.ra+g,0);g=h-c.ra;i=g*G;g=g*A;q.x-=y*i;q.y-=y*g;o-=w*(b*g-d*i);r.x+=v*i;r.y+=v*g;s+=x*(e*g-f*i);c.ra=h;g=r.x+-s*f-q.x- -o*d;h=r.y+s*e-q.y-o*b;g=c.jf*
-(g*H+h*B);h=k.$a*c.ra;h=N(c.ya+g,-h,h);g=h-c.ya;i=g*H;g=g*B;q.x-=y*i;q.y-=y*g;o-=w*(b*g-d*i);r.x+=v*i;r.y+=v*g;s+=x*(e*g-f*i);c.ya=h}l.l=o;m.l=s}},rb:function(a){for(var c=0,b,d,e=0;e<this.ac;++e){for(var f=this.bc[e],g=f.Z,h=f.ba,i=g.c,j=g.n,k=h.c,l=h.n,m=g.k,o=g.m,q=h.k,s=h.m,r=f.F.x,y=f.F.y,w=f.U,v=0;v<w;++v){var x=f.aa[v];b=g.d;d=x.qd;var G=b.a.x*d.x+b.b.x*d.y,A=b.a.y*d.x+b.b.y*d.y;b=h.d;d=x.rd;var H=b.a.x*d.x+b.b.x*d.y;b=b.a.y*d.x+b.b.y*d.y;d=(k.x+H-(i.x+G))*r+(k.y+b-(i.y+A))*y+x.mb;c=c<d?c:
d;d=-x.qe*a*N(d+0.15,-6,0);var B=x.cd;x.cd=M(B+d,0);d=x.cd-B;x=d*r;d=d*y;i.x-=m*x;i.y-=m*d;j-=o*(G*d-A*x);g.d.j(j);k.x+=q*x;k.y+=q*d;l+=s*(H*d-b*x);h.d.j(l)}g.n=j;h.n=l}return c>=-0.15},Bf:function(){for(var a=0;a<this.ac;++a)for(var c=this.bc[a],b=c.cf,d=0;d<c.U;++d){var e=b.aa[d],f=c.aa[d];e.ra=f.ra;e.ya=f.ya}},vd:null,bc:[],ac:0};function Nc(a,c,b,d){var e=0;this.Qf=a;this.Tf=c;this.Vf=b;this.bb=this.xb=this.Fa=0;this.nb=Array(a);for(e=0;e<a;e++)this.nb[e]=null;this.xd=Array(c);for(e=0;e<c;e++)this.xd[e]=null;this.Gc=Array(b);for(e=0;e<b;e++)this.Gc[e]=null;this.vd=d}
Nc.prototype={rf:function(){this.bb=this.xb=this.Fa=0},Sd:function(a,c){var b=0,d;for(b=0;b<this.Fa;++b){d=this.nb[b];if(d.k!=0){P(d.h,new K(a.Xa*vb(c,new K(d.k*d.Fc.x,d.k*d.Fc.y)).x,a.Xa*vb(c,new K(d.k*d.Fc.x,d.k*d.Fc.y)).y));d.l+=a.Xa*d.m*d.ne;Q(d.h,d.bf);d.l*=d.We;O(d.Gd,d.c);d.me=d.n}}var e=new Lc(this.xd,this.xb,this.vd);e.Cf();for(b=0;b<this.bb;++b)this.Gc[b].Sb();for(b=0;b<a.be;++b){e.sb();for(d=0;d<this.bb;++d)this.Gc[d].sb(a)}for(b=0;b<this.Fa;++b){d=this.nb[b];if(d.k!=0){d.c.x+=a.Xa*d.h.x;
d.c.y+=a.Xa*d.h.y;d.n+=a.Xa*d.l;d.d.j(d.n)}}for(b=0;b<this.bb;++b);if(Oc)for(Pc=0;Pc<a.be;++Pc){d=e.rb(0.2);var f=true;for(b=0;b<this.bb;++b){var g=this.Gc[b].rb();f=f&&g}if(d&&f)break}e.Bf();for(b=0;b<this.Fa;++b){d=this.nb[b];if(d.k!=0){d.d.j(d.n);d.If();d.Fc.j(0,0);d.ne=0}}},Jf:function(a){var c=0,b,d=Number.MAX_VALUE,e=Gb*Gb;for(c=0;c<this.Fa;++c){b=this.nb[c];if(b.k!=0){if((b.A&Gc)==0)d=b.mc=0;if((b.A&Gc)==0||b.l*b.l>e||ub(b.h,b.h)>0.09)d=b.mc=0;else{b.mc+=a;d=d<b.mc?d:b.mc}}}if(d>=0.5)for(c=
0;c<this.Fa;++c){b=this.nb[c];b.A|=Hc}},nf:function(a){this.nb[this.Fa++]=a},of:function(a){this.xd[this.xb++]=a},pf:function(a){this.Gc[this.bb++]=a},vd:null,nb:null,xd:null,Gc:null,Fa:0,bb:0,xb:0,Qf:0,Tf:0,Vf:0};var Pc=0;function Y(){}Y.prototype={xa:null,Zb:null,r:null,next:null};function Qc(a){this.p=new Y;this.q=new Y;this.oa=a.type;this.o=this.D=null;this.i=a.Z;this.e=a.ba;this.wb=a.hb;this.pb=false;this.eb=a.B}Qc.prototype={Qb:t(null),Rb:t(null),vc:t(null),wc:t(0),uc:p("o"),Sb:n(),sb:n(),rb:t(false),oa:0,D:null,o:null,p:new Y,q:new Y,i:null,e:null,pb:null,wb:null,eb:null};function Rc(a){this.p=new Y;this.q=new Y;this.oa=a.type;this.o=this.D=null;this.i=a.Z;this.e=a.ba;this.wb=a.hb;this.pb=false;this.eb=a.B;this.Ea=new X;this.ta=new X;this.ua=new X;this.gb=new X;this.f=new K;this.g=new K;this.Ua=new K;this.qb=new X;var c,b,d;c=this.i.d;b=a.pa.x-this.i.c.x;d=a.pa.y-this.i.c.y;this.f.x=b*c.a.x+d*c.a.y;this.f.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.pa.x-this.e.c.x;d=a.pa.y-this.e.c.y;this.g.x=b*c.a.x+d*c.a.y;this.g.y=b*c.b.x+d*c.b.y;this.fe=this.e.n-this.i.n;this.Ua.j(0,0);this.ea=
this.s=this.$=0;this.Cd=a.Te;this.Id=a.lf;this.Fd=a.pe;this.ic=a.nc;this.ib=a.Vc;this.Gb=a.Eb}E(Rc.prototype,Qc.prototype);
E(Rc.prototype,{Qb:function(){var a=this.i.d;return new K(this.i.c.x+(a.a.x*this.f.x+a.b.x*this.f.y),this.i.c.y+(a.a.y*this.f.x+a.b.y*this.f.y))},Rb:function(){var a=this.e.d;return new K(this.e.c.x+(a.a.x*this.g.x+a.b.x*this.g.y),this.e.c.y+(a.a.y*this.g.x+a.b.y*this.g.y))},fd:function(){return this.e.n-this.i.n},vf:function(){return this.e.l-this.i.l},dg:function(a){return a*this.$},Gf:aa("ic"),gg:aa("Fd"),vc:function(a){var c=this.Ua.ed();Q(c,a);return c},wc:function(a){return a*this.s},Ea:new X,
ta:new X,ua:new X,gb:new X,Sb:function(){var a=this.i,c=this.e,b;b=a.d;var d=b.a.x*this.f.x+b.b.x*this.f.y,e=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;var f=b.a.x*this.g.x+b.b.x*this.g.y;b=b.a.y*this.g.x+b.b.y*this.g.y;var g=a.k,h=c.k,i=a.m,j=c.m;this.ta.a.x=g+h;this.ta.b.x=0;this.ta.a.y=0;this.ta.b.y=g+h;this.ua.a.x=i*e*e;this.ua.b.x=-i*d*e;this.ua.a.y=-i*d*e;this.ua.b.y=i*d*d;this.gb.a.x=j*b*b;this.gb.b.x=-j*f*b;this.gb.a.y=-j*f*b;this.gb.b.y=j*f*f;uc(this.Ea,this.ta);vc(this.Ea,this.ua);vc(this.Ea,this.gb);
wc(this.Ea,this.qb);this.Ia=1/(i+j);if(this.Gb==false)this.$=0;if(this.ib){var k=c.n-a.n-this.fe;if(L(this.Id-this.Cd)<2*Eb)this.J=3;else if(k<=this.Cd){if(this.J!=1)this.s=0;this.J=1}else if(k>=this.Id){if(this.J!=2)this.s=0;this.J=2}else this.s=this.J=0}else this.s=0;if(Mc){a.h.x-=g*this.Ua.x;a.h.y-=g*this.Ua.y;a.l-=i*(d*this.Ua.y-e*this.Ua.x+this.$+this.s);c.h.x+=h*this.Ua.x;c.h.y+=h*this.Ua.y;c.l+=j*(f*this.Ua.y-b*this.Ua.x+this.$+this.s)}else{this.Ua.va();this.s=this.$=0}this.ea=0},sb:function(a){var c=
this.i,b=this.e,d;d=c.d;var e=d.a.x*this.f.x+d.b.x*this.f.y,f=d.a.y*this.f.x+d.b.y*this.f.y;d=b.d;var g=d.a.x*this.g.x+d.b.x*this.g.y;d=d.a.y*this.g.x+d.b.y*this.g.y;var h=b.h.x+-b.l*d-c.h.x- -c.l*f,i=b.h.y+b.l*g-c.h.y-c.l*e,j=-(this.qb.a.x*h+this.qb.b.x*i);h=-(this.qb.a.y*h+this.qb.b.y*i);this.Ua.x+=j;this.Ua.y+=h;c.h.x-=c.k*j;c.h.y-=c.k*h;c.l-=c.m*(e*h-f*j);b.h.x+=b.k*j;b.h.y+=b.k*h;b.l+=b.m*(g*h-d*j);if(this.Gb&&this.J!=3){e=-this.Ia*(b.l-c.l-this.ic);f=this.$;this.$=N(this.$+e,-a.Xa*this.Fd,a.Xa*
this.Fd);e=this.$-f;c.l-=c.m*e;b.l+=b.m*e}if(this.ib&&this.J!=0){e=-this.Ia*(b.l-c.l);if(this.J==3)this.s+=e;else if(this.J==1){a=this.s;this.s=M(this.s+e,0);e=this.s-a}else if(this.J==2){a=this.s;this.s=this.s+e<0?this.s+e:0;e=this.s-a}c.l-=c.m*e;b.l+=b.m*e}},rb:function(){var a,c=this.i,b=this.e,d=0;d=c.d;var e=d.a.x*this.f.x+d.b.x*this.f.y,f=d.a.y*this.f.x+d.b.y*this.f.y;d=b.d;a=d.a.x*this.g.x+d.b.x*this.g.y;var g=d.a.y*this.g.x+d.b.y*this.g.y,h=b.c.x+a-(c.c.x+e),i=b.c.y+g-(c.c.y+f);d=Math.sqrt(h*
h+i*i);var j=c.k,k=b.k,l=c.m,m=b.m;this.ta.a.x=j+k;this.ta.b.x=0;this.ta.a.y=0;this.ta.b.y=j+k;this.ua.a.x=l*f*f;this.ua.b.x=-l*e*f;this.ua.a.y=-l*e*f;this.ua.b.y=l*e*e;this.gb.a.x=m*g*g;this.gb.b.x=-m*a*g;this.gb.a.y=-m*a*g;this.gb.b.y=m*a*a;uc(this.Ea,this.ta);vc(this.Ea,this.ua);vc(this.Ea,this.gb);this.Ea.Sd(Sc,-h,-i);h=Sc.x;i=Sc.y;c.c.x-=c.k*h;c.c.y-=c.k*i;c.n-=c.m*(e*i-f*h);c.d.j(c.n);b.c.x+=b.k*h;b.c.y+=b.k*i;b.n+=b.m*(a*i-g*h);b.d.j(b.n);e=0;if(this.ib&&this.J!=0){a=b.n-c.n-this.fe;f=0;if(this.J==
3){a=N(a,-Fb,Fb);f=-this.Ia*a;e=L(a)}else if(this.J==1){a=a-this.Cd;e=M(0,-a);a=N(a+Eb,-Fb,0);f=-this.Ia*a;a=this.ea;this.ea=M(this.ea+f,0);f=this.ea-a}else if(this.J==2){a=a-this.Id;e=M(0,a);a=N(a-Eb,0,Fb);f=-this.Ia*a;a=this.ea;this.ea=this.ea+f<0?this.ea+f:0;f=this.ea-a}c.n-=c.m*f;c.d.j(c.n);b.n+=b.m*f;b.d.j(b.n)}return d<=0.15&&e<=Eb},f:new K,g:new K,Ua:new K,$:null,s:null,ea:null,qb:new X,Ia:null,fe:null,Cd:null,Id:null,Fd:null,ic:null,ib:null,Gb:null,J:0});var Sc=new K;function Tc(){this.N=new K;this.O=new K}Tc.prototype={N:new K,ga:null,O:new K,ha:null,va:function(){this.N.va();this.ga=0;this.O.va();this.ha=0},j:function(a,c,b,d){O(this.N,a);this.ga=c;O(this.O,b);this.ha=d},dd:function(a,c,b,d){return this.N.x*a.x+this.N.y*a.y+this.ga*c+(this.O.x*b.x+this.O.y*b.y)+this.ha*d}};function Uc(a){this.p=new Y;this.q=new Y;this.oa=a.type;this.o=this.D=null;this.i=a.Z;this.e=a.ba;this.wb=a.hb;this.pb=false;this.eb=a.B;this.f=new K;this.g=new K;this.Y=new K;this.Oa=new K;this.K=new Tc;this.z=new Tc;var c,b,d;c=this.i.d;b=a.pa.x-this.i.c.x;d=a.pa.y-this.i.c.y;this.f.j(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);c=this.e.d;b=a.pa.x-this.e.c.x;d=a.pa.y-this.e.c.y;this.g.j(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);c=this.i.d;b=a.axis.x;d=a.axis.y;this.Y.j(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);this.Oa.x=-this.Y.y;
this.Oa.y=this.Y.x;this.$e=this.e.n-this.i.n;this.K.va();this.Dc=this.wd=this.yb=this.Jc=0;this.z.va();this.ea=this.s=this.$=this.Ia=0;this.Dd=a.Ue;this.Jd=a.mf;this.Ed=a.oe;this.ic=a.nc;this.ib=a.Vc;this.Gb=a.Eb}E(Uc.prototype,Qc.prototype);
E(Uc.prototype,{Qb:function(){var a=this.i,c=new K;O(c,this.f);xb(c,a.d);P(c,a.c);return c},Rb:function(){var a=this.e,c=new K;O(c,this.g);xb(c,a.d);P(c,a.c);return c},gd:function(){var a=this.i,c=this.e,b;b=a.d;var d=b.a.x*this.f.x+b.b.x*this.f.y,e=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;d=c.c.x+(b.a.x*this.g.x+b.b.x*this.g.y)-(a.c.x+d);c=c.c.y+(b.a.y*this.g.x+b.b.y*this.g.y)-(a.c.y+e);b=a.d;return(b.a.x*this.Y.x+b.b.x*this.Y.y)*d+(b.a.y*this.Y.x+b.b.y*this.Y.y)*c},vf:function(){var a=this.i,c=this.e,
b;b=a.d;var d=b.a.x*this.f.x+b.b.x*this.f.y,e=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;var f=b.a.x*this.g.x+b.b.x*this.g.y,g=b.a.y*this.g.x+b.b.y*this.g.y,h=c.c.x+f-(a.c.x+d),i=c.c.y+g-(a.c.y+e);b=a.d;var j=b.a.x*this.Y.x+b.b.x*this.Y.y;b=b.a.y*this.Y.x+b.b.y*this.Y.y;var k=a.h,l=c.h;a=a.l;c=c.l;return h*-a*b+i*a*j+(j*(l.x+-c*g-k.x- -a*e)+b*(l.y+c*f-k.y-a*d))},cg:function(a){return a*this.$},Gf:aa("ic"),fg:aa("Ed"),vc:function(a){a=a*this.s;var c;c=this.i.d;return new K(a*(c.a.x*this.Y.x+c.b.x*this.Y.y)+
a*(c.a.x*this.Oa.x+c.b.x*this.Oa.y),a*(c.a.y*this.Y.x+c.b.y*this.Y.y)+a*(c.a.y*this.Oa.x+c.b.y*this.Oa.y))},wc:function(a){return a*this.Dc},Sb:function(){var a=this.i,c=this.e,b;b=a.d;var d=b.a.x*this.f.x+b.b.x*this.f.y,e=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;var f=b.a.x*this.g.x+b.b.x*this.g.y,g=b.a.y*this.g.x+b.b.y*this.g.y,h=a.k,i=c.k,j=a.m,k=c.m;b=a.d;var l=b.a.x*this.Oa.x+b.b.x*this.Oa.y;b=b.a.y*this.Oa.x+b.b.y*this.Oa.y;var m=c.c.x+f-a.c.x,o=c.c.y+g-a.c.y;this.K.N.x=-l;this.K.N.y=-b;this.K.O.x=
l;this.K.O.y=b;this.K.ga=-(m*b-o*l);this.K.ha=f*b-g*l;this.Jc=h+j*this.K.ga*this.K.ga+i+k*this.K.ha*this.K.ha;this.Jc=1/this.Jc;this.wd=1/(j+k);if(this.ib||this.Gb){b=a.d;l=b.a.x*this.Y.x+b.b.x*this.Y.y;b=b.a.y*this.Y.x+b.b.y*this.Y.y;this.z.N.x=-l;this.z.N.y=-b;this.z.O.x=l;this.z.O.y=b;this.z.ga=-(m*b-o*l);this.z.ha=f*b-g*l;this.Ia=h+j*this.z.ga*this.z.ga+i+k*this.z.ha*this.z.ha;this.Ia=1/this.Ia;if(this.ib){d=l*(m-d)+b*(o-e);if(L(this.Jd-this.Dd)<0.3)this.J=3;else if(d<=this.Dd){if(this.J!=1)this.s=
0;this.J=1}else if(d>=this.Jd){if(this.J!=2)this.s=0;this.J=2}else this.s=this.J=0}}if(this.Gb==false)this.$=0;if(this.ib==false)this.s=0;if(Mc){d=this.yb*this.K.N.y+(this.$+this.s)*this.z.N.y;e=this.yb*this.K.O.x+(this.$+this.s)*this.z.O.x;f=this.yb*this.K.O.y+(this.$+this.s)*this.z.O.y;g=this.yb*this.K.ga-this.Dc+(this.$+this.s)*this.z.ga;m=this.yb*this.K.ha+this.Dc+(this.$+this.s)*this.z.ha;a.h.x+=h*(this.yb*this.K.N.x+(this.$+this.s)*this.z.N.x);a.h.y+=h*d;a.l+=j*g;c.h.x+=i*e;c.h.y+=i*f;c.l+=
k*m}else this.$=this.s=this.Dc=this.yb=0;this.ea=0},sb:function(a){var c=this.i,b=this.e,d=c.k,e=b.k,f=c.m,g=b.m,h=-this.Jc*this.K.dd(c.h,c.l,b.h,b.l);this.yb+=h;c.h.x+=d*h*this.K.N.x;c.h.y+=d*h*this.K.N.y;c.l+=f*h*this.K.ga;b.h.x+=e*h*this.K.O.x;b.h.y+=e*h*this.K.O.y;b.l+=g*h*this.K.ha;h=-this.wd*(b.l-c.l);this.Dc+=h;c.l-=f*h;b.l+=g*h;if(this.Gb&&this.J!=3){h=-this.Ia*(this.z.dd(c.h,c.l,b.h,b.l)-this.ic);var i=this.$;this.$=N(this.$+h,-a.Xa*this.Ed,a.Xa*this.Ed);h=this.$-i;c.h.x+=d*h*this.z.N.x;
c.h.y+=d*h*this.z.N.y;c.l+=f*h*this.z.ga;b.h.x+=e*h*this.z.O.x;b.h.y+=e*h*this.z.O.y;b.l+=g*h*this.z.ha}if(this.ib&&this.J!=0){h=-this.Ia*this.z.dd(c.h,c.l,b.h,b.l);if(this.J==3)this.s+=h;else if(this.J==1){a=this.s;this.s=M(this.s+h,0);h=this.s-a}else if(this.J==2){a=this.s;this.s=this.s+h<0?this.s+h:0;h=this.s-a}c.h.x+=d*h*this.z.N.x;c.h.y+=d*h*this.z.N.y;c.l+=f*h*this.z.ga;b.h.x+=e*h*this.z.O.x;b.h.y+=e*h*this.z.O.y;b.l+=g*h*this.z.ha}},rb:function(){var a,c,b=this.i,d=this.e,e=b.k,f=d.k,g=b.m,
h=d.m,i;i=b.d;var j=i.a.x*this.f.x+i.b.x*this.f.y,k=i.a.y*this.f.x+i.b.y*this.f.y;i=d.d;a=i.a.x*this.g.x+i.b.x*this.g.y;i=i.a.y*this.g.x+i.b.y*this.g.y;j=b.c.x+j;k=b.c.y+k;a=d.c.x+a;i=d.c.y+i;a=a-j;j=i-k;i=b.d;var l=(i.a.x*this.Oa.x+i.b.x*this.Oa.y)*a+(i.a.y*this.Oa.x+i.b.y*this.Oa.y)*j;l=N(l,-6,6);c=-this.Jc*l;b.c.x+=e*c*this.K.N.x;b.c.y+=e*c*this.K.N.y;b.n+=g*c*this.K.ga;d.c.x+=f*c*this.K.O.x;d.c.y+=f*c*this.K.O.y;d.n+=h*c*this.K.ha;l=L(l);c=d.n-b.n-this.$e;c=N(c,-Fb,Fb);var m=-this.wd*c;b.n-=b.m*
m;b.d.j(b.n);d.n+=d.m*m;d.d.j(d.n);m=L(c);if(this.ib&&this.J!=0){i=b.d;j=i.a.x*this.f.x+i.b.x*this.f.y;k=i.a.y*this.f.x+i.b.y*this.f.y;i=d.d;a=i.a.x*this.g.x+i.b.x*this.g.y;i=i.a.y*this.g.x+i.b.y*this.g.y;j=b.c.x+j;k=b.c.y+k;a=d.c.x+a;i=d.c.y+i;a=a-j;j=i-k;i=b.d;i=(i.a.x*this.Y.x+i.b.x*this.Y.y)*a+(i.a.y*this.Y.x+i.b.y*this.Y.y)*j;a=0;if(this.J==3){a=N(i,-6,6);a=-this.Ia*a;l=M(l,L(c))}else if(this.J==1){a=i-this.Dd;l=M(l,-a);a=N(a+0.15,-6,0);a=-this.Ia*a;c=this.ea;this.ea=M(this.ea+a,0);a=this.ea-
c}else if(this.J==2){a=i-this.Jd;l=M(l,a);a=N(a-0.15,0,6);a=-this.Ia*a;c=this.ea;this.ea=this.ea+a<0?this.ea+a:0;a=this.ea-c}b.c.x+=e*a*this.z.N.x;b.c.y+=e*a*this.z.N.y;b.n+=g*a*this.z.ga;b.d.j(b.n);d.c.x+=f*a*this.z.O.x;d.c.y+=f*a*this.z.O.y;d.n+=h*a*this.z.ha;d.d.j(d.n)}return l<=0.15&&m<=Eb},f:new K,g:new K,Y:new K,Oa:new K,$e:null,K:new Tc,Jc:null,yb:null,wd:null,Dc:null,z:new Tc,Ia:null,$:null,s:null,ea:null,Dd:null,Jd:null,Ed:null,ic:null,ib:null,Gb:null,J:0});function Vc(a){this.p=new Y;this.q=new Y;this.oa=a.type;this.o=this.D=null;this.i=a.Z;this.e=a.ba;this.wb=a.hb;this.pb=false;this.eb=a.B;this.Ea=new X;this.ta=new X;this.ua=new X;this.cb=new K;this.Ob=new K;this.I=new K;this.qb=new X;this.Xc=new K;O(this.Ob,a.target);var c=this.Ob.x-this.e.c.x,b=this.Ob.y-this.e.c.y;this.cb.x=c*this.e.d.a.x+b*this.e.d.a.y;this.cb.y=c*this.e.d.b.x+b*this.e.d.b.y;this.he=a.lg;this.I.va();b=this.e.Ca;var d=2*Db*a.kg;c=2*b*a.jg*d;b=b*d*d;this.Zc=1/(c+a.kf*b);this.ce=
a.kf*b/(c+a.kf*b)}E(Vc.prototype,Qc.prototype);
E(Vc.prototype,{Qb:p("Ob"),Rb:function(){var a=I(this.e.d,this.cb);P(a,this.e.c);return a},vc:function(a){var c=new K;O(c,this.I);Q(c,a);return c},wc:t(0),hg:function(a){this.e.Tb();this.Ob=a},Ea:new X,ta:new X,ua:new X,Sb:function(){var a=this.e,c;c=a.d;var b=c.a.x*this.cb.x+c.b.x*this.cb.y;c=c.a.y*this.cb.x+c.b.y*this.cb.y;var d=a.k,e=a.m;this.ta.a.x=d;this.ta.b.x=0;this.ta.a.y=0;this.ta.b.y=d;this.ua.a.x=e*c*c;this.ua.b.x=-e*b*c;this.ua.a.y=-e*b*c;this.ua.b.y=e*b*b;uc(this.Ea,this.ta);vc(this.Ea,
this.ua);this.Ea.a.x+=this.Zc;this.Ea.b.y+=this.Zc;wc(this.Ea,this.qb);this.Xc.x=a.c.x+b-this.Ob.x;this.Xc.y=a.c.y+c-this.Ob.y;a.l*=0.98;var f=this.I.x,g=this.I.y;a.h.x+=d*f;a.h.y+=d*g;a.l+=e*(b*g-c*f)},sb:function(a){var c=this.e,b;b=c.d;var d=b.a.x*this.cb.x+b.b.x*this.cb.y,e=b.a.y*this.cb.x+b.b.y*this.cb.y,f=c.h.x+-c.l*e,g=c.h.y+c.l*d;b=this.qb;f=f+this.ce*a.ae*this.Xc.x+this.Zc*this.I.x;var h=g+this.ce*a.ae*this.Xc.y+this.Zc*this.I.y;g=-(b.a.x*f+b.b.x*h);h=-(b.a.y*f+b.b.y*h);b=this.I.x;f=this.I.y;
this.I.x+=g;this.I.y+=h;g=R(this.I);g>a.Xa*this.he&&Q(this.I,a.Xa*this.he/g);g=this.I.x-b;h=this.I.y-f;c.h.x+=c.k*g;c.h.y+=c.k*h;c.l+=c.m*(d*h-e*g)},rb:t(true),cb:new K,Ob:new K,I:new K,qb:new X,Xc:new K,he:null,ce:null,Zc:null});function Wc(a){this.p=new Y;this.q=new Y;this.oa=a.type;this.o=this.D=null;this.i=a.Z;this.e=a.ba;this.wb=a.hb;this.pb=false;this.eb=a.B;this.f=new K;this.g=new K;this.fa=new K;var c,b,d;c=this.i.d;b=a.Vb.x-this.i.c.x;d=a.Vb.y-this.i.c.y;this.f.x=b*c.a.x+d*c.a.y;this.f.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.Wb.x-this.e.c.x;d=a.Wb.y-this.e.c.y;this.g.x=b*c.a.x+d*c.a.y;this.g.y=b*c.b.x+d*c.b.y;b=a.Wb.x-a.Vb.x;d=a.Wb.y-a.Vb.y;this.af=Math.sqrt(b*b+d*d);this.I=0}E(Wc.prototype,Qc.prototype);
E(Wc.prototype,{Sb:function(){var a;a=this.i.d;var c=a.a.x*this.f.x+a.b.x*this.f.y,b=a.a.y*this.f.x+a.b.y*this.f.y;a=this.e.d;var d=a.a.x*this.g.x+a.b.x*this.g.y;a=a.a.y*this.g.x+a.b.y*this.g.y;this.fa.x=this.e.c.x+d-this.i.c.x-c;this.fa.y=this.e.c.y+a-this.i.c.y-b;var e=Math.sqrt(this.fa.x*this.fa.x+this.fa.y*this.fa.y);e>0.15?Q(this.fa,1/e):this.fa.va();e=c*this.fa.y-b*this.fa.x;var f=d*this.fa.y-a*this.fa.x;this.Ca=this.i.k+this.i.m*e*e+this.e.k+this.e.m*f*f;this.Ca=1/this.Ca;if(Mc){e=this.I*this.fa.x;
f=this.I*this.fa.y;this.i.h.x-=this.i.k*e;this.i.h.y-=this.i.k*f;this.i.l-=this.i.m*(c*f-b*e);this.e.h.x+=this.e.k*e;this.e.h.y+=this.e.k*f;this.e.l+=this.e.m*(d*f-a*e)}else this.I=0},sb:function(){var a;a=this.i.d;var c=a.a.x*this.f.x+a.b.x*this.f.y,b=a.a.y*this.f.x+a.b.y*this.f.y;a=this.e.d;var d=a.a.x*this.g.x+a.b.x*this.g.y;a=a.a.y*this.g.x+a.b.y*this.g.y;var e=-this.Ca*(this.fa.x*(this.e.h.x+-this.e.l*a-(this.i.h.x+-this.i.l*b))+this.fa.y*(this.e.h.y+this.e.l*d-(this.i.h.y+this.i.l*c)));this.I+=
e;var f=e*this.fa.x;e=e*this.fa.y;this.i.h.x-=this.i.k*f;this.i.h.y-=this.i.k*e;this.i.l-=this.i.m*(c*e-b*f);this.e.h.x+=this.e.k*f;this.e.h.y+=this.e.k*e;this.e.l+=this.e.m*(d*e-a*f)},rb:function(){var a;a=this.i.d;var c=a.a.x*this.f.x+a.b.x*this.f.y,b=a.a.y*this.f.x+a.b.y*this.f.y;a=this.e.d;var d=a.a.x*this.g.x+a.b.x*this.g.y;a=a.a.y*this.g.x+a.b.y*this.g.y;var e=this.e.c.x+d-this.i.c.x-c,f=this.e.c.y+a-this.i.c.y-b,g=Math.sqrt(e*e+f*f);e/=g;f/=g;g=g-this.af;g=N(g,-6,6);var h=-this.Ca*g;this.fa.j(e,
f);e=h*this.fa.x;f=h*this.fa.y;this.i.c.x-=this.i.k*e;this.i.c.y-=this.i.k*f;this.i.n-=this.i.m*(c*f-b*e);this.e.c.x+=this.e.k*e;this.e.c.y+=this.e.k*f;this.e.n+=this.e.m*(d*f-a*e);this.i.d.j(this.i.n);this.e.d.j(this.e.n);return L(g)<0.15},Qb:function(){return vb(this.i.c,I(this.i.d,this.f))},Rb:function(){return vb(this.e.c,I(this.e.d,this.g))},vc:function(a){var c=new K;O(c,this.fa);Q(c,this.I*a);return c},wc:t(0),f:new K,g:new K,fa:new K,I:null,Ca:null,af:null});function Xc(a){this.p=new Y;this.q=new Y;this.oa=a.type;this.o=this.D=null;this.i=a.Z;this.e=a.ba;this.wb=a.hb;this.pb=false;this.eb=a.B;this.Ma=new K;this.Na=new K;this.f=new K;this.g=new K;this.P=new K;this.Q=new K;var c,b,d;this.ja=this.i.T.dc;this.Ma.x=a.Zd.x-this.ja.c.x;this.Ma.y=a.Zd.y-this.ja.c.y;this.Na.x=a.$d.x-this.ja.c.x;this.Na.y=a.$d.y-this.ja.c.y;c=this.i.d;b=a.Vb.x-this.i.c.x;d=a.Vb.y-this.i.c.y;this.f.x=b*c.a.x+d*c.a.y;this.f.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.Wb.x-this.e.c.x;d=a.Wb.y-
this.e.c.y;this.g.x=b*c.a.x+d*c.a.y;this.g.y=b*c.b.x+d*c.b.y;this.S=a.Yf;b=a.Zd.x-a.Vb.x;d=a.Zd.y-a.Vb.y;c=Math.sqrt(b*b+d*d);b=a.$d.x-a.Wb.x;d=a.$d.y-a.Wb.y;b=Math.sqrt(b*b+d*d);d=M(0.5*Yc,c);b=M(0.5*Yc,b);this.$b=d+this.S*b;this.ie=N(a.mg,d,this.$b-this.S*Yc);this.je=N(a.ng,b,(this.$b-Yc)/this.S);this.Ib=this.Hb=this.Lc=0}E(Xc.prototype,Qc.prototype);
E(Xc.prototype,{Qb:function(){var a=this.i.d;return new K(this.i.c.x+(a.a.x*this.f.x+a.b.x*this.f.y),this.i.c.y+(a.a.y*this.f.x+a.b.y*this.f.y))},Rb:function(){var a=this.e.d;return new K(this.e.c.x+(a.a.x*this.g.x+a.b.x*this.g.y),this.e.c.y+(a.a.y*this.g.x+a.b.y*this.g.y))},Zf:function(){return new K(this.ja.c.x+this.Ma.x,this.ja.c.y+this.Ma.y)},$f:function(){return new K(this.ja.c.x+this.Na.x,this.ja.c.y+this.Na.y)},vc:function(){return new K},wc:t(0),ag:function(){var a;a=this.i.d;var c=this.i.c.x+
(a.a.x*this.f.x+a.b.x*this.f.y)-(this.ja.c.x+this.Ma.x);a=this.i.c.y+(a.a.y*this.f.x+a.b.y*this.f.y)-(this.ja.c.y+this.Ma.y);return Math.sqrt(c*c+a*a)},bg:function(){var a;a=this.e.d;var c=this.e.c.x+(a.a.x*this.g.x+a.b.x*this.g.y)-(this.ja.c.x+this.Na.x);a=this.e.c.y+(a.a.y*this.g.x+a.b.y*this.g.y)-(this.ja.c.y+this.Na.y);return Math.sqrt(c*c+a*a)},wf:p("S"),Sb:function(){var a=this.i,c=this.e,b;b=a.d;var d=b.a.x*this.f.x+b.b.x*this.f.y,e=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;var f=b.a.x*this.g.x+
b.b.x*this.g.y;b=b.a.y*this.g.x+b.b.y*this.g.y;var g=c.c.x+f,h=c.c.y+b,i=this.ja.c.x+this.Na.x,j=this.ja.c.y+this.Na.y;this.P.j(a.c.x+d-(this.ja.c.x+this.Ma.x),a.c.y+e-(this.ja.c.y+this.Ma.y));this.Q.j(g-i,h-j);g=R(this.P);h=R(this.Q);g>0.15?Q(this.P,1/g):this.P.va();h>0.15?Q(this.Q,1/h):this.Q.va();if(g<this.ie)this.Hb=this.Ad=0;else{this.Ad=2;this.$c=0}if(h<this.je)this.Ib=this.Bd=0;else{this.Bd=2;this.ad=0}g=d*this.P.y-e*this.P.x;h=f*this.Q.y-b*this.Q.x;this.Hc=a.k+a.m*g*g;this.Ic=c.k+c.m*h*h;
this.bd=this.Hc+this.S*this.S*this.Ic;this.Hc=1/this.Hc;this.Ic=1/this.Ic;this.bd=1/this.bd;g=(-this.Lc-this.Hb)*this.P.x;h=(-this.Lc-this.Hb)*this.P.y;i=(-this.S*this.Lc-this.Ib)*this.Q.x;j=(-this.S*this.Lc-this.Ib)*this.Q.y;a.h.x+=a.k*g;a.h.y+=a.k*h;a.l+=a.m*(d*h-e*g);c.h.x+=c.k*i;c.h.y+=c.k*j;c.l+=c.m*(f*j-b*i)},sb:function(){var a=this.i,c=this.e,b;b=a.d;var d=b.a.x*this.f.x+b.b.x*this.f.y,e=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;var f=b.a.x*this.g.x+b.b.x*this.g.y;b=b.a.y*this.g.x+b.b.y*this.g.y;
var g,h,i,j;g=a.h.x+-a.l*e;h=a.h.y+a.l*d;i=c.h.x+-c.l*b;j=c.h.y+c.l*f;g=-(this.P.x*g+this.P.y*h)-this.S*(this.Q.x*i+this.Q.y*j);j=-this.bd*g;this.Lc+=j;g=-j*this.P.x;h=-j*this.P.y;i=-this.S*j*this.Q.x;j=-this.S*j*this.Q.y;a.h.x+=a.k*g;a.h.y+=a.k*h;a.l+=a.m*(d*h-e*g);c.h.x+=c.k*i;c.h.y+=c.k*j;c.l+=c.m*(f*j-b*i);if(this.Ad==2){g=a.h.x+-a.l*e;h=a.h.y+a.l*d;g=-(this.P.x*g+this.P.y*h);j=-this.Hc*g;g=this.Hb;this.Hb=M(0,this.Hb+j);j=this.Hb-g;g=-j*this.P.x;h=-j*this.P.y;a.h.x+=a.k*g;a.h.y+=a.k*h;a.l+=a.m*
(d*h-e*g)}if(this.Bd==2){i=c.h.x+-c.l*b;j=c.h.y+c.l*f;g=-(this.Q.x*i+this.Q.y*j);j=-this.Ic*g;g=this.Ib;this.Ib=M(0,this.Ib+j);j=this.Ib-g;i=-j*this.Q.x;j=-j*this.Q.y;c.h.x+=c.k*i;c.h.y+=c.k*j;c.l+=c.m*(f*j-b*i)}},rb:function(){var a=this.i,c=this.e,b,d=this.ja.c.x+this.Ma.x,e=this.ja.c.y+this.Ma.y,f=this.ja.c.x+this.Na.x,g=this.ja.c.y+this.Na.y,h,i,j,k,l,m,o,q=0;b=a.d;h=b.a.x*this.f.x+b.b.x*this.f.y;i=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;j=b.a.x*this.g.x+b.b.x*this.g.y;b=b.a.y*this.g.x+b.b.y*this.g.y;
k=a.c.x+h;l=a.c.y+i;m=c.c.x+j;o=c.c.y+b;this.P.j(k-d,l-e);this.Q.j(m-f,o-g);k=R(this.P);l=R(this.Q);k>0.15?Q(this.P,1/k):this.P.va();l>0.15?Q(this.Q,1/l):this.Q.va();k=this.$b-k-this.S*l;q=M(q,Math.abs(k));k=N(k,-6,6);o=-this.bd*k;k=-o*this.P.x;l=-o*this.P.y;m=-this.S*o*this.Q.x;o=-this.S*o*this.Q.y;a.c.x+=a.k*k;a.c.y+=a.k*l;a.n+=a.m*(h*l-i*k);c.c.x+=c.k*m;c.c.y+=c.k*o;c.n+=c.m*(j*o-b*m);a.d.j(a.n);c.d.j(c.n);if(this.Ad==2){b=a.d;h=b.a.x*this.f.x+b.b.x*this.f.y;i=b.a.y*this.f.x+b.b.y*this.f.y;k=a.c.x+
h;l=a.c.y+i;this.P.j(k-d,l-e);k=R(this.P);if(k>0.15){this.P.x*=1/k;this.P.y*=1/k}else this.P.va();k=this.ie-k;q=M(q,-k);k=N(k+0.15,-6,0);o=-this.Hc*k;d=this.$c;this.$c=M(0,this.$c+o);o=this.$c-d;k=-o*this.P.x;l=-o*this.P.y;a.c.x+=a.k*k;a.c.y+=a.k*l;a.n+=a.m*(h*l-i*k);a.d.j(a.n)}if(this.Bd==2){b=c.d;j=b.a.x*this.g.x+b.b.x*this.g.y;b=b.a.y*this.g.x+b.b.y*this.g.y;m=c.c.x+j;o=c.c.y+b;this.Q.j(m-f,o-g);l=R(this.Q);if(l>0.15){this.Q.x*=1/l;this.Q.y*=1/l}else this.Q.va();k=this.je-l;q=M(q,-k);k=N(k+0.15,
-6,0);o=-this.Ic*k;d=this.ad;this.ad=M(0,this.ad+o);o=this.ad-d;m=-o*this.Q.x;o=-o*this.Q.y;c.c.x+=c.k*m;c.c.y+=c.k*o;c.n+=c.m*(j*o-b*m);c.d.j(c.n)}return q<0.15},ja:null,Ma:new K,Na:new K,f:new K,g:new K,P:new K,Q:new K,$b:null,S:null,ie:null,je:null,bd:null,Hc:null,Ic:null,Lc:null,Hb:null,Ib:null,$c:null,ad:null,Ad:0,Bd:0});var Yc=30;function Zc(a){this.p=new Y;this.q=new Y;this.oa=a.type;this.o=this.D=null;this.i=a.Z;this.e=a.ba;this.wb=a.hb;this.pb=false;this.eb=a.B;this.Ma=new K;this.Na=new K;this.f=new K;this.g=new K;this.W=new Tc;this.kc=this.Mb=this.jc=this.Lb=null;var c,b;this.Ye=a.nd.i;this.i=a.nd.e;if(a.nd.oa==1){this.Lb=a.nd;O(this.Ma,this.Lb.f);O(this.f,this.Lb.g);c=this.Lb.fd()}else{this.jc=a.nd;O(this.Ma,this.jc.f);O(this.f,this.jc.g);c=this.jc.gd()}this.Ze=a.od.i;this.e=a.od.e;if(a.od.oa==1){this.Mb=a.od;O(this.Na,
this.Mb.f);O(this.g,this.Mb.g);b=this.Mb.fd()}else{this.kc=a.od;O(this.Na,this.kc.f);O(this.g,this.kc.g);b=this.kc.gd()}this.S=a.Yf;this.$b=c+this.S*b;this.I=0}E(Zc.prototype,Qc.prototype);
E(Zc.prototype,{Qb:function(){var a=this.i.d;return new K(this.i.c.x+(a.a.x*this.f.x+a.b.x*this.f.y),this.i.c.y+(a.a.y*this.f.x+a.b.y*this.f.y))},Rb:function(){var a=this.e.d;return new K(this.e.c.x+(a.a.x*this.g.x+a.b.x*this.g.y),this.e.c.y+(a.a.y*this.g.x+a.b.y*this.g.y))},vc:function(){return new K},wc:t(0),wf:p("S"),Sb:function(){var a=this.Ye,c=this.Ze,b=this.i,d=this.e,e,f,g,h=0;this.W.va();if(this.Lb){this.W.ga=-1;h+=b.m}else{g=a.d;e=this.jc.Y;a=g.a.x*e.x+g.b.x*e.y;e=g.a.y*e.x+g.b.y*e.y;g=
b.d;f=g.a.x*this.f.x+g.b.x*this.f.y;g=g.a.y*this.f.x+g.b.y*this.f.y;f=f*e-g*a;this.W.N.j(-a,-e);this.W.ga=-f;h+=b.k+b.m*f*f}if(this.Mb){this.W.ha=-this.S;h+=this.S*this.S*d.m}else{g=c.d;e=this.kc.Y;a=g.a.x*e.x+g.b.x*e.y;e=g.a.y*e.x+g.b.y*e.y;g=d.d;f=g.a.x*this.g.x+g.b.x*this.g.y;g=g.a.y*this.g.x+g.b.y*this.g.y;f=f*e-g*a;this.W.O.j(-this.S*a,-this.S*e);this.W.ha=-this.S*f;h+=this.S*this.S*(d.k+d.m*f*f)}this.Ca=1/h;b.h.x+=b.k*this.I*this.W.N.x;b.h.y+=b.k*this.I*this.W.N.y;b.l+=b.m*this.I*this.W.ga;
d.h.x+=d.k*this.I*this.W.O.x;d.h.y+=d.k*this.I*this.W.O.y;d.l+=d.m*this.I*this.W.ha},sb:function(){var a=this.i,c=this.e,b=-this.Ca*this.W.dd(a.h,a.l,c.h,c.l);this.I+=b;a.h.x+=a.k*b*this.W.N.x;a.h.y+=a.k*b*this.W.N.y;a.l+=a.m*b*this.W.ga;c.h.x+=c.k*b*this.W.O.x;c.h.y+=c.k*b*this.W.O.y;c.l+=c.m*b*this.W.ha},rb:function(){var a=this.i,c=this.e,b=-this.Ca*(this.$b-((this.Lb?this.Lb.fd():this.jc.gd())+this.S*(this.Mb?this.Mb.fd():this.kc.gd())));a.c.x+=a.k*b*this.W.N.x;a.c.y+=a.k*b*this.W.N.y;a.n+=a.m*
b*this.W.ga;c.c.x+=c.k*b*this.W.O.x;c.c.y+=c.k*b*this.W.O.y;c.n+=c.m*b*this.W.ha;a.d.j(a.n);c.d.j(c.n);return true},Ye:null,Ze:null,Lb:null,jc:null,Mb:null,kc:null,Ma:new K,Na:new K,f:new K,g:new K,W:new Tc,$b:null,S:null,Ca:null,I:null});function $c(a,c,b){this.Hd=new yb;this.Ec=new bc(this);this.ge=null;this.ig=ec;this.X=this.ca=this.ob=null;this.bb=this.xb=this.Fa=0;this.Yc=null;this.Ve=b;this.Uf=c;this.Ec.T=this;this.Ta=new rc(a,this.Ec);this.dc=Z(this,new $)}function Z(a,c){var b=new Ec(c,a);b.D=null;if(b.o=a.ob)a.ob.D=b;a.ob=b;++a.Fa;return b}
function ad(a,c){var b;b=null;switch(c.type){case 3:b=new Wc(c);break;case 5:b=new Vc(c);break;case 2:b=new Uc(c);break;case 1:b=new Rc(c);break;case 4:b=new Xc(c);break;case 6:b=new Zc(c);break;default:break}b=b;b.D=null;if(b.o=a.X)a.X.D=b;a.X=b;++a.bb;b.p.Zb=b;b.p.xa=b.e;b.p.r=null;if(b.p.next=b.i.X)b.i.X.r=b.p;b.i.X=b.p;b.q.Zb=b;b.q.xa=b.i;b.q.r=null;if(b.q.next=b.e.X)b.e.X.r=b.q;b.e.X=b.q;if(c.hb==false)for(var d=(c.Z.Nb<c.ba.Nb?c.Z:c.ba).Ab;d;d=d.o)d.hd(a.Ta);return b}u=$c.prototype;
u.Uc=function(a,c,b){var d=[];a=this.Ta.Df(a,d,b);for(b=0;b<a;++b)c[b]=d[b];return a};u.Xe=null;u.Wf=null;u.Ta=null;u.ob=null;u.X=null;u.Fa=0;u.xb=0;u.bb=0;u.Yc=null;u.Ve=null;u.dc=null;u.ge=null;u.le=0;var Oc=1,Mc=1;function $(){this.pc=[];this.B=null;for(var a=0;a<64;a++)this.pc[a]=null;this.position=new K(0,0);this.rotation=0;this.Se=new K(0,0);this.Ie=this.Re=this.Ud=0;this.He=true;this.ff=this.Qe=false}$.prototype={B:null,pc:[],position:null,Se:null,Re:null,Ie:null,He:null,Qe:null,ff:null,fb:function(a){for(var c=0;c<64;++c)if(this.pc[c]==null){this.pc[c]=a;break}}};function bd(){this.type=-1;this.B=null;this.Aa=new K(0,0);this.ub=0;this.$a=0.2;this.za=this.Ra=0;this.Wa=1;this.Za=65535;this.Yb=0}u=bd.prototype;u.type=0;u.B=null;u.Aa=null;u.ub=null;u.$a=null;u.Ra=null;u.za=null;u.Wa=0;u.Za=0;u.Yb=0;function cd(){this.type=-1;this.B=null;this.Aa=new K(0,0);this.ub=0;this.$a=0.2;this.za=this.Ra=0;this.Wa=1;this.Za=65535;this.Yb=0;this.type=1;this.V=new K(1,1)}C(cd,bd);function dd(){this.type=-1;this.B=null;this.Aa=new K(0,0);this.ub=0;this.$a=0.2;this.za=this.Ra=0;this.Wa=1;this.Za=65535;this.Yb=0;this.type=Ub;this.Bb=1}C(dd,bd);function ed(a){var c=new cd,b=new $;b.fb(c);c.za=1;c.$a=0.5;c.V.j(10,10);for(c=0;c<8;c++){b.position.j(250-Math.random()*2-1,245-c*22);Z(a,b)}for(c=0;c<8;c++){b.position.j(150-Math.random()*5+c,245-c*22);Z(a,b)}for(c=0;c<8;c++){b.position.j(350+Math.random()*5-c,245-c*22);Z(a,b)}};function fd(){this.type=0;this.ba=this.Z=this.B=null;this.hb=false}fd.prototype={type:0,B:null,Z:null,ba:null,hb:null};function gd(){this.type=0;this.ba=this.Z=this.B=null;this.hb=false;this.type=1;this.pa=new K(0,0);this.nc=this.pe=this.lf=this.Te=0;this.Eb=this.Vc=false}E(gd.prototype,fd.prototype);E(gd.prototype,{pa:null,Te:null,lf:null,pe:null,nc:null,Vc:null,Eb:null});function hd(a){var c,b=a.dc,d=new gd;for(c=0;c<4;c++){d.pa.j(250+40*c,50);d.Z=b;d.ba=id(a,250+40*c,200);ad(a,d)}d.pa.j(210,50);d.Z=b;d.ba=id(a,60,50);ad(a,d)};function jd(){this.type=-1;this.B=null;this.Aa=new K(0,0);this.ub=0;this.$a=0.2;this.za=this.Ra=0;this.Wa=1;this.Za=65535;this.Yb=0;this.Pb=Array(8);this.type=U;for(var a=this.Qc=0;a<8;a++)this.Pb[a]=new K}C(jd,bd);function kd(a){var c=new dd;c.Bb=50;c.Ra=0.2;var b=new $;b.fb(c);b.position.j(350,100);Z(a,b);ld(a,100,100,[[0,0],[10,30],[-10,30]],true);ld(a,150,150,[[0,0],[10,30],[-10,30]],true);b=md(a,150,100,20,20,false);c=new gd;c.Z=b;c.ba=a.dc;c.pa=b.c;ad(a,c);b=ld(a,300,200,[[0,0],[100,30],[-100,30]]);c.Z=b;c.pa=b.c;ad(a,c)}function ld(a,c,b,d,e){var f=new jd;if(!e)f.za=1;f.Qc=d.length;for(e=0;e<d.length;e++)f.Pb[e].j(d[e][0],d[e][1]);d=new $;d.fb(f);d.position.j(c,b);return Z(a,d)};function nd(){this.type=0;this.ba=this.Z=this.B=null;this.hb=false;this.type=2;this.pa=new K(0,0);this.axis=new K(0,0);this.nc=this.oe=this.mf=this.Ue=0;this.Eb=this.Vc=false}E(nd.prototype,fd.prototype);E(nd.prototype,{pa:null,axis:null,Ue:null,mf:null,oe:null,nc:null,Vc:null,Eb:null});function od(a){var c=a.dc,b=new cd;b.V.j(5,25);b.za=1;var d=new $;d.fb(b);var e=new gd,f=c;d.position.j(250,210);var g=Z(a,d);e.pa.j(250,235);e.Z=f;e.ba=g;e.nc=-1*Math.PI;e.pe=5E8;e.Eb=true;ad(a,e);f=g;b.V.j(5,45);d.position.j(250,140);g=Z(a,d);e.pa.j(250,185);e.Z=f;e.ba=g;e.Eb=false;ad(a,e);f=g;b.V.j(20,20);d.position.j(250,95);g=Z(a,d);e.pa.j(250,95);e.Z=f;e.ba=g;ad(a,e);e=new nd;e.pa.j(250,95);e.Z=c;e.ba=g;e.axis.j(0,1);e.nc=0;e.oe=1E5;e.Eb=true;ad(a,e);b.za=2;d.position.j(250,10);Z(a,d)};function pd(a){var c;for(c=1;c<=4;c++){var b=a,d=150+3*Math.random(),e=40*c,f=[[-30,0],[30,0],[0,15]],g=new jd;g.Qc=f.length;var h=void 0;for(h=0;h<f.length;h++)g.Pb[h].j(f[h][0],f[h][1]);g.ub=0.3524*Math.PI;var i=new X(g.ub);g.Aa=I(i,new K(30,0));g.za=1;i=new jd;i.Qc=f.length;for(h=0;h<f.length;h++)i.Pb[h].j(f[h][0],f[h][1]);i.ub=-0.3524*Math.PI;f=new X(i.ub);i.Aa=I(f,new K(-30,0));f=new $;f.fb(g);f.fb(i);f.position.j(d,e);Z(b,f)}for(c=1;c<=4;c++){b=a;d=350+3*Math.random();e=45*c;g=new dd;g.za=1;
g.Bb=20;g.Ra=0.2;g.Aa.j(-20,0);i=new dd;i.za=1;i.Bb=20;i.Ra=0.2;i.Aa.j(20,0);f=new $;f.fb(g);f.fb(i);f.position.j(d,e);Z(b,f)}};function qd(a){this.gc=0;this.Fb=[];this.Fb.push(pd);this.Fb.push(od);this.Fb.push(ed);this.Fb.push(hd);this.Fb.push(kd);this.Le=a.getContext("2d");this.Sf=a.width;this.Rf=a.height;var c=this;ob(window,"click",function(b){Math.random()<0.5?id(c.T,b.offsetX,b.offsetY,10):md(c.T,b.offsetX,b.offsetY,10,10,false)});ob(window,"contextmenu",function(b){b.preventDefault&&b.preventDefault();rd(c,-1);return false});rd(this);this.Ge()}
function rd(a,c){c||(c=0);var b=new S;b.G.j(-1000,-1000);b.C.j(1E3,1E3);b=new $c(b,new K(0,300),true);var d=new cd;d.V.j(1E3,50);d.Ra=0.2;var e=new $;e.fb(d);e.position.j(-500,340);Z(b,e);md(b,0,125,10,250);md(b,500,125,10,250);a.T=b;a.gc+=c;a.gc%=a.Fb.length;if(!isNaN(a.gc)){if(a.gc<0)a.gc=a.Fb.length+a.gc;a.Fb[a.gc](a.T)}}
qd.prototype.Ge=function(){var a=this.T,c=sd,b,d;a.Hd.Xa=c;a.Hd.be=1;a.Hd.ae=c>0?1/c:0;a.le=0;for(var e=a.Ec,f=e.T.ca;f!=null;){var g=f;f=f.o;g.A&2&&dc(e,g)}a.Ec.ee=true;for(e=a.Yc;e;){f=e;e=e.o;for(g=f.X;g;){d=g;g=g.next;b=a;d=d.Zb;var h=d.wb;if(d.D)d.D.o=d.o;if(d.o)d.o.D=d.D;if(d==b.X)b.X=d.o;var i=d.i,j=d.e;i.Tb();j.Tb();if(d.p.r)d.p.r.next=d.p.next;if(d.p.next)d.p.next.r=d.p.r;if(d.p==i.X)i.X=d.p.next;d.p.r=null;d.p.next=null;if(d.q.r)d.q.r.next=d.q.next;if(d.q.next)d.q.next.r=d.q.r;if(d.q==j.X)j.X=
d.q.next;d.q.r=null;d.q.next=null;--b.bb;if(h==false)for(d=(i.Nb<j.Nb?i:j).Ab;d;d=d.o)d.hd(b.Ta)}f.uf()}a.Yc=null;a.Ec.ee=false;for(e=a.Ec.T.ca;e!=null;e=e.o)if(!(e.L.t.ze()&&e.M.t.ze())){f=e.Ha;e.Sc();g=e.Ha;if(f==0&&g>0){f=e.L.t;g=e.M.t;b=e.p;d=e.q;b.La=e;b.xa=g;b.r=null;b.next=f.ca;if(b.next!=null)b.next.r=e.p;f.ca=e.p;d.La=e;d.xa=f;d.r=null;d.next=g.ca;if(d.next!=null)d.next.r=d;g.ca=d}else if(f>0&&g==0){f=e.L.t;g=e.M.t;b=e.p;d=e.q;if(b.r)b.r.next=b.next;if(b.next)b.next.r=b.r;if(b==f.ca)f.ca=
b.next;b.r=null;b.next=null;if(d.r)d.r.next=d.next;if(d.next)d.next.r=d.r;if(d==g.ca)g.ca=d.next;d.r=null;d.next=null}}e=new Nc(a.Fa,a.xb,a.bb,a.Wf);for(b=a.ob;b!=null;b=b.o)b.A&=-5;for(f=a.ca;f!=null;f=f.o)f.A&=-2;for(f=a.X;f!=null;f=f.o)f.pb=false;f=Array(a.Fa);for(g=0;g<a.Fa;g++)f[g]=null;for(g=a.ob;g!=null;g=g.o)if(!(g.A&(Fc|4|Hc|Ic))){e.rf();h=0;f[h++]=g;for(g.A|=4;h>0;){b=f[--h];e.nf(b);b.A&=~Hc;if(!(b.A&Fc)){for(i=b.ca;i!=null;i=i.next)if(!(i.La.A&1)){e.of(i.La);i.La.A|=1;d=i.xa;if(!(d.A&4)){f[h++]=
d;d.A|=4}}for(b=b.X;b!=null;b=b.next)if(b.Zb.pb!=true){e.pf(b.Zb);b.Zb.pb=true;d=b.xa;if(!(d.A&4)){f[h++]=d;d.A|=4}}}}e.Sd(a.Hd,a.Uf);a.le=M(a.le,Pc);a.Ve&&e.Jf(c);for(d=0;d<e.Fa;++d){b=e.nb[d];if(b.A&Fc)b.A&=-5;if(b.zf()&&a.ge)if(a.ge.eg(b)==1){h=a;b=b;if(!(b.A&32)){if(b.D)b.D.o=b.o;if(b.o)b.o.D=b.D;if(b==h.ob)h.ob=b.o;b.A|=32;--h.Fa;b.D=null;b.o=h.Yc;h.Yc=b}e.nb[d]=null}}}a.Ta.Rc();this.Le.clearRect(0,0,this.Sf,this.Rf);c=this.T;a=this.Le;for(e=c.X;e;e=e.o){f=c;g=e;b=a;d=g.i;h=g.e;i=d.c;j=h.c;var k=
g.Qb(),l=g.Rb();b.strokeStyle="#00eeee";b.beginPath();switch(g.oa){case 3:b.moveTo(k.x,k.y);b.lineTo(l.x,l.y);break;case 4:break;default:if(d==f.dc){b.moveTo(k.x,k.y);b.lineTo(j.x,j.y)}else if(h==f.dc){b.moveTo(k.x,k.y);b.lineTo(i.x,i.y)}else{b.moveTo(i.x,i.y);b.lineTo(k.x,k.y);b.lineTo(j.x,j.y);b.lineTo(l.x,l.y)}break}b.stroke()}for(c=c.ob;c;c=c.o)for(e=c.Ab;e!=null;e=e.uc()){g=e;f=a;f.strokeStyle="#ffffff";f.beginPath();switch(g.oa){case Ub:b=g.c;d=g.ma;f.arc(g.c.x,g.c.y,g.ma,0,2*Math.PI,false);
f.moveTo(b.x,b.y);g=g.d.a;g=new K(b.x+d*g.x,b.y+d*g.y);f.lineTo(g.x,g.y);break;case U:b=vb(g.c,I(g.d,g.v[0]));f.moveTo(b.x,b.y);for(d=0;d<g.Va;d++){h=vb(g.c,I(g.d,g.v[d]));f.lineTo(h.x,h.y)}f.lineTo(b.x,b.y);break}f.stroke()}z.setTimeout(ia(this.Ge,this),td)};function id(a,c,b,d){d||(d=20);var e=new dd;e.za=1;e.Bb=d;e.Ra=1;e.$a=0;d=new $;d.fb(e);d.position.j(c,b);return Z(a,d)}
function md(a,c,b,d,e,f){if(typeof f=="undefined")f=true;var g=new cd;if(!f)g.za=1;g.V.j(d,e);d=new $;d.fb(g);d.position.j(c,b);return Z(a,d)}var sd=1/60,td=sd*1E3;function ud(){ob(window,"load",function(){new qd(document.getElementsByTagName("canvas")[0])})}var vd="load".split("."),wd=z;!(vd[0]in wd)&&wd.execScript&&wd.execScript("var "+vd[0]);for(var xd;vd.length&&(xd=vd.shift());)if(!vd.length&&ud!==undefined)wd[xd]=ud;else wd=wd[xd]?wd[xd]:wd[xd]={};
