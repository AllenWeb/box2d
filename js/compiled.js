function n(){return function(){}}function aa(a){return function(c){this[a]=c}}function p(a){return function(){return this[a]}}function t(a){return function(){return a}}var u,z=this;function ba(){}
function ca(a){var c=typeof a;if(c=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(c=="function"&&typeof a.call=="undefined")return"object";return c}function da(a){if(a.hasOwnProperty&&a.hasOwnProperty(ea))return a[ea];a[ea]||(a[ea]=++fa);return a[ea]}var ea="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),fa=0;
function ga(a,c){var b=c||z;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}else return function(){return a.apply(b,arguments)}}function C(a,c){function b(){}b.prototype=c.prototype;a.pe=c.prototype;a.prototype=new b};function ha(a){this.stack=Error().stack||"";if(a)this.message=String(a)}C(ha,Error);function ka(a){for(var c=1;c<arguments.length;c++){var b=String(arguments[c]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,b)}return a}
function la(a,c){for(var b=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(c).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;b==0&&g<f;g++){var h=d[g]||"",i=e[g]||"",j=RegExp("(\\d*)(\\D*)","g"),k=RegExp("(\\d*)(\\D*)","g");do{var l=j.exec(h)||["","",""],m=k.exec(i)||["","",""];if(l[0].length==0&&m[0].length==0)break;b=ma(l[1].length==0?0:parseInt(l[1],10),m[1].length==0?0:parseInt(m[1],10))||ma(l[2].length==0,m[2].length==0)||ma(l[2],m[2])}while(b==
0)}return b}function ma(a,c){if(a<c)return-1;else if(a>c)return 1;return 0};function na(a,c){c.unshift(a);ha.call(this,ka.apply(null,c));c.shift();this.fg=a}C(na,ha);function qa(a,c){if(!a){var b=Array.prototype.slice.call(arguments,2),d="Assertion failed";if(c){d+=": "+c;var e=b}throw new na(""+d,e||[]);}};var ra=Array.prototype,sa=ra.indexOf?function(a,c,b){qa(a.length!=null);return ra.indexOf.call(a,c,b)}:function(a,c,b){b=b==null?0:b<0?Math.max(0,a.length+b):b;if(typeof a=="string"){if(typeof c!="string"||c.length!=1)return-1;return a.indexOf(c,b)}for(b=b;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1};var ta=[];function ua(){}ua.prototype.De=false;ua.prototype.hd=function(){if(!this.De){this.De=true;this.vc()}};ua.prototype.vc=n();var va;function wa(a,c){this.type=a;this.currentTarget=this.target=c}C(wa,ua);wa.prototype.vc=function(){delete this.type;delete this.target;delete this.currentTarget};wa.prototype.ne=false;wa.prototype.Ue=true;wa.prototype.preventDefault=function(){this.Ue=false};var xa,ya,za,Aa;function Ba(){return z.navigator?z.navigator.userAgent:null}Aa=za=ya=xa=false;var Ca;if(Ca=Ba()){var Da=z.navigator;xa=Ca.indexOf("Opera")==0;ya=!xa&&Ca.indexOf("MSIE")!=-1;za=!xa&&Ca.indexOf("WebKit")!=-1;Aa=!xa&&!za&&Da.product=="Gecko"}var Ea=xa,Fa=ya,Ga=Aa,Ha=za,Ia=z.navigator,Ja=(Ia&&Ia.platform||"").indexOf("Mac")!=-1,Ka,La="",Ma;
if(Ea&&z.opera){var Oa=z.opera.version;La=typeof Oa=="function"?Oa():Oa}else{if(Ga)Ma=/rv\:([^\);]+)(\)|;)/;else if(Fa)Ma=/MSIE\s+([^\);]+)(\)|;)/;else if(Ha)Ma=/WebKit\/(\S+)/;if(Ma){var Pa=Ma.exec(Ba());La=Pa?Pa[1]:""}}Ka=La;var Qa={};function Ra(a,c){a&&this.jd(a,c)}C(Ra,wa);u=Ra.prototype;u.target=null;u.relatedTarget=null;u.offsetX=0;u.offsetY=0;u.clientX=0;u.clientY=0;u.screenX=0;u.screenY=0;u.button=0;u.keyCode=0;u.charCode=0;u.ctrlKey=false;u.altKey=false;u.shiftKey=false;u.metaKey=false;u.Nf=false;u.Td=null;
u.jd=function(a,c){var b=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(Ga)try{d=d.nodeName&&d}catch(e){d=null}}else if(b=="mouseover")d=a.fromElement;else if(b=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(b=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Nf=Ja?a.metaKey:a.ctrlKey;this.Td=a;delete this.Ue;delete this.ne};var Sa=Fa&&!(Qa["8"]||(Qa["8"]=la(Ka,"8")>=0));
Ra.prototype.preventDefault=function(){Ra.pe.preventDefault.call(this);var a=this.Td;if(a.preventDefault)a.preventDefault();else{a.returnValue=false;if(Sa)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(c){}}};Ra.prototype.vc=function(){Ra.pe.vc.call(this);this.relatedTarget=this.currentTarget=this.target=this.Td=null};function Ta(){}var Ua=0;u=Ta.prototype;u.key=0;u.Jc=false;u.ze=false;u.jd=function(a,c,b,d,e,f){if(ca(a)=="function")this.Fe=true;else if(a&&a.handleEvent&&ca(a.handleEvent)=="function")this.Fe=false;else throw Error("Invalid listener argument");this.md=a;this.Te=c;this.src=b;this.type=d;this.capture=!!e;this.Ee=f;this.ze=false;this.key=++Ua;this.Jc=false};u.handleEvent=function(a){if(this.Fe)return this.md.call(this.Ee||this.src,a);return this.md.handleEvent.call(this.md,a)};function D(a,c){this.Re=c;this.Ub=[];if(a>this.Re)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var b=0;b<a;b++)this.Ub.push(this.sb?this.sb():{})}C(D,ua);D.prototype.sb=null;D.prototype.Ce=null;function Va(a){if(a.Ub.length)return a.Ub.pop();return a.sb?a.sb():{}}function Wa(a,c){a.Ub.length<a.Re?a.Ub.push(c):Xa(a,c)}
function Xa(a,c){if(a.Ce)a.Ce(c);else{var b=ca(c);if(b=="object"||b=="array"||b=="function")if(ca(c.hd)=="function")c.hd();else for(var d in c)delete c[d]}}D.prototype.vc=function(){D.pe.vc.call(this);for(var a=this.Ub;a.length;)Xa(this,a.pop());delete this.Ub};var Ya;var Za=(Ya="ScriptEngine"in z&&z.ScriptEngine()=="JScript")?z.ScriptEngineMajorVersion()+"."+z.ScriptEngineMinorVersion()+"."+z.ScriptEngineBuildVersion():"0";var $a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb;
(function(){function a(){return{Ab:0,Ic:0}}function c(){return[]}function b(){function m(o){return g.call(m.src,m.key,o)}return m}function d(){return new Ta}function e(){return new Ra}var f=Ya&&!(la(Za,"5.7")>=0),g;eb=function(m){g=m};if(f){$a=function(){return Va(h)};ab=function(m){Wa(h,m)};bb=function(){return Va(i)};cb=function(m){Wa(i,m)};db=function(){return Va(j)};fb=function(){Wa(j,b())};gb=function(){return Va(k)};hb=function(m){Wa(k,m)};ib=function(){return Va(l)};jb=function(m){Wa(l,m)};
var h=new D(0,600);h.sb=a;var i=new D(0,600);i.sb=c;var j=new D(0,600);j.sb=b;var k=new D(0,600);k.sb=d;var l=new D(0,600);l.sb=e}else{$a=a;ab=ba;bb=c;cb=ba;db=b;fb=ba;gb=d;hb=ba;ib=e;jb=ba}})();var kb=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];function E(a){for(var c,b,d=1;d<arguments.length;d++){b=arguments[d];for(c in b)a[c]=b[c];for(var e=0;e<kb.length;e++){c=kb[e];if(Object.prototype.hasOwnProperty.call(b,c))a[c]=b[c]}}};var lb={},F={},mb={},nb={};
function ob(a,c,b,d,e){if(c)if(ca(c)=="array"){for(var f=0;f<c.length;f++)ob(a,c[f],b,d,e);return null}else{d=!!d;var g=F;c in g||(g[c]=$a());g=g[c];if(!(d in g)){g[d]=$a();g.Ab++}g=g[d];var h=da(a),i;g.Ic++;if(g[h]){i=g[h];for(f=0;f<i.length;f++){g=i[f];if(g.md==b&&g.Ee==e){if(g.Jc)break;return i[f].key}}}else{i=g[h]=bb();g.Ab++}f=db();f.src=a;g=gb();g.jd(b,f,a,c,d,e);b=g.key;f.key=b;i.push(g);lb[b]=g;mb[h]||(mb[h]=bb());mb[h].push(g);if(a.addEventListener){if(a==z||!a.Af)a.addEventListener(c,f,
d)}else a.attachEvent(pb(c),f);return b}else throw Error("Invalid event type");}function qb(a,c,b,d){if(!d.pd)if(d.Se){for(var e=0,f=0;e<d.length;e++)if(d[e].Jc){var g=d[e].Te;g.src=null;fb(g);hb(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.Se=false;if(f==0){cb(d);delete F[a][c][b];F[a][c].Ab--;if(F[a][c].Ab==0){ab(F[a][c]);delete F[a][c];F[a].Ab--}if(F[a].Ab==0){ab(F[a]);delete F[a]}}}}function pb(a){if(a in nb)return nb[a];return nb[a]="on"+a}
function rb(a,c,b,d,e){var f=1;c=da(c);if(a[c]){a.Ic--;a=a[c];if(a.pd)a.pd++;else a.pd=1;try{for(var g=a.length,h=0;h<g;h++){var i=a[h];if(i&&!i.Jc)f&=sb(i,e)!==false}}finally{a.pd--;qb(b,d,c,a)}}return Boolean(f)}
function sb(a,c){var b=a.handleEvent(c);if(a.ze){var d=a.key;if(lb[d]){var e=lb[d];if(!e.Jc){var f=e.src,g=e.type,h=e.Te,i=e.capture;if(f.removeEventListener){if(f==z||!f.Af)f.removeEventListener(g,h,i)}else f.detachEvent&&f.detachEvent(pb(g),h);f=da(f);h=F[g][i][f];if(mb[f]){var j=mb[f],k=sa(j,e);if(k>=0){qa(j.length!=null);ra.splice.call(j,k,1)}j.length==0&&delete mb[f]}e.Jc=true;h.Se=true;qb(g,i,f,h);delete lb[d]}}}return b}
function tb(a,c){if(!lb[a])return true;var b=lb[a],d=b.type,e=F;if(!(d in e))return true;e=e[d];var f,g;if(va===undefined)va=Fa&&!z.addEventListener;if(va){var h;if(!(h=c))a:{h="window.event".split(".");for(var i=z;f=h.shift();)if(i[f])i=i[f];else{h=null;break a}h=i}f=h;h=true in e;i=false in e;if(h){if(f.keyCode<0||f.returnValue!=undefined)return true;a:{var j=false;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(k){j=true}if(j||f.returnValue==undefined)f.returnValue=true}}j=ib();j.jd(f,this);f=true;
try{if(h){for(var l=bb(),m=j.currentTarget;m;m=m.parentNode)l.push(m);g=e[true];g.Ic=g.Ab;for(var o=l.length-1;!j.ne&&o>=0&&g.Ic;o--){j.currentTarget=l[o];f&=rb(g,l[o],d,true,j)}if(i){g=e[false];g.Ic=g.Ab;for(o=0;!j.ne&&o<l.length&&g.Ic;o++){j.currentTarget=l[o];f&=rb(g,l[o],d,false,j)}}}else f=sb(b,j)}finally{if(l){l.length=0;cb(l)}j.hd();jb(j)}return f}d=new Ra(c,this);try{f=sb(b,d)}finally{d.hd()}return f}eb(tb);ta[ta.length]=function(a){tb=a.gg(tb);eb(tb)};function ub(a,c){return a.x*c.x+a.y*c.y}function I(a,c){return new K(a.a.x*c.x+a.b.x*c.y,a.a.y*c.x+a.b.y*c.y)}function vb(a,c){return new K(a.x+c.x,a.y+c.y)}function wb(a,c){return new K(a.x-c.x,a.y-c.y)}function L(a){return a>0?a:-a}function M(a,c){return a>c?a:c}function N(a,c,b){return M(c,a<b?a:b)};function K(a,c){if(a===undefined)a=0;this.x=a;if(c===undefined)c=0;this.y=c}u=K.prototype;u.va=function(){this.y=this.x=0};u.j=function(a,c){this.x=a;this.y=c};function O(a,c){a.x=c.x;a.y=c.y}u.bd=function(){return new K(this.x,this.y)};function P(a,c){a.x+=c.x;a.y+=c.y}function Q(a,c){a.x*=c;a.y*=c}function xb(a,c){var b=a.x;a.x=c.a.x*b+c.b.x*a.y;a.y=c.a.y*b+c.b.y*a.y}u.mc=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};function yb(a){return Math.sqrt(a.x*a.x+a.y*a.y)}
u.Oc=function(){return isFinite(this.x)&&isFinite(this.y)};function zb(){this.G=new K;this.B=new K}zb.prototype.Oc=function(){var a=this.B.x,c=this.B.y;a=this.B.x;c=this.B.y;a-=this.G.x;c-=this.G.y;return a=(a=a>=0&&c>=0)&&this.G.Oc()&&this.B.Oc()};function Ab(){}Ab.prototype={Xa:null,Xd:null,Yd:0};function R(){}R.prototype={xa:null,La:null,r:null,next:null};function Bb(){}Bb.prototype={Rd:null,Sd:null,me:null};function Cb(a,c){this.o=new R;this.q=new R;this.z=0;if(!a||!c)this.M=this.L=null;else{this.L=a;this.M=c;this.Ga=0;this.la=Math.sqrt(this.L.la*this.M.la);this.na=M(this.L.na,this.M.na);this.p=this.F=null;this.o.La=null;this.o.r=null;this.o.next=null;this.o.xa=null;this.q.La=null;this.q.r=null;this.q.next=null;this.q.xa=null}}Cb.prototype={oc:t(null),pc:p("p"),Nc:n(),z:0,F:null,p:null,o:new R,q:new R,L:null,M:null,Ga:0,la:null,na:null};function Db(){}Db.prototype.ve=t(null);Db.prototype.we=n();function Eb(a,c){this.o=new R;this.q=new R;this.z=0;if(!a||!c)this.M=this.L=null;else{this.L=a;this.M=c;this.Ga=0;this.la=Math.sqrt(this.L.la*this.M.la);this.na=M(this.L.na,this.M.na);this.p=this.F=null;this.o.La=null;this.o.r=null;this.o.next=null;this.o.xa=null;this.q.La=null;this.q.r=null;this.q.next=null;this.q.xa=null}}C(Eb,Cb);Eb.prototype.Nc=n();Eb.prototype.oc=t(null);var Fb=Math.PI,Gb=2/180*Fb,Hb=8/180*Fb,Ib=2/180/1;function Jb(){}Jb.prototype={xf:0,uf:0,vf:0,tf:0,wf:null};function Kb(){this.R=new Jb;this.R.wf=this}Kb.prototype={j:function(a){this.oe(a.Rb)},bd:function(){var a=new Kb;a.oe(this.Rb);return a},oe:function(a){this.Rb=a;this.R.xf=this.Rb&255;this.R.uf=(this.Rb&65280)>>8&255;this.R.vf=(this.Rb&16711680)>>16&255;this.R.tf=(this.Rb&4278190080)>>24&255},R:new Jb,Rb:0};function Lb(){this.position=new K;this.id=new Kb}Lb.prototype={lb:null,ra:null,ya:null};function Mb(){this.aa=Array(2);for(var a=0;a<2;a++)this.aa[a]=new Lb;this.D=new K}Mb.prototype={aa:null,D:null,T:0};function Nb(){this.zb=new K;this.id=new Kb};function Ob(a,c,b,d){var e=0,f=c[0].zb,g=c[1].zb,h=ub(b,c[0].zb)-d;b=ub(b,c[1].zb)-d;if(h<=0)a[e++]=c[0];if(b<=0)a[e++]=c[1];if(h*b<0){b=h/(h-b);d=a[e].zb;d.x=f.x+b*(g.x-f.x);d.y=f.y+b*(g.y-f.y);a[e].id=h>0?c[0].id:c[1].id;++e}return e}
function Pb(a,c,b){var d=a.v,e=b.Va,f=b.v,g=a.ib[c].x,h=a.ib[c].y,i=g,j=a.d;g=j.a.x*i+j.b.x*h;h=j.a.y*i+j.b.y*h;var k=g,l=h;j=b.d;i=k*j.a.x+l*j.a.y;l=k*j.b.x+l*j.b.y;k=i;i=0;j=Number.MAX_VALUE;for(var m=0;m<e;++m){var o=f[m];o=o.x*k+o.y*l;if(o<j){j=o;i=m}}j=a.d;e=a.c.x+(j.a.x*d[c].x+j.b.x*d[c].y);a=a.c.y+(j.a.y*d[c].x+j.b.y*d[c].y);j=b.d;c=b.c.x+(j.a.x*f[i].x+j.b.x*f[i].y);b=b.c.y+(j.a.y*f[i].x+j.b.y*f[i].y);c-=e;b-=a;return c*g+b*h}
function Qb(a,c,b,d){var e=c.Va,f=b.c.x-c.c.x,g=b.c.y-c.c.y,h=f*c.d.a.x+g*c.d.a.y;g=f*c.d.b.x+g*c.d.b.y;f=0;for(var i=-Number.MAX_VALUE,j=0;j<e;++j){var k=c.ib[j].x*h+c.ib[j].y*g;if(k>i){i=k;f=j}}h=Pb(c,f,b);if(h>0&&d==false)return h;j=f-1>=0?f-1:e-1;k=Pb(c,j,b);if(k>0&&d==false)return k;var l=f+1<e?f+1:0,m=Pb(c,l,b);if(m>0&&d==false)return m;i=g=0;if(k>h&&k>m){i=-1;g=j;j=k}else if(m>h){i=1;g=l;j=m}else{a[0]=f;return h}for(;;){f=i==-1?g-1>=0?g-1:e-1:g+1<e?g+1:0;h=Pb(c,f,b);if(h>0&&d==false)return h;
if(h>j){g=f;j=h}else break}a[0]=g;return j}var Rb=new K;function Sb(a,c){this.o=new R;this.q=new R;this.z=0;if(!a||!c)this.M=this.L=null;else{this.L=a;this.M=c;this.Ga=0;this.la=Math.sqrt(this.L.la*this.M.la);this.na=M(this.L.na,this.M.na);this.p=this.F=null;this.o.La=null;this.o.r=null;this.o.next=null;this.o.xa=null;this.q.La=null;this.q.r=null;this.q.next=null;this.q.xa=null;this.qa=[new Mb];this.qa[0].T=0;this.qa[0].aa[0].ra=0;this.qa[0].aa[0].ya=0}}E(Sb.prototype,Cb.prototype);
E(Sb.prototype,{Nc:function(){var a=this.qa[0],c=this.L,b=this.M;a.T=0;var d=b.c.x-c.c.x,e=b.c.y-c.c.y,f=d*d+e*e;c=c.ma+b.ma;if(!(f>c*c&&1)){if(f<Number.MIN_VALUE){f=-c;a.D.j(0,1)}else{var g=Math.sqrt(f);f=g-c;c=1/g;a.D.x=c*d;a.D.y=c*e}a.T=1;d=a.aa[0];d.id.oe(0);d.lb=f;d.position.x=b.c.x-b.ma*a.D.x;d.position.y=b.c.y-b.ma*a.D.y}this.Ga=this.qa[0].T>0?1:0},oc:p("qa"),qa:[new Mb]});function Tb(a,c){return new Sb(a,c)}function Ub(){};function Vb(a,c){this.o=new R;this.q=new R;this.z=0;if(!a||!c)this.M=this.L=null;else{this.L=a;this.M=c;this.Ga=0;this.la=Math.sqrt(this.L.la*this.M.la);this.na=M(this.L.na,this.M.na);this.p=this.F=null;this.o.La=null;this.o.r=null;this.o.next=null;this.o.xa=null;this.q.La=null;this.q.r=null;this.q.next=null;this.q.xa=null;this.qa=[new Mb];if(this.L.oa!=Wb)throw"Assert Failed!";if(this.M.oa!=Xb)throw"Assert Failed!";this.qa[0].T=0;this.qa[0].aa[0].ra=0;this.qa[0].aa[0].ya=0}}E(Vb.prototype,Cb.prototype);
E(Vb.prototype,{Nc:function(){a:{var a=this.qa[0],c=this.L,b=this.M;a.T=0;var d,e,f;e=b.c.x-c.c.x;f=b.c.y-c.c.y;var g=c.d,h=e*g.a.x+f*g.a.y;f=e*g.b.x+f*g.b.y;e=h;var i=0,j=-Number.MAX_VALUE;h=b.ma;for(d=0;d<c.Va;++d){var k=c.ib[d].x*(e-c.v[d].x)+c.ib[d].y*(f-c.v[d].y);if(k>h)break a;if(k>j){j=k;i=d}}if(j<Number.MIN_VALUE){a.T=1;f=c.ib[i];a.D.x=g.a.x*f.x+g.b.x*f.y;a.D.y=g.a.y*f.x+g.b.y*f.y;d=a.aa[0];d.id.R.Rc=i;d.id.R.wc=255;d.id.R.Gd=255;d.id.R.Ud=0;d.position.x=b.c.x-h*a.D.x;d.position.y=b.c.y-h*
a.D.y;d.lb=j-h}else{i=i;j=i+1<c.Va?i+1:0;var l=c.v[j].x-c.v[i].x;k=c.v[j].y-c.v[i].y;var m=Math.sqrt(l*l+k*k);l/=m;k/=m;if(m<Number.MIN_VALUE){e=e-c.v[i].x;f=f-c.v[i].y;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>h)){a.T=1;a.D.j(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f);d=a.aa[0];d.id.R.Rc=255;d.id.R.wc=i;d.id.R.Gd=255;d.id.R.Ud=0;d.position.x=b.c.x-h*a.D.x;d.position.y=b.c.y-h*a.D.y;d.lb=c-h}}else{var o=(e-c.v[i].x)*l+(f-c.v[i].y)*k;d=a.aa[0];d.id.R.Rc=255;d.id.R.wc=255;d.id.R.Gd=255;d.id.R.Ud=0;if(o<=0){l=c.v[i].x;
c=c.v[i].y;d.id.R.wc=i}else if(o>=m){l=c.v[j].x;c=c.v[j].y;d.id.R.wc=j}else{l=l*o+c.v[i].x;c=k*o+c.v[i].y;d.id.R.Rc=i}e=e-l;f=f-c;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>h)){a.T=1;a.D.j(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f);d.position.x=b.c.x-h*a.D.x;d.position.y=b.c.y-h*a.D.y;d.lb=c-h}}}}this.Ga=this.qa[0].T>0?1:0},oc:p("qa"),qa:[new Mb]});function Yb(a,c){return new Vb(a,c)}function Zb(){};function $b(a,c){this.o=new R;this.q=new R;this.z=0;if(!a||!c)this.M=this.L=null;else{this.L=a;this.M=c;this.Ga=0;this.la=Math.sqrt(this.L.la*this.M.la);this.na=M(this.L.na,this.M.na);this.p=this.F=null;this.o.La=null;this.o.r=null;this.o.next=null;this.o.xa=null;this.q.La=null;this.q.r=null;this.q.next=null;this.q.xa=null;this.rd=new Mb;this.qa=[new Mb];this.qa[0].T=0}}C($b,Cb);
$b.prototype.Nc=function(){for(var a=this.qa[0],c=this.rd.aa,b=0;b<a.T;b++){var d=c[b],e=a.aa[b];d.ra=e.ra;d.ya=e.ya;d.id=e.id.bd()}this.rd.T=a.T;b=this.L;var f=this.M;var g=a.T=0;c=[g];d=Qb(c,b,f,false);g=c[0];if(!(d>0&&1)){var h=0;c=[h];var i=Qb(c,f,b,false);h=c[0];if(!(i>0&&1)){c=e=0;if(i>0.98*d+0.0010){d=f;i=b;e=h;c=1}else{d=b;i=f;e=g;c=0}b=[new Nb,new Nb];f=e;g=i;var j=d.v;i=g.Va;h=g.v;var k=j[f+1==d.Va?0:f+1],l=k.x,m=k.y;k=j[f];l-=k.x;m-=k.y;k=l;l=m;m=-k;k=1/Math.sqrt(l*l+m*m);l*=k;m*=k;l=l;
var o=m;k=l;j=d.d;l=j.a.x*k+j.b.x*o;o=j.a.y*k+j.b.y*o;m=l;l=o;j=g.d;k=m*j.a.x+l*j.a.y;l=m*j.b.x+l*j.b.y;m=k;o=j=0;for(var q=Number.MAX_VALUE,s=0;s<i;++s){var r=s,y=s+1<i?s+1:0;k=h[y];var w=k.x,v=k.y;k=h[r];w-=k.x;v-=k.y;k=w;w=v;v=-k;k=1/Math.sqrt(w*w+v*v);w*=k;v*=k;k=w*m+v*l;if(k<q){q=k;j=r;o=y}}i=b[0];k=i.zb;O(k,h[j]);xb(k,g.d);P(k,g.c);i.id.R.Gd=f;i.id.R.Rc=j;i.id.R.wc=j;i=b[1];k=i.zb;O(k,h[o]);xb(k,g.d);P(k,g.c);i.id.R.Gd=f;i.id.R.Rc=j;i.id.R.wc=o;f=d.v;k=f[e];m=e+1<d.Va?f[e+1]:f[0];g=m.x-k.x;
h=m.y-k.y;l=g;j=d.d;g=j.a.x*l+j.b.x*h;h=j.a.y*l+j.b.y*h;e=1/Math.sqrt(g*g+h*h);g*=e;h*=e;e=g;f=h;l=e;e=f;f=-l;i=k.x;o=k.y;l=i;j=d.d;i=j.a.x*l+j.b.x*o;o=j.a.y*l+j.b.y*o;i+=d.c.x;o+=d.c.y;k=m.x;m=m.y;l=k;j=d.d;k=j.a.x*l+j.b.x*m;m=j.a.y*l+j.b.y*m;k+=d.c.x;m+=d.c.y;d=e*i+f*o;l=-(g*i+h*o);k=g*k+h*m;m=[new Nb,new Nb];i=[new Nb,new Nb];j=0;Rb.j(-g,-h);j=Ob(m,b,Rb,l);if(!(j<2)){Rb.j(g,h);j=Ob(i,m,Rb,k);if(!(j<2)){c?a.D.j(-e,-f):a.D.j(e,f);for(g=b=0;g<2;++g){h=i[g].zb;h=e*h.x+f*h.y-d;if(h<=0){k=a.aa[b];k.lb=
h;O(k.position,i[g].zb);k.id.j(i[g].id);k.id.R.Ud=c;++b}}a.T=b}}}}if(a.T>0){c=[false,false];for(b=0;b<a.T;++b){d=a.aa[b];d.ra=0;d.ya=0;e=d.id.key;for(f=0;f<this.rd.T;++f)if(c[f]!=true){g=this.rd.aa[f];if(g.id.key==e){c[f]=true;d.ra=g.ra;d.ya=g.ya;break}}}this.Ga=1}else this.Ga=0};$b.prototype.oc=p("qa");function ac(a,c){return new $b(a,c)}function bc(){};function cc(a,c,b,d){S[b][d].Rd=a;S[b][d].Sd=c;S[b][d].me=true;if(b!=d){S[d][b].Rd=a;S[d][b].Sd=c;S[d][b].me=false}}var S=null,dc=false;function ec(a){this.Dc=new Eb;this.W=a;this.ae=false}C(ec,Db);
ec.prototype.ve=function(a,c){var b=a,d=c,e=b.t,f=d.t;if((e.z&fc)==fc&&(f.z&fc)==fc)return this.Dc;if(b.t==d.t)return this.Dc;a:{for(var g=f.Z;g!=null;g=g.next)if(g.xa==e){e=g.Wb.ub==false;break a}e=false}if(e)return this.Dc;if((b.bc==d.bc&&b.bc!=0?b.bc>0:(b.Za&d.Wa)!=0&&(b.Wa&d.Za)!=0)==false)return this.Dc;if(f.k==0){f=b;b=d;d=f}b=b;d=d;f=this.W.Je;if(dc==false){S=Array(gc);for(e=0;e<gc;e++){S[e]=Array(gc);for(g=0;g<gc;g++)S[e][g]=new Bb}cc(Tb,Ub,Xb,Xb);cc(Yb,Zb,Wb,Xb);cc(ac,bc,Wb,Wb);dc=true}e=
b.oa;g=d.oa;var h=S[e][g].Rd;if(h)if(S[e][g].me)b=h(b,d,f);else{b=h(d,b,f);for(d=0;d<b.Ga;++d){f=b.oc()[d];f.D=new K(-f.D.x,-f.D.y)}b=b}else b=null;if(b==null)return this.Dc;else{b.F=null;b.p=this.W.da;if(this.W.da!=null)this.W.da.F=b;this.W.da=b;this.W.vb++}return b};ec.prototype.we=function(a,c,b){if(b!=null)if(b!=this.Dc)if(this.ae==true)hc(this,b);else b.z|=2};
function hc(a,c){if(c.F)c.F.p=c.p;if(c.p)c.p.F=c.F;if(c==a.W.da)a.W.da=c.p;if(c.Ga>0){var b=c.L.t,d=c.M.t,e=c.o,f=c.q;ic(b);ic(d);if(e.r)e.r.next=e.next;if(e.next)e.next.r=e.r;if(e==b.da)b.da=e.next;e.r=null;e.next=null;if(f.r)f.r.next=f.next;if(f.next)f.next.r=f.r;if(f==d.da)d.da=f.next;f.r=null;f.next=null}b=a.W.Je;if(c.Ga>0){ic(c.L.t);ic(c.M.t)}d=S[c.L.oa][c.M.oa].Sd;d(c,b);--a.W.vb};var jc=new (n());function kc(){}kc.prototype={xe:function(){this.status|=lc},ef:function(){this.status&=~lc},re:function(){return(this.status&lc)==lc},rf:function(){this.status|=mc},ff:function(){this.status&=~mc},kf:function(){return(this.status&mc)==mc},pf:function(){this.status|=nc},se:function(){return(this.status&nc)==nc},Pa:0,Qa:0,next:0,status:0};kc.prototype.Ae=null;var lc=1,mc=2,nc=4;function oc(){}oc.prototype={Pa:0,Qa:0};function pc(){var a=0;this.cc=Array(8192);for(a=0;a<8192;++a)this.cc[a]=65535;this.wa=Array(8192);for(a=0;a<8192;++a)this.wa[a]=new kc;this.db=Array(8192);for(a=0;a<8192;++a)this.db[a]=new oc;for(a=0;a<8192;++a){this.wa[a].Pa=65535;this.wa[a].Qa=65535;this.wa[a].C=null;this.wa[a].status=0;this.wa[a].next=a+1}this.wa[8191].next=65535;this.ge=0}
pc.prototype={jf:function(a,c){this.Ta=a;this.$d=c},Jd:function(a,c){var b=this.cf(a,c);if(b.re()==false){b.xe();this.db[this.Hb].Pa=b.Pa;this.db[this.Hb].Qa=b.Qa;++this.Hb}b.ff()},Md:function(a,c){var b=qc(this,a,c);if(b!=null){if(b.re()==false){b.xe();this.db[this.Hb].Pa=b.Pa;this.db[this.Hb].Qa=b.Qa;++this.Hb}b.rf()}},cf:function(a,c){if(a>c){var b=a;a=c;c=b}b=rc(a,c)&8191;var d=sc(this,a,c,b);if(d!=null)return d;var e=this.vd;d=this.wa[e];this.vd=d.next;d.Pa=a;d.Qa=c;d.status=0;d.C=null;d.next=
this.cc[b];this.cc[b]=e;++this.ge;return d},of:function(a,c){if(a>c){var b=a;a=c;c=b}for(var d=rc(a,c)&8191,e=this.cc[d],f=null;e!=65535;)if(this.wa[e].Pa==a&&this.wa[e].Qa==c){b=e;if(f)f.next=this.wa[e].next;else this.cc[d]=this.wa[e].next;d=this.wa[b];e=d.C;d.next=this.vd;d.Pa=65535;d.Qa=65535;d.C=null;d.status=0;this.vd=b;--this.ge;return e}else{f=this.wa[e];e=f.next}return null},Ta:null,$d:null,vd:0,ge:0,db:null,Hb:0,cc:null};
function qc(a,c,b){if(c>b){var d=c;c=b;b=d}return sc(a,c,b,rc(c,b)&8191)}function sc(a,c,b,d){for(d=a.cc[d];d!=65535&&(a.wa[d].Pa==c&&a.wa[d].Qa==b)==false;)d=a.wa[d].next;if(d==65535)return null;return a.wa[d]}
pc.prototype.Mc=function(){var a=0,c=0,b=this.Ta.Ca,d=[];for(a=0;a<this.Hb;++a){var e=qc(this,this.db[a].Pa,this.db[a].Qa);e.ef();var f=b[e.Pa],g=b[e.Qa];if(e.kf()){e.se()==true&&this.$d.we(f.C,g.C,e.C);this.db[c].Pa=e.Pa;this.db[c].Qa=e.Qa;++c}else if(e.se()==false){e.Ae=this.$d.ve(f.C,g.C);d.push(e.Ae);e.pf()}}for(a=0;a<c;++a)this.of(this.db[a].Pa,this.db[a].Qa);this.Hb=0;return d};
function rc(a,c){var b=c<<16&4294901760|a;b=~b+(b<<15&4294934528);b^=b>>12&1048575;b+=b<<2&4294967292;b^=b>>4&268435455;b*=2057;b^=b>>16&65535;return b};function tc(){}tc.prototype={uc:function(){return(this.value&1)==0},te:function(){return(this.value&1)==1},fd:function(a){var c=this.value,b=this.H,d=this.w;this.value=a.value;this.H=a.H;this.w=a.w;a.value=c;a.H=b;a.w=d},value:0,H:0,w:0};function uc(){this.Ba=[0,0];this.Ja=[0,0]}uc.prototype={pc:function(){return this.Ba[0]},Nd:function(a){this.Ba[0]=a},Oc:function(){return this.lc!=65535},Ba:[0,0],Ja:[0,0],lc:0,timeStamp:0,C:null};function vc(){this.qd=[0,0];this.Hd=[0,0]};function wc(a,c){this.jb=new pc;this.Ca=Array(8192);this.ab=Array(2048);this.Fc=Array(1024);this.ic=new K;var b=0;this.jb.jf(this,c);this.ka=a;for(b=this.Ib=0;b<1024;b++)this.Fc[b]=0;this.ab=Array(2);for(b=0;b<2;b++){this.ab[b]=Array(2048);for(var d=0;d<2048;d++)this.ab[b][d]=new tc}b=a.B.x;d=a.B.y;b-=a.G.x;d-=a.G.y;this.ic.x=65535/b;this.ic.y=65535/d;for(b=0;b<1023;++b){d=new uc;this.Ca[b]=d;d.Nd(b+1);d.timeStamp=0;d.lc=65535;d.C=null}d=new uc;this.Ca[1023]=d;d.Nd(65535);d.timeStamp=0;d.lc=65535;
d.C=null;this.wd=0;this.Hc=1;this.xb=0}
wc.prototype={tc:function(a){var c,b,d,e;c=a.G.x;b=a.G.y;c-=this.ka.B.x;b-=this.ka.B.y;d=this.ka.G.x;e=this.ka.G.y;d-=a.B.x;e-=a.B.y;c=M(c,d);b=M(b,e);return M(c,b)<0},nc:function(a){for(var c=this.Ca[a],b=2*this.Ib,d=0;d<2;++d){var e=this.ab[d],f=c.Ba[d],g=c.Ja[d],h=e[f].value,i=e[g].value,j=[],k=0,l=g-f-1,m,o;for(k=0;k<l;k++){j[k]=new tc;m=j[k];o=e[f+1+k];m.value=o.value;m.H=o.H;m.w=o.w}l=j.length;var q=f;for(k=0;k<l;k++){o=j[k];m=e[q+k];m.value=o.value;m.H=o.H;m.w=o.w}j=[];l=b-g-1;for(k=0;k<l;k++){j[k]=
new tc;m=j[k];o=e[g+1+k];m.value=o.value;m.H=o.H;m.w=o.w}l=j.length;q=g-1;for(k=0;k<l;k++){o=j[k];m=e[q+k];m.value=o.value;m.H=o.H;m.w=o.w}l=b-2;for(j=f;j<l;++j){k=this.Ca[e[j].H];if(e[j].uc())k.Ba[d]=j;else k.Ja[d]=j}l=g-1;for(f=f;f<l;++f)e[f].w--;this.Pc([0],[0],h,i,e,b-2,d)}for(b=0;b<this.xb;++b)this.jb.Md(a,this.Fc[b]);this.jb.Mc();this.xb=0;this.Ld();c.C=null;c.lc=65535;c.Ba[0]=65535;c.Ba[1]=65535;c.Ja[0]=65535;c.Ja[1]=65535;c.Nd(this.wd);this.wd=a;--this.Ib},ue:function(a,c){var b=0,d=0,e,f,
g=0,h;if(!(a==65535||1024<=a))if(c.Oc()!=false){var i=2*this.Ib,j=this.Ca[a],k=new vc;this.Kd(k.qd,k.Hd,c);var l=new vc;for(b=0;b<2;++b){l.qd[b]=this.ab[b][j.Ba[b]].value;l.Hd[b]=this.ab[b][j.Ja[b]].value}for(b=0;b<2;++b){var m=this.ab[b],o=j.Ba[b],q=j.Ja[b],s=k.qd[b],r=k.Hd[b],y=s-m[o].value,w=r-m[q].value;m[o].value=s;m[q].value=r;if(y<0)for(d=o;d>0&&s<m[d-1].value;){e=m[d];f=m[d-1];g=f.H;h=this.Ca[f.H];f.w++;if(f.te()==true){this.gd(k,h)&&this.jb.Jd(a,g);h.Ja[b]++;e.w++}else{h.Ba[b]++;e.w--}j.Ba[b]--;
e.fd(f);--d}if(w>0)for(d=q;d<i-1&&m[d+1].value<=r;){e=m[d];f=m[d+1];g=f.H;h=this.Ca[g];f.w++;if(f.uc()==true){this.gd(k,h)&&this.jb.Jd(a,g);h.Ba[b]--;e.w++}else{h.Ja[b]--;e.w--}j.Ja[b]++;e.fd(f);d++}if(y>0)for(d=o;d<i-1&&m[d+1].value<=s;){e=m[d];f=m[d+1];g=f.H;h=this.Ca[g];f.w--;if(f.te()){this.gd(l,h)&&this.jb.Md(a,g);h.Ja[b]--;e.w--}else{h.Ba[b]--;e.w++}j.Ba[b]++;e.fd(f);d++}if(w<0)for(d=q;d>0&&r<m[d-1].value;){e=m[d];f=m[d-1];g=f.H;h=this.Ca[g];f.w--;if(f.uc()==true){this.gd(l,h)&&this.jb.Md(a,
g);h.Ba[b]++;e.w--}else{h.Ja[b]++;e.w++}j.Ja[b]--;e.fd(f);d--}}}},nf:function(a,c,b){var d=[],e=[];this.Kd(d,e,a);a=[0];var f=[0];this.Pc(a,f,d[0],e[0],this.ab[0],2*this.Ib,0);this.Pc(a,f,d[1],e[1],this.ab[1],2*this.Ib,1);for(e=d=0;e<this.xb&&d<b;++e,++d)c[e]=this.Ca[this.Fc[e]].C;this.xb=0;this.Ld();return d},Kd:function(a,c,b){var d=b.G.x,e=b.G.y;d=d<this.ka.B.x?d:this.ka.B.x;e=e<this.ka.B.y?e:this.ka.B.y;d=M(d,this.ka.G.x);e=M(e,this.ka.G.y);var f=b.B.x;b=b.B.y;f=f<this.ka.B.x?f:this.ka.B.x;b=
b<this.ka.B.y?b:this.ka.B.y;f=M(f,this.ka.G.x);b=M(b,this.ka.G.y);a[0]=this.ic.x*(d-this.ka.G.x)&65534;c[0]=this.ic.x*(f-this.ka.G.x)&65535|1;a[1]=this.ic.y*(e-this.ka.G.y)&65534;c[1]=this.ic.y*(b-this.ka.G.y)&65535|1},gd:function(a,c){for(var b=0;b<2;++b){var d=this.ab[b];if(a.qd[b]>d[c.Ja[b]].value)return false;if(a.Hd[b]<d[c.Ba[b]].value)return false}return true},Pc:function(a,c,b,d,e,f,g){b=xc(e,f,b);d=xc(e,f,d);for(f=b;f<d;++f)e[f].uc()&&this.qe(e[f].H);if(b>0){f=b-1;for(var h=e[f].w;h;){if(e[f].uc())if(b<=
this.Ca[e[f].H].Ja[g]){this.qe(e[f].H);--h}--f}}a[0]=b;c[0]=d},qe:function(a){var c=this.Ca[a];if(c.timeStamp<this.Hc){c.timeStamp=this.Hc;c.lc=1}else{c.lc=2;this.Fc[this.xb]=a;++this.xb}},Ld:function(){if(this.Hc==65535){for(var a=0;a<1024;++a)this.Ca[a].timeStamp=0;this.Hc=1}else++this.Hc},jb:new pc,Ca:Array(8192),ab:Array(2048),Fc:Array(1024),xb:0,ka:null,ic:new K,Ib:0,Hc:0};wc.prototype.Mc=function(){return this.jb.Mc()};
function yc(a,c,b){var d=0,e,f=a.wd;e=a.Ca[f];a.wd=e.pc();e.lc=0;e.C=b;b=2*a.Ib;e=[];var g=[];a.Kd(e,g,c);for(c=0;c<2;++c){var h=a.ab[c],i=0,j=0;i=[i];j=[j];a.Pc(i,j,e[c],g[c],h,b,c);i=i[0];j=j[0];d=[];var k=0,l=b-j,m,o;for(k=0;k<l;k++){d[k]=new tc;m=d[k];o=h[j+k];m.value=o.value;m.H=o.H;m.w=o.w}l=d.length;var q=j+2;for(k=0;k<l;k++){o=d[k];m=h[q+k];m.value=o.value;m.H=o.H;m.w=o.w}d=[];l=j-i;for(k=0;k<l;k++){d[k]=new tc;m=d[k];o=h[i+k];m.value=o.value;m.H=o.H;m.w=o.w}l=d.length;q=i+1;for(k=0;k<l;k++){o=
d[k];m=h[q+k];m.value=o.value;m.H=o.H;m.w=o.w}++j;h[i].value=e[c];h[i].H=f;h[j].value=g[c];h[j].H=f;h[i].w=i==0?0:h[i-1].w;h[j].w=h[j-1].w;for(d=i;d<j;++d)h[d].w++;for(d=i;d<b+2;++d){i=a.Ca[h[d].H];if(h[d].uc())i.Ba[c]=d;else i.Ja[c]=d}}++a.Ib;for(b=0;b<a.xb;++b)a.jb.Jd(f,a.Fc[b]);a.jb.Mc();a.xb=0;a.Ld();return f}function xc(a,c,b){var d=0;for(c=c-1;d<=c;){var e=Math.floor((d+c)/2);if(a[e].value>b)c=e-1;else if(a[e].value<b)d=e+1;else return e}return d};function T(a,c,b){if(a==null)a=0;this.a=new K;this.b=new K;if(c!=null&&b!=null){O(this.a,c);O(this.b,b)}else{c=Math.cos(a);a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c}}u=T.prototype;u.j=function(a){var c=Math.cos(a);a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c};u.bd=function(){return new T(0,this.a,this.b)};function zc(a,c){O(a.a,c.a);O(a.b,c.b)}function Ac(a,c){a.a.x+=c.a.x;a.a.y+=c.a.y;a.b.x+=c.b.x;a.b.y+=c.b.y}
u.va=function(){this.a.x=0;this.b.x=0;this.a.y=0;this.b.y=0};function Bc(a,c){var b=a.a.x,d=a.b.x,e=a.a.y,f=a.b.y,g=b*f-d*e;g=1/g;c.a.x=g*f;c.b.x=-g*d;c.a.y=-g*e;c.b.y=g*b;return c}u.Od=function(a,c,b){var d=this.a.x,e=this.b.x,f=this.a.y,g=this.b.y,h=d*g-e*f;h=1/h;a.x=h*(g*c-e*b);a.y=h*(d*b-f*c);return a};u.mc=function(){this.a.mc();this.b.mc()};function Cc(){this.ia=new K(0,0)}Cc.prototype={kb:0,ia:new K(0,0),sc:0};function Dc(a,c){this.d=new T;this.c=new K;this.eb=a.C;this.la=a.$a;this.na=a.Ra;this.t=c;this.ca=65535;this.ec=0;this.Wa=a.Wa;this.Za=a.Za;this.bc=a.Vb}Dc.prototype={ed:n(),pc:p("p"),nc:function(){if(this.ca!=65535){this.t.W.Ta.nc(this.ca);this.ca=65535}},Pd:n(),p:null,d:new T,c:new K,oa:0,eb:null,t:null,la:null,na:null,ec:null,ca:0,Wa:0,Za:0,bc:0};var Xb=0,Wb=2,gc=4;function Ec(a,c,b){this.d=new T;this.c=new K;this.eb=a.C;this.la=a.$a;this.na=a.Ra;this.t=c;this.ca=65535;this.ec=0;this.Wa=a.Wa;this.Za=a.Za;this.bc=a.Vb;this.Ya=new K;this.Ya.j(a.Aa.x-b.x,a.Aa.y-b.y);this.oa=Xb;this.ma=a.yb;zc(this.d,this.t.d);a=this.d.a.x*this.Ya.x+this.d.b.x*this.Ya.y;c=this.d.a.y*this.Ya.x+this.d.b.y*this.Ya.y;this.c.x=this.t.c.x+a;this.c.y=this.t.c.y+c;this.ec=Math.sqrt(a*a+c*c)+this.ma;a=new zb;a.G.j(this.c.x-this.ma,this.c.y-this.ma);a.B.j(this.c.x+this.ma,this.c.y+this.ma);
c=this.t.W.Ta;this.ca=c.tc(a)?yc(c,a,this):65535;this.ca==65535&&Fc(this.t)}C(Ec,Dc);
Ec.prototype.Pd=function(a,c,b,d){zc(this.d,d);this.c.x=d.a.x*this.Ya.x+d.b.x*this.Ya.y+b.x;this.c.y=d.a.y*this.Ya.x+d.b.y*this.Ya.y+b.y;if(this.ca!=65535){b=a.x+(c.a.x*this.Ya.x+c.b.x*this.Ya.y);d=a.y+(c.a.y*this.Ya.x+c.b.y*this.Ya.y);a=Math.min(b,this.c.x);c=Math.min(d,this.c.y);b=Math.max(b,this.c.x);var e=Math.max(d,this.c.y);d=new zb;d.G.j(a-this.ma,c-this.ma);d.B.j(b+this.ma,e+this.ma);a=this.t.W.Ta;a.tc(d)?a.ue(this.ca,d):Fc(this.t)}};
Ec.prototype.ed=function(a){if(this.ca!=65535){a.nc(this.ca);var c=new zb;c.G.j(this.c.x-this.ma,this.c.y-this.ma);c.B.j(this.c.x+this.ma,this.c.y+this.ma);this.ca=a.tc(c)?yc(a,c,this):65535;this.ca==65535&&Fc(this.t)}};function Gc(){this.Ka=new T;this.ia=new K;this.U=new K};function Hc(a,c,b){this.d=new T;this.c=new K;this.eb=a.C;this.la=a.$a;this.na=a.Ra;this.t=c;this.ca=65535;this.ec=0;this.Wa=a.Wa;this.Za=a.Za;this.bc=a.Vb;this.Sa=new zb;this.sa=new T;this.Fa=new K;this.u=new Gc;var d=0,e;c=new zb;this.v=Array(8);this.$b=Array(8);this.ib=Array(8);this.oa=Wb;var f=new T(a.tb);if(a.type==1){this.Fa.x=a.Aa.x-b.x;this.Fa.y=a.Aa.y-b.y;this.Va=4;b=a.U.x;e=a.U.y;d=Math.max(0,b-0.3);var g=Math.max(0,e-0.3);a=this.v[0]=new K;a.x=f.a.x*b+f.b.x*e;a.y=f.a.y*b+f.b.y*e;a=this.v[1]=
new K;a.x=f.a.x*-b+f.b.x*e;a.y=f.a.y*-b+f.b.y*e;a=this.v[2]=new K;a.x=f.a.x*-b+f.b.x*-e;a.y=f.a.y*-b+f.b.y*-e;a=this.v[3]=new K;a.x=f.a.x*b+f.b.x*-e;a.y=f.a.y*b+f.b.y*-e;a=this.$b[0]=new K;a.x=f.a.x*d+f.b.x*g;a.y=f.a.y*d+f.b.y*g;a=this.$b[1]=new K;a.x=f.a.x*-d+f.b.x*g;a.y=f.a.y*-d+f.b.y*g;a=this.$b[2]=new K;a.x=f.a.x*-d+f.b.x*-g;a.y=f.a.y*-d+f.b.y*-g;a=this.$b[3]=new K;a.x=f.a.x*d+f.b.x*-g;a.y=f.a.y*d+f.b.y*-g}else{this.Va=a.Lc;d=a.Nb;e=a.Lc;for(var h=g=0,i=0,j=1/3,k=0;k<e;++k){var l=d[k].x,m=d[k].y,
o=k+1<e?d[k+1].x:d[0].x,q=k+1<e?d[k+1].y:d[0].y,s=0.5*((l-0)*(q-0)-(m-0)*(o-0));i+=s;g+=s*j*(0+l+o);h+=s*j*(0+m+q)}g*=1/i;h*=1/i;Ic.j(g,h);g=Ic.x;h=Ic.y;this.Fa.x=a.Aa.x+(f.a.x*g+f.b.x*h)-b.x;this.Fa.y=a.Aa.y+(f.a.y*g+f.b.y*h)-b.y;for(d=0;d<this.Va;++d){this.v[d]=new K;this.$b[d]=new K;b=a.Nb[d].x-g;e=a.Nb[d].y-h;this.v[d].x=f.a.x*b+f.b.x*e;this.v[d].y=f.a.y*b+f.b.y*e;b=this.v[d].x;e=this.v[d].y;i=Math.sqrt(b*b+e*e);if(i>Number.MIN_VALUE){b*=1/i;e*=1/i}this.$b[d].x=this.v[d].x-0.3*b;this.$b[d].y=
this.v[d].y-0.3*e}}a=f=Number.MAX_VALUE;b=-Number.MAX_VALUE;e=-Number.MAX_VALUE;for(d=this.ec=0;d<this.Va;++d){g=this.v[d];f=Math.min(f,g.x);a=Math.min(a,g.y);b=Math.max(b,g.x);e=Math.max(e,g.y);this.ec=Math.max(this.ec,yb(g))}d=this.u.Ka;d.a.x=1;d.b.x=0;d.a.y=0;d.b.y=1;this.u.ia.j((f+b)*0.5,(a+e)*0.5);this.u.U.j((b-f)*0.5,(e-a)*0.5);for(d=a=f=0;d<this.Va;++d){this.ib[d]=new K;f=d;a=d+1<this.Va?d+1:0;this.ib[d].x=this.v[a].y-this.v[f].y;this.ib[d].y=-(this.v[a].x-this.v[f].x);f=this.ib[d];a=yb(f);
if(!(a<Number.MIN_VALUE)){a=1/a;f.x*=a;f.y*=a}}for(d=0;d<this.Va;++d);zc(this.d,this.t.d);this.c.x=this.t.c.x+(this.d.a.x*this.Fa.x+this.d.b.x*this.Fa.y);this.c.y=this.t.c.y+(this.d.a.y*this.Fa.x+this.d.b.y*this.Fa.y);Jc.a.x=this.d.a.x*this.u.Ka.a.x+this.d.b.x*this.u.Ka.a.y;Jc.a.y=this.d.a.y*this.u.Ka.a.x+this.d.b.y*this.u.Ka.a.y;Jc.b.x=this.d.a.x*this.u.Ka.b.x+this.d.b.x*this.u.Ka.b.y;Jc.b.y=this.d.a.y*this.u.Ka.b.x+this.d.b.y*this.u.Ka.b.y;Jc.mc();b=Jc.a.x*this.u.U.x+Jc.b.x*this.u.U.y;e=Jc.a.y*
this.u.U.x+Jc.b.y*this.u.U.y;f=this.c.x+(this.d.a.x*this.u.ia.x+this.d.b.x*this.u.ia.y);a=this.c.y+(this.d.a.y*this.u.ia.x+this.d.b.y*this.u.ia.y);c.G.x=f-b;c.G.y=a-e;c.B.x=f+b;c.B.y=a+e;f=this.t.W.Ta;this.ca=f.tc(c)?yc(f,c,this):65535;this.ca==65535&&Fc(this.t)}C(Hc,Dc);Hc.prototype.Sa=new zb;Hc.prototype.sa=new T;
Hc.prototype.Pd=function(a,c,b,d){zc(this.d,d);this.c.x=this.t.c.x+(d.a.x*this.Fa.x+d.b.x*this.Fa.y);this.c.y=this.t.c.y+(d.a.y*this.Fa.x+d.b.y*this.Fa.y);if(this.ca!=65535){var e,f;e=c.a;f=c.b;var g=this.u.Ka.a,h=this.u.Ka.b;this.sa.a.x=e.x*g.x+f.x*g.y;this.sa.a.y=e.y*g.x+f.y*g.y;this.sa.b.x=e.x*h.x+f.x*h.y;this.sa.b.y=e.y*h.x+f.y*h.y;this.sa.mc();e=this.Fa.x+this.u.ia.x;f=this.Fa.y+this.u.ia.y;g=a.x+(c.a.x*e+c.b.x*f);a=a.y+(c.a.y*e+c.b.y*f);e=this.sa.a.x*this.u.U.x+this.sa.b.x*this.u.U.y;f=this.sa.a.y*
this.u.U.x+this.sa.b.y*this.u.U.y;this.Sa.G.x=g-e;this.Sa.G.y=a-f;this.Sa.B.x=g+e;this.Sa.B.y=a+f;e=d.a;f=d.b;g=this.u.Ka.a;h=this.u.Ka.b;this.sa.a.x=e.x*g.x+f.x*g.y;this.sa.a.y=e.y*g.x+f.y*g.y;this.sa.b.x=e.x*h.x+f.x*h.y;this.sa.b.y=e.y*h.x+f.y*h.y;this.sa.mc();e=this.Fa.x+this.u.ia.x;f=this.Fa.y+this.u.ia.y;g=b.x+(d.a.x*e+d.b.x*f);a=b.y+(d.a.y*e+d.b.y*f);e=this.sa.a.x*this.u.U.x+this.sa.b.x*this.u.U.y;f=this.sa.a.y*this.u.U.x+this.sa.b.y*this.u.U.y;this.Sa.G.x=Math.min(this.Sa.G.x,g-e);this.Sa.G.y=
Math.min(this.Sa.G.y,a-f);this.Sa.B.x=Math.max(this.Sa.B.x,g+e);this.Sa.B.y=Math.max(this.Sa.B.y,a+f);b=this.t.W.Ta;b.tc(this.Sa)?b.ue(this.ca,this.Sa):Fc(this.t)}};
Hc.prototype.ed=function(a){if(this.ca!=65535){a.nc(this.ca);var c=new T(0,I(this.d,this.u.Ka.a),I(this.d,this.u.Ka.b));c=new T(0,new K(L(c.a.x),L(c.a.y)),new K(L(c.b.x),L(c.b.y)));c=I(c,this.u.U);var b=I(this.d,this.u.ia);P(b,this.c);var d=new zb;O(d.G,b);var e=d.G;e.x-=c.x;e.y-=c.y;O(d.B,b);P(d.B,c);this.ca=a.tc(d)?yc(a,d,this):65535;this.ca==65535&&Fc(this.t)}};var Ic=new K,Jc=new T;function Kc(a,c){this.Ve=new T;this.c=new K;O(this.c,a.position);this.he=new K;O(this.he,this.c);var b=0,d,e;this.z=0;this.n=a.rotation;this.d=new T(0);this.d.j(this.n);this.Oe=this.n;this.W=c;this.Lf=N(1-a.Cf,0,1);this.Ef=N(1-a.zf,0,1);this.Vc=new K(0,0);this.Ha=this.Pe=0;var f=Array(64);for(b=0;b<64;b++)f[b]=new Cc;this.jc=0;this.Cb=new K(0,0);for(b=0;b<64;++b){d=a.Kc[b];if(d==null)break;e=f[b];var g=d,h=e;h.ia=new K(0,0);if(g.za==0){h.kb=0;h.ia.j(0,0);h.sc=0}switch(g.type){case Xb:h.kb=g.za*Fb*
g.yb*g.yb;h.ia.j(0,0);h.sc=0.5*h.kb*g.yb*g.yb;break;case 1:h.kb=4*g.za*g.U.x*g.U.y;h.ia.j(0,0);h.sc=h.kb/3*ub(g.U,g.U);break;case Wb:h=h;var i=g.Nb,j=g.Lc;g=g.za;var k=new K;k.va();for(var l=0,m=0,o=new K(0,0),q=1/3,s=0;s<j;++s){var r=o,y=i[s],w=s+1<j?i[s+1]:i[0],v=wb(y,r),x=wb(w,r),G=v.x*x.y-v.y*x.x,A=0.5*G;l+=A;var H=new K;O(H,r);P(H,y);P(H,w);Q(H,q*A);P(k,H);y=r.x;r=r.y;w=v.x;v=v.y;A=x.x;x=x.y;m+=G*(q*(0.25*(w*w+A*w+A*A)+(y*w+y*A))+0.5*y*y+(q*(0.25*(v*v+x*v+x*x)+(r*v+r*x))+0.5*r*r))}h.kb=g*l;Q(k,
1/l);h.ia=k;m=g*(m-l*ub(k,k));h.sc=m;break;default:h.kb=0;h.ia.j(0,0);h.sc=0;break}this.Ha+=e.kb;this.Cb.x+=e.kb*(d.Aa.x+e.ia.x);this.Cb.y+=e.kb*(d.Aa.y+e.ia.y);++this.jc}if(this.Ha>0){Q(this.Cb,1/this.Ha);P(this.c,I(this.d,this.Cb))}else this.z|=fc;for(b=this.Tc=0;b<this.jc;++b){d=a.Kc[b];e=f[b];this.Tc+=e.sc;d=wb(vb(d.Aa,e.ia),this.Cb);this.Tc+=e.kb*ub(d,d)}this.k=this.Ha>0?1/this.Ha:0;if(this.Tc>0&&a.Of==false)this.m=1/this.Tc;else this.m=this.Tc=0;this.h=vb(a.Df,new K(-a.Qd*this.Cb.y,a.Qd*this.Cb.x));
this.l=a.Qd;this.Lb=this.p=this.F=this.da=this.Z=null;for(b=0;b<this.jc;++b){d=a.Kc[b];a:{e=d;f=this.Cb;switch(e.type){case Xb:e=new Ec(e,this,f);break a;case 1:case Wb:e=new Hc(e,this,f);break a}e=null}e.p=this.Lb;this.Lb=e}this.Gc=0;if(a.yf)this.z|=Lc;if(a.Bf)this.z|=U;if(this.z&U||this.k==0){this.h.j(0,0);this.l=0}this.eb=a.C}function ic(a){a.z&=~U;a.Gc=0}Kc.prototype.pc=p("p");function Fc(a){a.z|=Mc;a.h.va();a.l=0;for(a=a.Lb;a!=null;a=a.p)a.nc()}var fc=1,Mc=2,U=8,Lc=16;function Nc(){this.nd=new K;this.od=new K}Nc.prototype={ra:null,ya:null,$c:null,le:null,We:null,lb:null,Id:null};function Oc(){this.D=new K;this.aa=Array(2);for(var a=0;a<2;a++)this.aa[a]=new Nc}Oc.prototype={Qe:null,Y:null,ba:null,$a:null,Ra:null,T:0};function Pc(a,c,b){this.Zb=[];this.sd=b;b=0;var d,e;for(b=this.Yb=0;b<c;++b)this.Yb+=a[b].Ga;for(b=0;b<this.Yb;b++)this.Zb[b]=new Oc;var f=0;for(b=0;b<c;++b){var g=a[b],h=g.L.t,i=g.M.t,j=g.Ga,k=g.oc(),l=g.la;g=g.na;for(var m=h.h.x,o=h.h.y,q=i.h.x,s=i.h.y,r=h.l,y=i.l,w=0;w<j;++w){var v=k[w],x=v.D.x,G=v.D.y,A=this.Zb[f];A.Y=h;A.ba=i;A.Qe=v;A.D.x=x;A.D.y=G;A.T=v.T;A.$a=l;A.Ra=g;for(var H=0;H<A.T;++H){var B=v.aa[H],J=A.aa[H];J.ra=B.ra;J.ya=B.ya;J.lb=B.lb;var X=B.position.x-h.c.x,oa=B.position.y-h.c.y,
pa=B.position.x-i.c.x;B=B.position.y-i.c.y;d=J.nd;e=h.d;d.x=X*e.a.x+oa*e.a.y;d.y=X*e.b.x+oa*e.b.y;d=J.od;e=i.d;d.x=pa*e.a.x+B*e.a.y;d.y=pa*e.b.x+B*e.b.y;d=X*X+oa*oa;e=pa*pa+B*B;var Na=X*x+oa*G,ia=pa*x+B*G,ja=h.k+i.k;ja+=h.m*(d-Na*Na)+i.m*(e-ia*ia);J.le=1/ja;ia=G;ja=-x;Na=X*ia+oa*ja;ia=pa*ia+B*ja;ja=h.k+i.k;ja+=h.m*(d-Na*Na)+i.m*(e-ia*ia);J.We=1/ja;J.Id=0;if(J.lb>0)J.Id=-60*J.lb;X=A.D.x*(q+-y*B-m- -r*oa)+A.D.y*(s+y*pa-o-r*X);if(X<-30)J.Id+=-A.Ra*X}++f}}}
Pc.prototype={mf:function(){for(var a,c,b=0;b<this.Yb;++b){var d=this.Zb[b],e=d.Y,f=d.ba,g=e.k,h=e.m,i=f.k,j=f.m,k=d.D.x,l=d.D.y,m=l,o=-k,q=0,s=0;if(Qc){s=d.T;for(q=0;q<s;++q){var r=d.aa[q],y=r.ra*k+r.ya*m,w=r.ra*l+r.ya*o;c=e.d;a=r.nd;var v=c.a.x*a.x+c.b.x*a.y,x=c.a.y*a.x+c.b.y*a.y;c=f.d;a=r.od;var G=c.a.x*a.x+c.b.x*a.y;a=c.a.y*a.x+c.b.y*a.y;e.l-=h*(v*w-x*y);e.h.x-=g*y;e.h.y-=g*w;f.l+=j*(G*w-a*y);f.h.x+=i*y;f.h.y+=i*w;r.$c=0}}else{s=d.T;for(q=0;q<s;++q){e=d.aa[q];e.ra=0;e.ya=0;e.$c=0}}}},rb:function(){for(var a=
0,c,b,d,e,f,g,h,i,j=0;j<this.Yb;++j){var k=this.Zb[j],l=k.Y,m=k.ba,o=l.l,q=l.h,s=m.l,r=m.h,y=l.k,w=l.m,v=m.k,x=m.m,G=k.D.x,A=k.D.y,H=A,B=-G,J=k.T;for(a=0;a<J;++a){c=k.aa[a];f=l.d;g=c.nd;b=f.a.x*g.x+f.b.x*g.y;d=f.a.y*g.x+f.b.y*g.y;f=m.d;g=c.od;e=f.a.x*g.x+f.b.x*g.y;f=f.a.y*g.x+f.b.y*g.y;g=r.x+-s*f-q.x- -o*d;h=r.y+s*e-q.y-o*b;g=-c.le*(g*G+h*A-c.Id);h=M(c.ra+g,0);g=h-c.ra;i=g*G;g=g*A;q.x-=y*i;q.y-=y*g;o-=w*(b*g-d*i);r.x+=v*i;r.y+=v*g;s+=x*(e*g-f*i);c.ra=h;g=r.x+-s*f-q.x- -o*d;h=r.y+s*e-q.y-o*b;g=c.We*
-(g*H+h*B);h=k.$a*c.ra;h=N(c.ya+g,-h,h);g=h-c.ya;i=g*H;g=g*B;q.x-=y*i;q.y-=y*g;o-=w*(b*g-d*i);r.x+=v*i;r.y+=v*g;s+=x*(e*g-f*i);c.ya=h}l.l=o;m.l=s}},qb:function(a){for(var c=0,b,d,e=0;e<this.Yb;++e){for(var f=this.Zb[e],g=f.Y,h=f.ba,i=g.c,j=g.n,k=h.c,l=h.n,m=g.k,o=g.m,q=h.k,s=h.m,r=f.D.x,y=f.D.y,w=f.T,v=0;v<w;++v){var x=f.aa[v];b=g.d;d=x.nd;var G=b.a.x*d.x+b.b.x*d.y,A=b.a.y*d.x+b.b.y*d.y;b=h.d;d=x.od;var H=b.a.x*d.x+b.b.x*d.y;b=b.a.y*d.x+b.b.y*d.y;d=(k.x+H-(i.x+G))*r+(k.y+b-(i.y+A))*y+x.lb;c=c<d?c:
d;d=-x.le*a*N(d+0.15,-6,0);var B=x.$c;x.$c=M(B+d,0);d=x.$c-B;x=d*r;d=d*y;i.x-=m*x;i.y-=m*d;j-=o*(G*d-A*x);g.d.j(j);k.x+=q*x;k.y+=q*d;l+=s*(H*d-b*x);h.d.j(l)}g.n=j;h.n=l}return c>=-0.15},lf:function(){for(var a=0;a<this.Yb;++a)for(var c=this.Zb[a],b=c.Qe,d=0;d<c.T;++d){var e=b.aa[d],f=c.aa[d];e.ra=f.ra;e.ya=f.ya}},sd:null,Zb:[],Yb:0};function Rc(a,c,b,d){var e=0;this.Ff=a;this.If=c;this.Kf=b;this.bb=this.vb=this.Ea=0;this.mb=Array(a);for(e=0;e<a;e++)this.mb[e]=null;this.ud=Array(c);for(e=0;e<c;e++)this.ud[e]=null;this.zc=Array(b);for(e=0;e<b;e++)this.zc[e]=null;this.sd=d}
Rc.prototype={df:function(){this.bb=this.vb=this.Ea=0},Od:function(a,c){var b=0,d;for(b=0;b<this.Ea;++b){d=this.mb[b];if(d.k!=0){P(d.h,new K(a.Xa*vb(c,new K(d.k*d.Vc.x,d.k*d.Vc.y)).x,a.Xa*vb(c,new K(d.k*d.Vc.x,d.k*d.Vc.y)).y));d.l+=a.Xa*d.m*d.Pe;Q(d.h,d.Lf);d.l*=d.Ef;O(d.he,d.c);d.Oe=d.n}}var e=new Pc(this.ud,this.vb,this.sd);e.mf();for(b=0;b<this.bb;++b)this.zc[b].Qb();for(b=0;b<a.Yd;++b){e.rb();for(d=0;d<this.bb;++d)this.zc[d].rb(a)}for(b=0;b<this.Ea;++b){d=this.mb[b];if(d.k!=0){d.c.x+=a.Xa*d.h.x;
d.c.y+=a.Xa*d.h.y;d.n+=a.Xa*d.l;d.d.j(d.n)}}for(b=0;b<this.bb;++b);if(Sc)for(Tc=0;Tc<a.Yd;++Tc){d=e.qb(0.2);var f=true;for(b=0;b<this.bb;++b){var g=this.zc[b].qb();f=f&&g}if(d&&f)break}e.lf();for(b=0;b<this.Ea;++b){d=this.mb[b];if(d.k!=0){d.d.j(d.n);e=d;e.Ve.j(e.Oe);for(f=e.Lb;f!=null;f=f.p)f.Pd(e.he,e.Ve,e.c,e.d);d.Vc.j(0,0);d.Pe=0}}},sf:function(a){var c=0,b,d=Number.MAX_VALUE,e=Ib*Ib;for(c=0;c<this.Ea;++c){b=this.mb[c];if(b.k!=0){if((b.z&Lc)==0)d=b.Gc=0;if((b.z&Lc)==0||b.l*b.l>e||ub(b.h,b.h)>0.09)d=
b.Gc=0;else{b.Gc+=a;d=d<b.Gc?d:b.Gc}}}if(d>=0.5)for(c=0;c<this.Ea;++c){b=this.mb[c];b.z|=U}},$e:function(a){this.mb[this.Ea++]=a},af:function(a){this.ud[this.vb++]=a},bf:function(a){this.zc[this.bb++]=a},sd:null,mb:null,ud:null,zc:null,Ea:0,bb:0,vb:0,Ff:0,If:0,Kf:0};var Tc=0;function V(){}V.prototype={xa:null,Wb:null,r:null,next:null};function Uc(a){this.o=new V;this.q=new V;this.oa=a.type;this.p=this.F=null;this.i=a.Y;this.e=a.ba;this.ub=a.gb;this.ob=false;this.eb=a.C}Uc.prototype={Ob:t(null),Pb:t(null),qc:t(null),rc:t(0),pc:p("p"),Qb:n(),rb:n(),qb:t(false),oa:0,F:null,p:null,o:new V,q:new V,i:null,e:null,ob:null,ub:null,eb:null};function Vc(a){this.o=new V;this.q=new V;this.oa=a.type;this.p=this.F=null;this.i=a.Y;this.e=a.ba;this.ub=a.gb;this.ob=false;this.eb=a.C;this.Da=new T;this.ta=new T;this.ua=new T;this.fb=new T;this.f=new K;this.g=new K;this.Ua=new K;this.pb=new T;var c,b,d;c=this.i.d;b=a.pa.x-this.i.c.x;d=a.pa.y-this.i.c.y;this.f.x=b*c.a.x+d*c.a.y;this.f.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.pa.x-this.e.c.x;d=a.pa.y-this.e.c.y;this.g.x=b*c.a.x+d*c.a.y;this.g.y=b*c.b.x+d*c.b.y;this.be=this.e.n-this.i.n;this.Ua.j(0,0);this.ea=
this.s=this.$=0;this.zd=a.Ge;this.Ed=a.Ye;this.Cd=a.ke;this.fc=a.kc;this.hb=a.Qc;this.Eb=a.Bb}E(Vc.prototype,Uc.prototype);
E(Vc.prototype,{Ob:function(){var a=this.i.d;return new K(this.i.c.x+(a.a.x*this.f.x+a.b.x*this.f.y),this.i.c.y+(a.a.y*this.f.x+a.b.y*this.f.y))},Pb:function(){var a=this.e.d;return new K(this.e.c.x+(a.a.x*this.g.x+a.b.x*this.g.y),this.e.c.y+(a.a.y*this.g.x+a.b.y*this.g.y))},cd:function(){return this.e.n-this.i.n},gf:function(){return this.e.l-this.i.l},Vf:function(a){return a*this.$},qf:aa("fc"),Yf:aa("Cd"),qc:function(a){var c=this.Ua.bd();Q(c,a);return c},rc:function(a){return a*this.s},Da:new T,
ta:new T,ua:new T,fb:new T,Qb:function(){var a=this.i,c=this.e,b;b=a.d;var d=b.a.x*this.f.x+b.b.x*this.f.y,e=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;var f=b.a.x*this.g.x+b.b.x*this.g.y;b=b.a.y*this.g.x+b.b.y*this.g.y;var g=a.k,h=c.k,i=a.m,j=c.m;this.ta.a.x=g+h;this.ta.b.x=0;this.ta.a.y=0;this.ta.b.y=g+h;this.ua.a.x=i*e*e;this.ua.b.x=-i*d*e;this.ua.a.y=-i*d*e;this.ua.b.y=i*d*d;this.fb.a.x=j*b*b;this.fb.b.x=-j*f*b;this.fb.a.y=-j*f*b;this.fb.b.y=j*f*f;zc(this.Da,this.ta);Ac(this.Da,this.ua);Ac(this.Da,this.fb);
Bc(this.Da,this.pb);this.Ia=1/(i+j);if(this.Eb==false)this.$=0;if(this.hb){var k=c.n-a.n-this.be;if(L(this.Ed-this.zd)<2*Gb)this.J=3;else if(k<=this.zd){if(this.J!=1)this.s=0;this.J=1}else if(k>=this.Ed){if(this.J!=2)this.s=0;this.J=2}else this.s=this.J=0}else this.s=0;if(Qc){a.h.x-=g*this.Ua.x;a.h.y-=g*this.Ua.y;a.l-=i*(d*this.Ua.y-e*this.Ua.x+this.$+this.s);c.h.x+=h*this.Ua.x;c.h.y+=h*this.Ua.y;c.l+=j*(f*this.Ua.y-b*this.Ua.x+this.$+this.s)}else{this.Ua.va();this.s=this.$=0}this.ea=0},rb:function(a){var c=
this.i,b=this.e,d;d=c.d;var e=d.a.x*this.f.x+d.b.x*this.f.y,f=d.a.y*this.f.x+d.b.y*this.f.y;d=b.d;var g=d.a.x*this.g.x+d.b.x*this.g.y;d=d.a.y*this.g.x+d.b.y*this.g.y;var h=b.h.x+-b.l*d-c.h.x- -c.l*f,i=b.h.y+b.l*g-c.h.y-c.l*e,j=-(this.pb.a.x*h+this.pb.b.x*i);h=-(this.pb.a.y*h+this.pb.b.y*i);this.Ua.x+=j;this.Ua.y+=h;c.h.x-=c.k*j;c.h.y-=c.k*h;c.l-=c.m*(e*h-f*j);b.h.x+=b.k*j;b.h.y+=b.k*h;b.l+=b.m*(g*h-d*j);if(this.Eb&&this.J!=3){e=-this.Ia*(b.l-c.l-this.fc);f=this.$;this.$=N(this.$+e,-a.Xa*this.Cd,a.Xa*
this.Cd);e=this.$-f;c.l-=c.m*e;b.l+=b.m*e}if(this.hb&&this.J!=0){e=-this.Ia*(b.l-c.l);if(this.J==3)this.s+=e;else if(this.J==1){a=this.s;this.s=M(this.s+e,0);e=this.s-a}else if(this.J==2){a=this.s;this.s=this.s+e<0?this.s+e:0;e=this.s-a}c.l-=c.m*e;b.l+=b.m*e}},qb:function(){var a,c=this.i,b=this.e,d=0;d=c.d;var e=d.a.x*this.f.x+d.b.x*this.f.y,f=d.a.y*this.f.x+d.b.y*this.f.y;d=b.d;a=d.a.x*this.g.x+d.b.x*this.g.y;var g=d.a.y*this.g.x+d.b.y*this.g.y,h=b.c.x+a-(c.c.x+e),i=b.c.y+g-(c.c.y+f);d=Math.sqrt(h*
h+i*i);var j=c.k,k=b.k,l=c.m,m=b.m;this.ta.a.x=j+k;this.ta.b.x=0;this.ta.a.y=0;this.ta.b.y=j+k;this.ua.a.x=l*f*f;this.ua.b.x=-l*e*f;this.ua.a.y=-l*e*f;this.ua.b.y=l*e*e;this.fb.a.x=m*g*g;this.fb.b.x=-m*a*g;this.fb.a.y=-m*a*g;this.fb.b.y=m*a*a;zc(this.Da,this.ta);Ac(this.Da,this.ua);Ac(this.Da,this.fb);this.Da.Od(Wc,-h,-i);h=Wc.x;i=Wc.y;c.c.x-=c.k*h;c.c.y-=c.k*i;c.n-=c.m*(e*i-f*h);c.d.j(c.n);b.c.x+=b.k*h;b.c.y+=b.k*i;b.n+=b.m*(a*i-g*h);b.d.j(b.n);e=0;if(this.hb&&this.J!=0){a=b.n-c.n-this.be;f=0;if(this.J==
3){a=N(a,-Hb,Hb);f=-this.Ia*a;e=L(a)}else if(this.J==1){a=a-this.zd;e=M(0,-a);a=N(a+Gb,-Hb,0);f=-this.Ia*a;a=this.ea;this.ea=M(this.ea+f,0);f=this.ea-a}else if(this.J==2){a=a-this.Ed;e=M(0,a);a=N(a-Gb,0,Hb);f=-this.Ia*a;a=this.ea;this.ea=this.ea+f<0?this.ea+f:0;f=this.ea-a}c.n-=c.m*f;c.d.j(c.n);b.n+=b.m*f;b.d.j(b.n)}return d<=0.15&&e<=Gb},f:new K,g:new K,Ua:new K,$:null,s:null,ea:null,pb:new T,Ia:null,be:null,zd:null,Ed:null,Cd:null,fc:null,hb:null,Eb:null,J:0});var Wc=new K;function Xc(){this.N=new K;this.O=new K}Xc.prototype={N:new K,ga:null,O:new K,ha:null,va:function(){this.N.va();this.ga=0;this.O.va();this.ha=0},j:function(a,c,b,d){O(this.N,a);this.ga=c;O(this.O,b);this.ha=d},ad:function(a,c,b,d){return this.N.x*a.x+this.N.y*a.y+this.ga*c+(this.O.x*b.x+this.O.y*b.y)+this.ha*d}};function Yc(a){this.o=new V;this.q=new V;this.oa=a.type;this.p=this.F=null;this.i=a.Y;this.e=a.ba;this.ub=a.gb;this.ob=false;this.eb=a.C;this.f=new K;this.g=new K;this.X=new K;this.Oa=new K;this.K=new Xc;this.A=new Xc;var c,b,d;c=this.i.d;b=a.pa.x-this.i.c.x;d=a.pa.y-this.i.c.y;this.f.j(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);c=this.e.d;b=a.pa.x-this.e.c.x;d=a.pa.y-this.e.c.y;this.g.j(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);c=this.i.d;b=a.axis.x;d=a.axis.y;this.X.j(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);this.Oa.x=-this.X.y;
this.Oa.y=this.X.x;this.Me=this.e.n-this.i.n;this.K.va();this.xc=this.td=this.wb=this.Cc=0;this.A.va();this.ea=this.s=this.$=this.Ia=0;this.Ad=a.He;this.Fd=a.Ze;this.Bd=a.je;this.fc=a.kc;this.hb=a.Qc;this.Eb=a.Bb}E(Yc.prototype,Uc.prototype);
E(Yc.prototype,{Ob:function(){var a=this.i,c=new K;O(c,this.f);xb(c,a.d);P(c,a.c);return c},Pb:function(){var a=this.e,c=new K;O(c,this.g);xb(c,a.d);P(c,a.c);return c},dd:function(){var a=this.i,c=this.e,b;b=a.d;var d=b.a.x*this.f.x+b.b.x*this.f.y,e=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;d=c.c.x+(b.a.x*this.g.x+b.b.x*this.g.y)-(a.c.x+d);c=c.c.y+(b.a.y*this.g.x+b.b.y*this.g.y)-(a.c.y+e);b=a.d;return(b.a.x*this.X.x+b.b.x*this.X.y)*d+(b.a.y*this.X.x+b.b.y*this.X.y)*c},gf:function(){var a=this.i,c=this.e,
b;b=a.d;var d=b.a.x*this.f.x+b.b.x*this.f.y,e=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;var f=b.a.x*this.g.x+b.b.x*this.g.y,g=b.a.y*this.g.x+b.b.y*this.g.y,h=c.c.x+f-(a.c.x+d),i=c.c.y+g-(a.c.y+e);b=a.d;var j=b.a.x*this.X.x+b.b.x*this.X.y;b=b.a.y*this.X.x+b.b.y*this.X.y;var k=a.h,l=c.h;a=a.l;c=c.l;return h*-a*b+i*a*j+(j*(l.x+-c*g-k.x- -a*e)+b*(l.y+c*f-k.y-a*d))},Uf:function(a){return a*this.$},qf:aa("fc"),Xf:aa("Bd"),qc:function(a){a=a*this.s;var c;c=this.i.d;return new K(a*(c.a.x*this.X.x+c.b.x*this.X.y)+
a*(c.a.x*this.Oa.x+c.b.x*this.Oa.y),a*(c.a.y*this.X.x+c.b.y*this.X.y)+a*(c.a.y*this.Oa.x+c.b.y*this.Oa.y))},rc:function(a){return a*this.xc},Qb:function(){var a=this.i,c=this.e,b;b=a.d;var d=b.a.x*this.f.x+b.b.x*this.f.y,e=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;var f=b.a.x*this.g.x+b.b.x*this.g.y,g=b.a.y*this.g.x+b.b.y*this.g.y,h=a.k,i=c.k,j=a.m,k=c.m;b=a.d;var l=b.a.x*this.Oa.x+b.b.x*this.Oa.y;b=b.a.y*this.Oa.x+b.b.y*this.Oa.y;var m=c.c.x+f-a.c.x,o=c.c.y+g-a.c.y;this.K.N.x=-l;this.K.N.y=-b;this.K.O.x=
l;this.K.O.y=b;this.K.ga=-(m*b-o*l);this.K.ha=f*b-g*l;this.Cc=h+j*this.K.ga*this.K.ga+i+k*this.K.ha*this.K.ha;this.Cc=1/this.Cc;this.td=1/(j+k);if(this.hb||this.Eb){b=a.d;l=b.a.x*this.X.x+b.b.x*this.X.y;b=b.a.y*this.X.x+b.b.y*this.X.y;this.A.N.x=-l;this.A.N.y=-b;this.A.O.x=l;this.A.O.y=b;this.A.ga=-(m*b-o*l);this.A.ha=f*b-g*l;this.Ia=h+j*this.A.ga*this.A.ga+i+k*this.A.ha*this.A.ha;this.Ia=1/this.Ia;if(this.hb){d=l*(m-d)+b*(o-e);if(L(this.Fd-this.Ad)<0.3)this.J=3;else if(d<=this.Ad){if(this.J!=1)this.s=
0;this.J=1}else if(d>=this.Fd){if(this.J!=2)this.s=0;this.J=2}else this.s=this.J=0}}if(this.Eb==false)this.$=0;if(this.hb==false)this.s=0;if(Qc){d=this.wb*this.K.N.y+(this.$+this.s)*this.A.N.y;e=this.wb*this.K.O.x+(this.$+this.s)*this.A.O.x;f=this.wb*this.K.O.y+(this.$+this.s)*this.A.O.y;g=this.wb*this.K.ga-this.xc+(this.$+this.s)*this.A.ga;m=this.wb*this.K.ha+this.xc+(this.$+this.s)*this.A.ha;a.h.x+=h*(this.wb*this.K.N.x+(this.$+this.s)*this.A.N.x);a.h.y+=h*d;a.l+=j*g;c.h.x+=i*e;c.h.y+=i*f;c.l+=
k*m}else this.$=this.s=this.xc=this.wb=0;this.ea=0},rb:function(a){var c=this.i,b=this.e,d=c.k,e=b.k,f=c.m,g=b.m,h=-this.Cc*this.K.ad(c.h,c.l,b.h,b.l);this.wb+=h;c.h.x+=d*h*this.K.N.x;c.h.y+=d*h*this.K.N.y;c.l+=f*h*this.K.ga;b.h.x+=e*h*this.K.O.x;b.h.y+=e*h*this.K.O.y;b.l+=g*h*this.K.ha;h=-this.td*(b.l-c.l);this.xc+=h;c.l-=f*h;b.l+=g*h;if(this.Eb&&this.J!=3){h=-this.Ia*(this.A.ad(c.h,c.l,b.h,b.l)-this.fc);var i=this.$;this.$=N(this.$+h,-a.Xa*this.Bd,a.Xa*this.Bd);h=this.$-i;c.h.x+=d*h*this.A.N.x;
c.h.y+=d*h*this.A.N.y;c.l+=f*h*this.A.ga;b.h.x+=e*h*this.A.O.x;b.h.y+=e*h*this.A.O.y;b.l+=g*h*this.A.ha}if(this.hb&&this.J!=0){h=-this.Ia*this.A.ad(c.h,c.l,b.h,b.l);if(this.J==3)this.s+=h;else if(this.J==1){a=this.s;this.s=M(this.s+h,0);h=this.s-a}else if(this.J==2){a=this.s;this.s=this.s+h<0?this.s+h:0;h=this.s-a}c.h.x+=d*h*this.A.N.x;c.h.y+=d*h*this.A.N.y;c.l+=f*h*this.A.ga;b.h.x+=e*h*this.A.O.x;b.h.y+=e*h*this.A.O.y;b.l+=g*h*this.A.ha}},qb:function(){var a,c,b=this.i,d=this.e,e=b.k,f=d.k,g=b.m,
h=d.m,i;i=b.d;var j=i.a.x*this.f.x+i.b.x*this.f.y,k=i.a.y*this.f.x+i.b.y*this.f.y;i=d.d;a=i.a.x*this.g.x+i.b.x*this.g.y;i=i.a.y*this.g.x+i.b.y*this.g.y;j=b.c.x+j;k=b.c.y+k;a=d.c.x+a;i=d.c.y+i;a=a-j;j=i-k;i=b.d;var l=(i.a.x*this.Oa.x+i.b.x*this.Oa.y)*a+(i.a.y*this.Oa.x+i.b.y*this.Oa.y)*j;l=N(l,-6,6);c=-this.Cc*l;b.c.x+=e*c*this.K.N.x;b.c.y+=e*c*this.K.N.y;b.n+=g*c*this.K.ga;d.c.x+=f*c*this.K.O.x;d.c.y+=f*c*this.K.O.y;d.n+=h*c*this.K.ha;l=L(l);c=d.n-b.n-this.Me;c=N(c,-Hb,Hb);var m=-this.td*c;b.n-=b.m*
m;b.d.j(b.n);d.n+=d.m*m;d.d.j(d.n);m=L(c);if(this.hb&&this.J!=0){i=b.d;j=i.a.x*this.f.x+i.b.x*this.f.y;k=i.a.y*this.f.x+i.b.y*this.f.y;i=d.d;a=i.a.x*this.g.x+i.b.x*this.g.y;i=i.a.y*this.g.x+i.b.y*this.g.y;j=b.c.x+j;k=b.c.y+k;a=d.c.x+a;i=d.c.y+i;a=a-j;j=i-k;i=b.d;i=(i.a.x*this.X.x+i.b.x*this.X.y)*a+(i.a.y*this.X.x+i.b.y*this.X.y)*j;a=0;if(this.J==3){a=N(i,-6,6);a=-this.Ia*a;l=M(l,L(c))}else if(this.J==1){a=i-this.Ad;l=M(l,-a);a=N(a+0.15,-6,0);a=-this.Ia*a;c=this.ea;this.ea=M(this.ea+a,0);a=this.ea-
c}else if(this.J==2){a=i-this.Fd;l=M(l,a);a=N(a-0.15,0,6);a=-this.Ia*a;c=this.ea;this.ea=this.ea+a<0?this.ea+a:0;a=this.ea-c}b.c.x+=e*a*this.A.N.x;b.c.y+=e*a*this.A.N.y;b.n+=g*a*this.A.ga;b.d.j(b.n);d.c.x+=f*a*this.A.O.x;d.c.y+=f*a*this.A.O.y;d.n+=h*a*this.A.ha;d.d.j(d.n)}return l<=0.15&&m<=Gb},f:new K,g:new K,X:new K,Oa:new K,Me:null,K:new Xc,Cc:null,wb:null,td:null,xc:null,A:new Xc,Ia:null,$:null,s:null,ea:null,Ad:null,Fd:null,Bd:null,fc:null,hb:null,Eb:null,J:0});function Zc(a){this.o=new V;this.q=new V;this.oa=a.type;this.p=this.F=null;this.i=a.Y;this.e=a.ba;this.ub=a.gb;this.ob=false;this.eb=a.C;this.Da=new T;this.ta=new T;this.ua=new T;this.cb=new K;this.Mb=new K;this.I=new K;this.pb=new T;this.Sc=new K;O(this.Mb,a.target);var c=this.Mb.x-this.e.c.x,b=this.Mb.y-this.e.c.y;this.cb.x=c*this.e.d.a.x+b*this.e.d.a.y;this.cb.y=c*this.e.d.b.x+b*this.e.d.b.y;this.de=a.cg;this.I.va();b=this.e.Ha;var d=2*Fb*a.bg;c=2*b*a.ag*d;b=b*d*d;this.Wc=1/(c+a.Xe*b);this.Zd=
a.Xe*b/(c+a.Xe*b)}E(Zc.prototype,Uc.prototype);
E(Zc.prototype,{Ob:p("Mb"),Pb:function(){var a=I(this.e.d,this.cb);P(a,this.e.c);return a},qc:function(a){var c=new K;O(c,this.I);Q(c,a);return c},rc:t(0),Zf:function(a){ic(this.e);this.Mb=a},Da:new T,ta:new T,ua:new T,Qb:function(){var a=this.e,c;c=a.d;var b=c.a.x*this.cb.x+c.b.x*this.cb.y;c=c.a.y*this.cb.x+c.b.y*this.cb.y;var d=a.k,e=a.m;this.ta.a.x=d;this.ta.b.x=0;this.ta.a.y=0;this.ta.b.y=d;this.ua.a.x=e*c*c;this.ua.b.x=-e*b*c;this.ua.a.y=-e*b*c;this.ua.b.y=e*b*b;zc(this.Da,this.ta);Ac(this.Da,
this.ua);this.Da.a.x+=this.Wc;this.Da.b.y+=this.Wc;Bc(this.Da,this.pb);this.Sc.x=a.c.x+b-this.Mb.x;this.Sc.y=a.c.y+c-this.Mb.y;a.l*=0.98;var f=this.I.x,g=this.I.y;a.h.x+=d*f;a.h.y+=d*g;a.l+=e*(b*g-c*f)},rb:function(a){var c=this.e,b;b=c.d;var d=b.a.x*this.cb.x+b.b.x*this.cb.y,e=b.a.y*this.cb.x+b.b.y*this.cb.y,f=c.h.x+-c.l*e,g=c.h.y+c.l*d;b=this.pb;f=f+this.Zd*a.Xd*this.Sc.x+this.Wc*this.I.x;var h=g+this.Zd*a.Xd*this.Sc.y+this.Wc*this.I.y;g=-(b.a.x*f+b.b.x*h);h=-(b.a.y*f+b.b.y*h);b=this.I.x;f=this.I.y;
this.I.x+=g;this.I.y+=h;g=yb(this.I);g>a.Xa*this.de&&Q(this.I,a.Xa*this.de/g);g=this.I.x-b;h=this.I.y-f;c.h.x+=c.k*g;c.h.y+=c.k*h;c.l+=c.m*(d*h-e*g)},qb:t(true),cb:new K,Mb:new K,I:new K,pb:new T,Sc:new K,de:null,Zd:null,Wc:null});function $c(a){this.o=new V;this.q=new V;this.oa=a.type;this.p=this.F=null;this.i=a.Y;this.e=a.ba;this.ub=a.gb;this.ob=false;this.eb=a.C;this.f=new K;this.g=new K;this.fa=new K;var c,b,d;c=this.i.d;b=a.Sb.x-this.i.c.x;d=a.Sb.y-this.i.c.y;this.f.x=b*c.a.x+d*c.a.y;this.f.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.Tb.x-this.e.c.x;d=a.Tb.y-this.e.c.y;this.g.x=b*c.a.x+d*c.a.y;this.g.y=b*c.b.x+d*c.b.y;b=a.Tb.x-a.Sb.x;d=a.Tb.y-a.Sb.y;this.Ne=Math.sqrt(b*b+d*d);this.I=0}E($c.prototype,Uc.prototype);
E($c.prototype,{Qb:function(){var a;a=this.i.d;var c=a.a.x*this.f.x+a.b.x*this.f.y,b=a.a.y*this.f.x+a.b.y*this.f.y;a=this.e.d;var d=a.a.x*this.g.x+a.b.x*this.g.y;a=a.a.y*this.g.x+a.b.y*this.g.y;this.fa.x=this.e.c.x+d-this.i.c.x-c;this.fa.y=this.e.c.y+a-this.i.c.y-b;var e=Math.sqrt(this.fa.x*this.fa.x+this.fa.y*this.fa.y);e>0.15?Q(this.fa,1/e):this.fa.va();e=c*this.fa.y-b*this.fa.x;var f=d*this.fa.y-a*this.fa.x;this.Ha=this.i.k+this.i.m*e*e+this.e.k+this.e.m*f*f;this.Ha=1/this.Ha;if(Qc){e=this.I*this.fa.x;
f=this.I*this.fa.y;this.i.h.x-=this.i.k*e;this.i.h.y-=this.i.k*f;this.i.l-=this.i.m*(c*f-b*e);this.e.h.x+=this.e.k*e;this.e.h.y+=this.e.k*f;this.e.l+=this.e.m*(d*f-a*e)}else this.I=0},rb:function(){var a;a=this.i.d;var c=a.a.x*this.f.x+a.b.x*this.f.y,b=a.a.y*this.f.x+a.b.y*this.f.y;a=this.e.d;var d=a.a.x*this.g.x+a.b.x*this.g.y;a=a.a.y*this.g.x+a.b.y*this.g.y;var e=-this.Ha*(this.fa.x*(this.e.h.x+-this.e.l*a-(this.i.h.x+-this.i.l*b))+this.fa.y*(this.e.h.y+this.e.l*d-(this.i.h.y+this.i.l*c)));this.I+=
e;var f=e*this.fa.x;e=e*this.fa.y;this.i.h.x-=this.i.k*f;this.i.h.y-=this.i.k*e;this.i.l-=this.i.m*(c*e-b*f);this.e.h.x+=this.e.k*f;this.e.h.y+=this.e.k*e;this.e.l+=this.e.m*(d*e-a*f)},qb:function(){var a;a=this.i.d;var c=a.a.x*this.f.x+a.b.x*this.f.y,b=a.a.y*this.f.x+a.b.y*this.f.y;a=this.e.d;var d=a.a.x*this.g.x+a.b.x*this.g.y;a=a.a.y*this.g.x+a.b.y*this.g.y;var e=this.e.c.x+d-this.i.c.x-c,f=this.e.c.y+a-this.i.c.y-b,g=Math.sqrt(e*e+f*f);e/=g;f/=g;g=g-this.Ne;g=N(g,-6,6);var h=-this.Ha*g;this.fa.j(e,
f);e=h*this.fa.x;f=h*this.fa.y;this.i.c.x-=this.i.k*e;this.i.c.y-=this.i.k*f;this.i.n-=this.i.m*(c*f-b*e);this.e.c.x+=this.e.k*e;this.e.c.y+=this.e.k*f;this.e.n+=this.e.m*(d*f-a*e);this.i.d.j(this.i.n);this.e.d.j(this.e.n);return L(g)<0.15},Ob:function(){return vb(this.i.c,I(this.i.d,this.f))},Pb:function(){return vb(this.e.c,I(this.e.d,this.g))},qc:function(a){var c=new K;O(c,this.fa);Q(c,this.I*a);return c},rc:t(0),f:new K,g:new K,fa:new K,I:null,Ha:null,Ne:null});function ad(a){this.o=new V;this.q=new V;this.oa=a.type;this.p=this.F=null;this.i=a.Y;this.e=a.ba;this.ub=a.gb;this.ob=false;this.eb=a.C;this.Ma=new K;this.Na=new K;this.f=new K;this.g=new K;this.P=new K;this.Q=new K;var c,b,d;this.ja=this.i.W.ac;this.Ma.x=a.Vd.x-this.ja.c.x;this.Ma.y=a.Vd.y-this.ja.c.y;this.Na.x=a.Wd.x-this.ja.c.x;this.Na.y=a.Wd.y-this.ja.c.y;c=this.i.d;b=a.Sb.x-this.i.c.x;d=a.Sb.y-this.i.c.y;this.f.x=b*c.a.x+d*c.a.y;this.f.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.Tb.x-this.e.c.x;d=a.Tb.y-
this.e.c.y;this.g.x=b*c.a.x+d*c.a.y;this.g.y=b*c.b.x+d*c.b.y;this.S=a.Pf;b=a.Vd.x-a.Sb.x;d=a.Vd.y-a.Sb.y;c=Math.sqrt(b*b+d*d);b=a.Wd.x-a.Tb.x;d=a.Wd.y-a.Tb.y;b=Math.sqrt(b*b+d*d);d=M(0.5*bd,c);b=M(0.5*bd,b);this.Xb=d+this.S*b;this.ee=N(a.dg,d,this.Xb-this.S*bd);this.fe=N(a.eg,b,(this.Xb-bd)/this.S);this.Gb=this.Fb=this.Ec=0}E(ad.prototype,Uc.prototype);
E(ad.prototype,{Ob:function(){var a=this.i.d;return new K(this.i.c.x+(a.a.x*this.f.x+a.b.x*this.f.y),this.i.c.y+(a.a.y*this.f.x+a.b.y*this.f.y))},Pb:function(){var a=this.e.d;return new K(this.e.c.x+(a.a.x*this.g.x+a.b.x*this.g.y),this.e.c.y+(a.a.y*this.g.x+a.b.y*this.g.y))},Qf:function(){return new K(this.ja.c.x+this.Ma.x,this.ja.c.y+this.Ma.y)},Rf:function(){return new K(this.ja.c.x+this.Na.x,this.ja.c.y+this.Na.y)},qc:function(){return new K},rc:t(0),Sf:function(){var a;a=this.i.d;var c=this.i.c.x+
(a.a.x*this.f.x+a.b.x*this.f.y)-(this.ja.c.x+this.Ma.x);a=this.i.c.y+(a.a.y*this.f.x+a.b.y*this.f.y)-(this.ja.c.y+this.Ma.y);return Math.sqrt(c*c+a*a)},Tf:function(){var a;a=this.e.d;var c=this.e.c.x+(a.a.x*this.g.x+a.b.x*this.g.y)-(this.ja.c.x+this.Na.x);a=this.e.c.y+(a.a.y*this.g.x+a.b.y*this.g.y)-(this.ja.c.y+this.Na.y);return Math.sqrt(c*c+a*a)},hf:p("S"),Qb:function(){var a=this.i,c=this.e,b;b=a.d;var d=b.a.x*this.f.x+b.b.x*this.f.y,e=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;var f=b.a.x*this.g.x+
b.b.x*this.g.y;b=b.a.y*this.g.x+b.b.y*this.g.y;var g=c.c.x+f,h=c.c.y+b,i=this.ja.c.x+this.Na.x,j=this.ja.c.y+this.Na.y;this.P.j(a.c.x+d-(this.ja.c.x+this.Ma.x),a.c.y+e-(this.ja.c.y+this.Ma.y));this.Q.j(g-i,h-j);g=yb(this.P);h=yb(this.Q);g>0.15?Q(this.P,1/g):this.P.va();h>0.15?Q(this.Q,1/h):this.Q.va();if(g<this.ee)this.Fb=this.xd=0;else{this.xd=2;this.Xc=0}if(h<this.fe)this.Gb=this.yd=0;else{this.yd=2;this.Yc=0}g=d*this.P.y-e*this.P.x;h=f*this.Q.y-b*this.Q.x;this.Ac=a.k+a.m*g*g;this.Bc=c.k+c.m*h*
h;this.Zc=this.Ac+this.S*this.S*this.Bc;this.Ac=1/this.Ac;this.Bc=1/this.Bc;this.Zc=1/this.Zc;g=(-this.Ec-this.Fb)*this.P.x;h=(-this.Ec-this.Fb)*this.P.y;i=(-this.S*this.Ec-this.Gb)*this.Q.x;j=(-this.S*this.Ec-this.Gb)*this.Q.y;a.h.x+=a.k*g;a.h.y+=a.k*h;a.l+=a.m*(d*h-e*g);c.h.x+=c.k*i;c.h.y+=c.k*j;c.l+=c.m*(f*j-b*i)},rb:function(){var a=this.i,c=this.e,b;b=a.d;var d=b.a.x*this.f.x+b.b.x*this.f.y,e=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;var f=b.a.x*this.g.x+b.b.x*this.g.y;b=b.a.y*this.g.x+b.b.y*this.g.y;
var g,h,i,j;g=a.h.x+-a.l*e;h=a.h.y+a.l*d;i=c.h.x+-c.l*b;j=c.h.y+c.l*f;g=-(this.P.x*g+this.P.y*h)-this.S*(this.Q.x*i+this.Q.y*j);j=-this.Zc*g;this.Ec+=j;g=-j*this.P.x;h=-j*this.P.y;i=-this.S*j*this.Q.x;j=-this.S*j*this.Q.y;a.h.x+=a.k*g;a.h.y+=a.k*h;a.l+=a.m*(d*h-e*g);c.h.x+=c.k*i;c.h.y+=c.k*j;c.l+=c.m*(f*j-b*i);if(this.xd==2){g=a.h.x+-a.l*e;h=a.h.y+a.l*d;g=-(this.P.x*g+this.P.y*h);j=-this.Ac*g;g=this.Fb;this.Fb=M(0,this.Fb+j);j=this.Fb-g;g=-j*this.P.x;h=-j*this.P.y;a.h.x+=a.k*g;a.h.y+=a.k*h;a.l+=a.m*
(d*h-e*g)}if(this.yd==2){i=c.h.x+-c.l*b;j=c.h.y+c.l*f;g=-(this.Q.x*i+this.Q.y*j);j=-this.Bc*g;g=this.Gb;this.Gb=M(0,this.Gb+j);j=this.Gb-g;i=-j*this.Q.x;j=-j*this.Q.y;c.h.x+=c.k*i;c.h.y+=c.k*j;c.l+=c.m*(f*j-b*i)}},qb:function(){var a=this.i,c=this.e,b,d=this.ja.c.x+this.Ma.x,e=this.ja.c.y+this.Ma.y,f=this.ja.c.x+this.Na.x,g=this.ja.c.y+this.Na.y,h,i,j,k,l,m,o,q=0;b=a.d;h=b.a.x*this.f.x+b.b.x*this.f.y;i=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;j=b.a.x*this.g.x+b.b.x*this.g.y;b=b.a.y*this.g.x+b.b.y*this.g.y;
k=a.c.x+h;l=a.c.y+i;m=c.c.x+j;o=c.c.y+b;this.P.j(k-d,l-e);this.Q.j(m-f,o-g);k=yb(this.P);l=yb(this.Q);k>0.15?Q(this.P,1/k):this.P.va();l>0.15?Q(this.Q,1/l):this.Q.va();k=this.Xb-k-this.S*l;q=M(q,Math.abs(k));k=N(k,-6,6);o=-this.Zc*k;k=-o*this.P.x;l=-o*this.P.y;m=-this.S*o*this.Q.x;o=-this.S*o*this.Q.y;a.c.x+=a.k*k;a.c.y+=a.k*l;a.n+=a.m*(h*l-i*k);c.c.x+=c.k*m;c.c.y+=c.k*o;c.n+=c.m*(j*o-b*m);a.d.j(a.n);c.d.j(c.n);if(this.xd==2){b=a.d;h=b.a.x*this.f.x+b.b.x*this.f.y;i=b.a.y*this.f.x+b.b.y*this.f.y;k=
a.c.x+h;l=a.c.y+i;this.P.j(k-d,l-e);k=yb(this.P);if(k>0.15){this.P.x*=1/k;this.P.y*=1/k}else this.P.va();k=this.ee-k;q=M(q,-k);k=N(k+0.15,-6,0);o=-this.Ac*k;d=this.Xc;this.Xc=M(0,this.Xc+o);o=this.Xc-d;k=-o*this.P.x;l=-o*this.P.y;a.c.x+=a.k*k;a.c.y+=a.k*l;a.n+=a.m*(h*l-i*k);a.d.j(a.n)}if(this.yd==2){b=c.d;j=b.a.x*this.g.x+b.b.x*this.g.y;b=b.a.y*this.g.x+b.b.y*this.g.y;m=c.c.x+j;o=c.c.y+b;this.Q.j(m-f,o-g);l=yb(this.Q);if(l>0.15){this.Q.x*=1/l;this.Q.y*=1/l}else this.Q.va();k=this.fe-l;q=M(q,-k);k=
N(k+0.15,-6,0);o=-this.Bc*k;d=this.Yc;this.Yc=M(0,this.Yc+o);o=this.Yc-d;m=-o*this.Q.x;o=-o*this.Q.y;c.c.x+=c.k*m;c.c.y+=c.k*o;c.n+=c.m*(j*o-b*m);c.d.j(c.n)}return q<0.15},ja:null,Ma:new K,Na:new K,f:new K,g:new K,P:new K,Q:new K,Xb:null,S:null,ee:null,fe:null,Zc:null,Ac:null,Bc:null,Ec:null,Fb:null,Gb:null,Xc:null,Yc:null,xd:0,yd:0});var bd=30;function cd(a){this.o=new V;this.q=new V;this.oa=a.type;this.p=this.F=null;this.i=a.Y;this.e=a.ba;this.ub=a.gb;this.ob=false;this.eb=a.C;this.Ma=new K;this.Na=new K;this.f=new K;this.g=new K;this.V=new Xc;this.hc=this.Kb=this.gc=this.Jb=null;var c,b;this.Ke=a.kd.i;this.i=a.kd.e;if(a.kd.oa==1){this.Jb=a.kd;O(this.Ma,this.Jb.f);O(this.f,this.Jb.g);c=this.Jb.cd()}else{this.gc=a.kd;O(this.Ma,this.gc.f);O(this.f,this.gc.g);c=this.gc.dd()}this.Le=a.ld.i;this.e=a.ld.e;if(a.ld.oa==1){this.Kb=a.ld;O(this.Na,
this.Kb.f);O(this.g,this.Kb.g);b=this.Kb.cd()}else{this.hc=a.ld;O(this.Na,this.hc.f);O(this.g,this.hc.g);b=this.hc.dd()}this.S=a.Pf;this.Xb=c+this.S*b;this.I=0}E(cd.prototype,Uc.prototype);
E(cd.prototype,{Ob:function(){var a=this.i.d;return new K(this.i.c.x+(a.a.x*this.f.x+a.b.x*this.f.y),this.i.c.y+(a.a.y*this.f.x+a.b.y*this.f.y))},Pb:function(){var a=this.e.d;return new K(this.e.c.x+(a.a.x*this.g.x+a.b.x*this.g.y),this.e.c.y+(a.a.y*this.g.x+a.b.y*this.g.y))},qc:function(){return new K},rc:t(0),hf:p("S"),Qb:function(){var a=this.Ke,c=this.Le,b=this.i,d=this.e,e,f,g,h=0;this.V.va();if(this.Jb){this.V.ga=-1;h+=b.m}else{g=a.d;e=this.gc.X;a=g.a.x*e.x+g.b.x*e.y;e=g.a.y*e.x+g.b.y*e.y;g=
b.d;f=g.a.x*this.f.x+g.b.x*this.f.y;g=g.a.y*this.f.x+g.b.y*this.f.y;f=f*e-g*a;this.V.N.j(-a,-e);this.V.ga=-f;h+=b.k+b.m*f*f}if(this.Kb){this.V.ha=-this.S;h+=this.S*this.S*d.m}else{g=c.d;e=this.hc.X;a=g.a.x*e.x+g.b.x*e.y;e=g.a.y*e.x+g.b.y*e.y;g=d.d;f=g.a.x*this.g.x+g.b.x*this.g.y;g=g.a.y*this.g.x+g.b.y*this.g.y;f=f*e-g*a;this.V.O.j(-this.S*a,-this.S*e);this.V.ha=-this.S*f;h+=this.S*this.S*(d.k+d.m*f*f)}this.Ha=1/h;b.h.x+=b.k*this.I*this.V.N.x;b.h.y+=b.k*this.I*this.V.N.y;b.l+=b.m*this.I*this.V.ga;
d.h.x+=d.k*this.I*this.V.O.x;d.h.y+=d.k*this.I*this.V.O.y;d.l+=d.m*this.I*this.V.ha},rb:function(){var a=this.i,c=this.e,b=-this.Ha*this.V.ad(a.h,a.l,c.h,c.l);this.I+=b;a.h.x+=a.k*b*this.V.N.x;a.h.y+=a.k*b*this.V.N.y;a.l+=a.m*b*this.V.ga;c.h.x+=c.k*b*this.V.O.x;c.h.y+=c.k*b*this.V.O.y;c.l+=c.m*b*this.V.ha},qb:function(){var a=this.i,c=this.e,b=-this.Ha*(this.Xb-((this.Jb?this.Jb.cd():this.gc.dd())+this.S*(this.Kb?this.Kb.cd():this.hc.dd())));a.c.x+=a.k*b*this.V.N.x;a.c.y+=a.k*b*this.V.N.y;a.n+=a.m*
b*this.V.ga;c.c.x+=c.k*b*this.V.O.x;c.c.y+=c.k*b*this.V.O.y;c.n+=c.m*b*this.V.ha;a.d.j(a.n);c.d.j(c.n);return true},Ke:null,Le:null,Jb:null,gc:null,Kb:null,hc:null,Ma:new K,Na:new K,f:new K,g:new K,V:new Xc,Xb:null,S:null,Ha:null,I:null});function dd(a,c,b){this.Dd=new Ab;this.yc=new ec(this);this.ce=null;this.$f=jc;this.Z=this.da=this.nb=null;this.bb=this.vb=this.Ea=0;this.Uc=null;this.Ie=b;this.Jf=c;this.yc.W=this;this.Ta=new wc(a,this.yc);this.ac=W(this,new Y)}function W(a,c){var b=new Kc(c,a);b.F=null;if(b.p=a.nb)a.nb.F=b;a.nb=b;++a.Ea;return b}
function ed(a,c){var b;b=null;switch(c.type){case 3:b=new $c(c);break;case 5:b=new Zc(c);break;case 2:b=new Yc(c);break;case 1:b=new Vc(c);break;case 4:b=new ad(c);break;case 6:b=new cd(c);break;default:break}b=b;b.F=null;if(b.p=a.Z)a.Z.F=b;a.Z=b;++a.bb;b.o.Wb=b;b.o.xa=b.e;b.o.r=null;if(b.o.next=b.i.Z)b.i.Z.r=b.o;b.i.Z=b.o;b.q.Wb=b;b.q.xa=b.i;b.q.r=null;if(b.q.next=b.e.Z)b.e.Z.r=b.q;b.e.Z=b.q;if(c.gb==false)for(var d=(c.Y.jc<c.ba.jc?c.Y:c.ba).Lb;d;d=d.p)d.ed(a.Ta);return b}u=dd.prototype;
u.Pc=function(a,c,b){var d=[];a=this.Ta.nf(a,d,b);for(b=0;b<a;++b)c[b]=d[b];return a};u.Je=null;u.Mf=null;u.Ta=null;u.nb=null;u.Z=null;u.Ea=0;u.vb=0;u.bb=0;u.Uc=null;u.Ie=null;u.ac=null;u.ce=null;u.ie=0;var Sc=1,Qc=1;function Y(){this.Kc=[];this.C=null;for(var a=0;a<64;a++)this.Kc[a]=null;this.position=new K(0,0);this.rotation=0;this.Df=new K(0,0);this.zf=this.Cf=this.Qd=0;this.yf=true;this.Of=this.Bf=false}function Z(a,c){for(var b=0;b<64;++b)if(a.Kc[b]==null){a.Kc[b]=c;break}};function fd(){this.type=-1;this.C=null;this.Aa=new K(0,0);this.tb=0;this.$a=0.2;this.za=this.Ra=0;this.Wa=1;this.Za=65535;this.Vb=0}u=fd.prototype;u.type=0;u.C=null;u.Aa=null;u.tb=null;u.$a=null;u.Ra=null;u.za=null;u.Wa=0;u.Za=0;u.Vb=0;function gd(){this.type=-1;this.C=null;this.Aa=new K(0,0);this.tb=0;this.$a=0.2;this.za=this.Ra=0;this.Wa=1;this.Za=65535;this.Vb=0;this.type=1;this.U=new K(1,1)}C(gd,fd);function hd(){this.type=-1;this.C=null;this.Aa=new K(0,0);this.tb=0;this.$a=0.2;this.za=this.Ra=0;this.Wa=1;this.Za=65535;this.Vb=0;this.type=Xb;this.yb=1}C(hd,fd);function id(a){var c=new gd,b=new Y;Z(b,c);c.za=1;c.$a=0.5;c.U.j(10,10);for(c=0;c<8;c++){b.position.j(250-Math.random()*2-1,245-c*22);W(a,b)}for(c=0;c<8;c++){b.position.j(150-Math.random()*5+c,245-c*22);W(a,b)}for(c=0;c<8;c++){b.position.j(350+Math.random()*5-c,245-c*22);W(a,b)}};function jd(){this.type=0;this.ba=this.Y=this.C=null;this.gb=false}jd.prototype={type:0,C:null,Y:null,ba:null,gb:null};function kd(){this.type=0;this.ba=this.Y=this.C=null;this.gb=false;this.type=1;this.pa=new K(0,0);this.kc=this.ke=this.Ye=this.Ge=0;this.Bb=this.Qc=false}E(kd.prototype,jd.prototype);E(kd.prototype,{pa:null,Ge:null,Ye:null,ke:null,kc:null,Qc:null,Bb:null});function ld(a){var c,b=a.ac,d=new kd;for(c=0;c<4;c++){d.pa.j(250+40*c,50);d.Y=b;d.ba=md(a,250+40*c,200);ed(a,d)}d.pa.j(210,50);d.Y=b;d.ba=md(a,60,50);ed(a,d)};function nd(){this.type=-1;this.C=null;this.Aa=new K(0,0);this.tb=0;this.$a=0.2;this.za=this.Ra=0;this.Wa=1;this.Za=65535;this.Vb=0;this.Nb=Array(8);this.type=Wb;for(var a=this.Lc=0;a<8;a++)this.Nb[a]=new K}C(nd,fd);function od(a){var c=new hd;c.yb=50;c.Ra=0.2;var b=new Y;Z(b,c);b.position.j(350,100);W(a,b);pd(a,100,100,[[0,0],[10,30],[-10,30]],true);pd(a,150,150,[[0,0],[10,30],[-10,30]],true);b=qd(a,150,100,20,20,false);c=new kd;c.Y=b;c.ba=a.ac;c.pa=b.c;ed(a,c);b=pd(a,300,200,[[0,0],[100,30],[-100,30]]);c.Y=b;c.pa=b.c;ed(a,c)}function pd(a,c,b,d,e){var f=new nd;if(!e)f.za=1;f.Lc=d.length;for(e=0;e<d.length;e++)f.Nb[e].j(d[e][0],d[e][1]);d=new Y;Z(d,f);d.position.j(c,b);return W(a,d)};function rd(){this.type=0;this.ba=this.Y=this.C=null;this.gb=false;this.type=2;this.pa=new K(0,0);this.axis=new K(0,0);this.kc=this.je=this.Ze=this.He=0;this.Bb=this.Qc=false}E(rd.prototype,jd.prototype);E(rd.prototype,{pa:null,axis:null,He:null,Ze:null,je:null,kc:null,Qc:null,Bb:null});function sd(a){var c=a.ac,b=new gd;b.U.j(5,25);b.za=1;var d=new Y;Z(d,b);var e=new kd,f=c;d.position.j(250,210);var g=W(a,d);e.pa.j(250,235);e.Y=f;e.ba=g;e.kc=-1*Math.PI;e.ke=5E8;e.Bb=true;ed(a,e);f=g;b.U.j(5,45);d.position.j(250,140);g=W(a,d);e.pa.j(250,185);e.Y=f;e.ba=g;e.Bb=false;ed(a,e);f=g;b.U.j(20,20);d.position.j(250,95);g=W(a,d);e.pa.j(250,95);e.Y=f;e.ba=g;ed(a,e);e=new rd;e.pa.j(250,95);e.Y=c;e.ba=g;e.axis.j(0,1);e.kc=0;e.je=1E5;e.Bb=true;ed(a,e);b.za=2;d.position.j(250,10);W(a,d)};function td(a){var c;for(c=1;c<=4;c++){var b=a,d=150+3*Math.random(),e=40*c,f=[[-30,0],[30,0],[0,15]],g=new nd;g.Lc=f.length;var h=void 0;for(h=0;h<f.length;h++)g.Nb[h].j(f[h][0],f[h][1]);g.tb=0.3524*Math.PI;var i=new T(g.tb);g.Aa=I(i,new K(30,0));g.za=1;i=new nd;i.Lc=f.length;for(h=0;h<f.length;h++)i.Nb[h].j(f[h][0],f[h][1]);i.tb=-0.3524*Math.PI;f=new T(i.tb);i.Aa=I(f,new K(-30,0));f=new Y;Z(f,g);Z(f,i);f.position.j(d,e);W(b,f)}for(c=1;c<=4;c++){b=a;d=350+3*Math.random();e=45*c;g=new hd;g.za=1;g.yb=
20;g.Ra=0.2;g.Aa.j(-20,0);i=new hd;i.za=1;i.yb=20;i.Ra=0.2;i.Aa.j(20,0);f=new Y;Z(f,g);Z(f,i);f.position.j(d,e);W(b,f)}};function ud(a){this.dc=0;this.Db=[];this.Db.push(td);this.Db.push(sd);this.Db.push(id);this.Db.push(ld);this.Db.push(od);this.Be=a.getContext("2d");this.Hf=a.width;this.Gf=a.height;var c=this;ob(window,"click",function(b){Math.random()<0.5?md(c.W,b.offsetX,b.offsetY,10):qd(c.W,b.offsetX,b.offsetY,10,10,false)});ob(window,"contextmenu",function(b){b.preventDefault&&b.preventDefault();vd(c,-1);return false});vd(this);this.ye()}
function vd(a,c){c||(c=0);var b=new zb;b.G.j(-1000,-1000);b.B.j(1E3,1E3);b=new dd(b,new K(0,300),true);var d=new gd;d.U.j(1E3,50);d.Ra=0.2;var e=new Y;Z(e,d);e.position.j(-500,340);W(b,e);qd(b,0,125,10,250);qd(b,500,125,10,250);a.W=b;a.dc+=c;a.dc%=a.Db.length;if(!isNaN(a.dc)){if(a.dc<0)a.dc=a.Db.length+a.dc;a.Db[a.dc](a.W)}}
ud.prototype.ye=function(){var a=this.W,c=wd,b,d;a.Dd.Xa=c;a.Dd.Yd=1;a.Dd.Xd=c>0?1/c:0;a.ie=0;for(var e=a.yc,f=e.W.da;f!=null;){var g=f;f=f.p;g.z&2&&hc(e,g)}a.yc.ae=true;for(e=a.Uc;e;){f=e;e=e.p;for(g=f.Z;g;){d=g;g=g.next;b=a;d=d.Wb;var h=d.ub;if(d.F)d.F.p=d.p;if(d.p)d.p.F=d.F;if(d==b.Z)b.Z=d.p;var i=d.i,j=d.e;ic(i);ic(j);if(d.o.r)d.o.r.next=d.o.next;if(d.o.next)d.o.next.r=d.o.r;if(d.o==i.Z)i.Z=d.o.next;d.o.r=null;d.o.next=null;if(d.q.r)d.q.r.next=d.q.next;if(d.q.next)d.q.next.r=d.q.r;if(d.q==j.Z)j.Z=
d.q.next;d.q.r=null;d.q.next=null;--b.bb;if(h==false)for(d=(i.jc<j.jc?i:j).Lb;d;d=d.p)d.ed(b.Ta)}for(f=f.Lb;f;){g=f;f=f.p;g.ca!=65535&&g.t.W.Ta.nc(g.ca)}}a.Uc=null;a.yc.ae=false;for(e=a.yc.W.da;e!=null;e=e.p)if(!((e.L.t.z&U)==U&&(e.M.t.z&U)==U)){f=e.Ga;e.Nc();g=e.Ga;if(f==0&&g>0){f=e.L.t;g=e.M.t;b=e.o;d=e.q;b.La=e;b.xa=g;b.r=null;b.next=f.da;if(b.next!=null)b.next.r=e.o;f.da=e.o;d.La=e;d.xa=f;d.r=null;d.next=g.da;if(d.next!=null)d.next.r=d;g.da=d}else if(f>0&&g==0){f=e.L.t;g=e.M.t;b=e.o;d=e.q;if(b.r)b.r.next=
b.next;if(b.next)b.next.r=b.r;if(b==f.da)f.da=b.next;b.r=null;b.next=null;if(d.r)d.r.next=d.next;if(d.next)d.next.r=d.r;if(d==g.da)g.da=d.next;d.r=null;d.next=null}}e=new Rc(a.Ea,a.vb,a.bb,a.Mf);for(b=a.nb;b!=null;b=b.p)b.z&=-5;for(f=a.da;f!=null;f=f.p)f.z&=-2;for(f=a.Z;f!=null;f=f.p)f.ob=false;f=Array(a.Ea);for(g=0;g<a.Ea;g++)f[g]=null;for(g=a.nb;g!=null;g=g.p)if(!(g.z&(fc|4|U|Mc))){e.df();h=0;f[h++]=g;for(g.z|=4;h>0;){b=f[--h];e.$e(b);b.z&=~U;if(!(b.z&fc)){for(i=b.da;i!=null;i=i.next)if(!(i.La.z&
1)){e.af(i.La);i.La.z|=1;d=i.xa;if(!(d.z&4)){f[h++]=d;d.z|=4}}for(b=b.Z;b!=null;b=b.next)if(b.Wb.ob!=true){e.bf(b.Wb);b.Wb.ob=true;d=b.xa;if(!(d.z&4)){f[h++]=d;d.z|=4}}}}e.Od(a.Dd,a.Jf);a.ie=M(a.ie,Tc);a.Ie&&e.sf(c);for(d=0;d<e.Ea;++d){b=e.mb[d];if(b.z&fc)b.z&=-5;if((b.z&Mc)==Mc&&a.ce)if(a.ce.Wf(b)==1){h=a;b=b;if(!(b.z&32)){if(b.F)b.F.p=b.p;if(b.p)b.p.F=b.F;if(b==h.nb)h.nb=b.p;b.z|=32;--h.Ea;b.F=null;b.p=h.Uc;h.Uc=b}e.mb[d]=null}}}a.Ta.Mc();this.Be.clearRect(0,0,this.Hf,this.Gf);c=this.W;a=this.Be;
for(e=c.Z;e;e=e.p){f=c;g=e;b=a;d=g.i;h=g.e;i=d.c;j=h.c;var k=g.Ob(),l=g.Pb();b.strokeStyle="#00eeee";b.beginPath();switch(g.oa){case 3:b.moveTo(k.x,k.y);b.lineTo(l.x,l.y);break;case 4:break;default:if(d==f.ac){b.moveTo(k.x,k.y);b.lineTo(j.x,j.y)}else if(h==f.ac){b.moveTo(k.x,k.y);b.lineTo(i.x,i.y)}else{b.moveTo(i.x,i.y);b.lineTo(k.x,k.y);b.lineTo(j.x,j.y);b.lineTo(l.x,l.y)}break}b.stroke()}for(c=c.nb;c;c=c.p)for(e=c.Lb;e!=null;e=e.pc()){g=e;f=a;f.strokeStyle="#ffffff";f.beginPath();switch(g.oa){case Xb:b=
g.c;d=g.ma;f.arc(g.c.x,g.c.y,g.ma,0,2*Math.PI,false);f.moveTo(b.x,b.y);g=g.d.a;g=new K(b.x+d*g.x,b.y+d*g.y);f.lineTo(g.x,g.y);break;case Wb:b=vb(g.c,I(g.d,g.v[0]));f.moveTo(b.x,b.y);for(d=0;d<g.Va;d++){h=vb(g.c,I(g.d,g.v[d]));f.lineTo(h.x,h.y)}f.lineTo(b.x,b.y);break}f.stroke()}z.setTimeout(ga(this.ye,this),xd)};function md(a,c,b,d){d||(d=20);var e=new hd;e.za=1;e.yb=d;e.Ra=1;e.$a=0;d=new Y;Z(d,e);d.position.j(c,b);return W(a,d)}
function qd(a,c,b,d,e,f){if(typeof f=="undefined")f=true;var g=new gd;if(!f)g.za=1;g.U.j(d,e);d=new Y;Z(d,g);d.position.j(c,b);return W(a,d)}var wd=1/60,xd=wd*1E3;$(window).load(function(){new ud(document.getElementsByTagName("canvas")[0])});
